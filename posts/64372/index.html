<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="dark"><head><meta charset="UTF-8"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@500&display=swap" rel="stylesheet"><link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png"><link rel="icon" href="/img/fluid.png"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"><meta name="theme-color" content="#2f4154"><meta name="author" content="SeulQxQ"><meta name="keywords" content="æ€»ç»“ï¼Œå­¦ä¹ ï¼Œè¿›æ­¥ï¼"><meta name="description" content="1.è§†å›¾å˜æ¢ Viewing Transformation è§†å›¾å˜æ¢çš„ç›®çš„æ˜¯å°†ä¸‰ç»´ç©ºé—´ä¸­çš„ç‚¹\((x, y, z)\)(åœ¨ä¸–ç•Œåæ ‡ç³»ä¸­)æ˜ å°„åˆ°å¹³é¢å›¾åƒä¸­(äºŒç»´åæ ‡ç³»)ï¼Œä»¥åƒç´ ä¸ºåŸºæœ¬è¡¨ç¤ºå•ä½ã€‚ç±»ä¼¼é€šè¿‡ç›¸æœºæ‹ç…§å¾—åˆ°ä¸€å¼ ç›¸ç‰‡ã€‚è§†å›¾å˜æ¢ä¸»è¦åŒ…æ‹¬ä¸‰ä¸ªæ­¥éª¤ï¼š   ç›¸æœºå˜æ¢(camera&#x2F;view transformation) æŠ•å½±å˜æ¢(projection transformation) è§†"><meta property="og:type" content="article"><meta property="og:title" content="è§†å›¾å˜æ¢ Viewing transformation"><meta property="og:url" content="http://seulqxq.top/posts/64372/index.html"><meta property="og:site_name" content="Seul"><meta property="og:description" content="1.è§†å›¾å˜æ¢ Viewing Transformation è§†å›¾å˜æ¢çš„ç›®çš„æ˜¯å°†ä¸‰ç»´ç©ºé—´ä¸­çš„ç‚¹\((x, y, z)\)(åœ¨ä¸–ç•Œåæ ‡ç³»ä¸­)æ˜ å°„åˆ°å¹³é¢å›¾åƒä¸­(äºŒç»´åæ ‡ç³»)ï¼Œä»¥åƒç´ ä¸ºåŸºæœ¬è¡¨ç¤ºå•ä½ã€‚ç±»ä¼¼é€šè¿‡ç›¸æœºæ‹ç…§å¾—åˆ°ä¸€å¼ ç›¸ç‰‡ã€‚è§†å›¾å˜æ¢ä¸»è¦åŒ…æ‹¬ä¸‰ä¸ªæ­¥éª¤ï¼š   ç›¸æœºå˜æ¢(camera&#x2F;view transformation) æŠ•å½±å˜æ¢(projection transformation) è§†"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="http://seulqxq.top/img/index/3.jpg"><meta property="article:published_time" content="2023-05-04T09:43:05.000Z"><meta property="article:modified_time" content="2023-09-04T07:53:53.073Z"><meta property="article:author" content="SeulQxQ"><meta property="article:tag" content="å›¾å½¢å­¦"><meta property="article:tag" content="NeRF"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="http://seulqxq.top/img/index/3.jpg"><title>è§†å›¾å˜æ¢ Viewing transformation - Seul</title><link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.3.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/3.0.1/github-markdown.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css"><link rel="stylesheet" href="/css/main.css"><link id="highlight-css" rel="stylesheet" href="/css/highlight.css"><link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/bynotes/texiao/source/css/shubiao.css"><link rel="stylesheet" href="/css/cloudedGlass.css"><link rel="stylesheet" href="/css/selection.css"><script id="fluid-configs">var Fluid=window.Fluid||{};Fluid.ctx=Object.assign({},Fluid.ctx);var CONFIG={hostname:"seulqxq.top",root:"/",version:"1.9.4",typing:{enable:!0,typeSpeed:50,cursorChar:"_",loop:!1,scope:[]},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"left",visible:"hover",icon:"â¡"},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},code_language:{enable:!0,default:"TEXT"},copy_btn:!0,image_caption:{enable:!0},image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,placement:"right",headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:3},lazyload:{enable:!0,loading_img:"/img/loading.gif",onlypost:!1,offset_factor:2},web_analytics:{enable:!1,follow_dnt:!0,baidu:null,google:null,gtag:null,tencent:{sid:null,cid:null},woyaola:null,cnzz:null,leancloud:{app_id:null,app_key:null,server_url:null,path:"window.location.pathname",ignore_local:!1}},search_path:"/local-search.xml"};if(CONFIG.web_analytics.follow_dnt){var dntVal=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack;Fluid.ctx.dnt=dntVal&&(dntVal.startsWith("1")||dntVal.startsWith("yes")||dntVal.startsWith("on"))}</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><header><div class="header-inner" style="height:90vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/"><strong>SeulQxQ&#39;s Blog</strong> </a><button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/"><i class="iconfont icon-home-fill"></i> <span>é¦–é¡µ</span></a></li><li class="nav-item"><a class="nav-link" href="/archives/"><i class="iconfont icon-archive-fill"></i> <span>å½’æ¡£</span></a></li><li class="nav-item"><a class="nav-link" href="/categories/"><i class="iconfont icon-category-fill"></i> <span>åˆ†ç±»</span></a></li><li class="nav-item"><a class="nav-link" href="/tags/"><i class="iconfont icon-tags-fill"></i> <span>æ ‡ç­¾</span></a></li><li class="nav-item"><a class="nav-link" href="/about/"><i class="iconfont icon-user-fill"></i> <span>å…³äº</span></a></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search"><i class="iconfont icon-search"></i></a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle"><i class="iconfont icon-dark" id="color-toggle-icon"></i></a></li></ul></div></div></nav><div id="banner" class="banner" parallax="true" style="background:url('/img/2.jpg') no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.2)"><div class="banner-text text-center fade-in-up"><div class="h2"><span id="subtitle" data-typed-text="è§†å›¾å˜æ¢ Viewing transformation"></span></div><div class="mt-3"><span class="post-meta mr-2"><i class="iconfont icon-author" aria-hidden="true"></i> SeulQxQ </span><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2023-05-04 17:43" pubdate>2023å¹´5æœˆ4æ—¥ ä¸‹åˆ</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 4.7k å­— </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 40 åˆ†é’Ÿ</span></div></div><div class="scroll-down-bar"><i class="iconfont icon-arrowdown"></i></div></div></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="side-col d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div id="board"><article class="post-content mx-auto"><h1 style="display:none">è§†å›¾å˜æ¢ Viewing transformation</h1><div class="markdown-body"><h3 id="è§†å›¾å˜æ¢-viewing-transformation">1.è§†å›¾å˜æ¢ Viewing Transformation</h3><p>è§†å›¾å˜æ¢çš„ç›®çš„æ˜¯å°†ä¸‰ç»´ç©ºé—´ä¸­çš„ç‚¹<span class="math inline">\((x, y, z)\)</span>(åœ¨ä¸–ç•Œåæ ‡ç³»ä¸­)æ˜ å°„åˆ°å¹³é¢å›¾åƒä¸­(äºŒç»´åæ ‡ç³»)ï¼Œä»¥åƒç´ ä¸ºåŸºæœ¬è¡¨ç¤ºå•ä½ã€‚ç±»ä¼¼é€šè¿‡ç›¸æœºæ‹ç…§å¾—åˆ°ä¸€å¼ ç›¸ç‰‡ã€‚è§†å›¾å˜æ¢ä¸»è¦åŒ…æ‹¬ä¸‰ä¸ªæ­¥éª¤ï¼š</p><blockquote><ul><li>ç›¸æœºå˜æ¢(camera/view transformation)</li><li>æŠ•å½±å˜æ¢(projection transformation)</li><li>è§†å£å˜æ¢(viewport transformation)</li></ul></blockquote><figure><img src="6.png" srcset="/img/loading.gif" lazyload alt="åæ ‡ç³»å®šä¹‰"><figcaption aria-hidden="true">åæ ‡ç³»å®šä¹‰</figcaption></figure><h3 id="ç›¸æœºå˜æ¢-camera-transformation">2.ç›¸æœºå˜æ¢ Camera Transformation</h3><figure><img src="1.jpg?100Ã—100" srcset="/img/loading.gif" lazyload alt="ç›¸æœºåæ ‡ç³»ç§»åŠ¨"><figcaption aria-hidden="true">ç›¸æœºåæ ‡ç³»ç§»åŠ¨</figcaption></figure><p>ç›¸æœºå˜æ¢çš„ç›®çš„æ˜¯å¾—åˆ°æ‰€æœ‰å¯æ˜¯ç‰©ä½“ä¸ç›¸æœºçš„ç›¸å¯¹ä½ç½®ï¼Œé€šå¸¸åŒ…æ‹¬å¹³ç§»ã€æ—‹è½¬ã€ç¼©æ”¾ã€‚</p><p>è§„å®šç›¸æœºæ‹æ‘„æ–¹å‘æœå‘-Zï¼Œç›¸æœºçš„ä½ç½®ä½äºeï¼Œç›¸æœºçš„æ­£ä¸Šæ–¹ç”¨å‘é‡tæ¥è¡¨ç¤ºï¼Œç›¸æœºçš„æœå‘ç”¨gè¡¨ç¤ºï¼Œ<span class="math inline">\(\overrightarrow{e}=(x_e, y_e, z_e)\)</span>ã€‚é¦–å…ˆå°†ç›¸æœºç‚¹å¹³ç§»è‡³ä¸–ç•Œåæ ‡åŸç‚¹ï¼Œå¹³ç§»çŸ©é˜µä¸ºï¼š <span class="math display">\[ T_{\text {view }}=\left[\begin{array}{cccc} 1 &amp; 0 &amp; 0 &amp; -x_{e} \\ 0 &amp; 1 &amp; 0 &amp; -y_{e} \\ 0 &amp; 0 &amp; 1 &amp; -z_{e} \\ 0 &amp; 0 &amp; 0 &amp; 1 \end{array}\right] \]</span> ç„¶åï¼Œå¯¹ç›¸æœºåæ ‡è¿›è¡Œæ—‹è½¬å˜æ¢ï¼Œä½¿å…¶ä¸ä¸–ç•Œåæ ‡ç³»é‡åˆã€‚éœ€è¦å°†ç›¸æœºæœå‘gæ—‹è½¬åˆ°-Zè½´ä¸Šï¼Œtæ—‹è½¬åˆ°Yè½´ä¸Šï¼Œå†é€šè¿‡gå‰ä¹˜tçš„æ–¹å‘æ—‹è½¬åˆ°Xã€‚ç„¶è€Œï¼Œè¿™ä¸ªæ—‹è½¬å¯¹åº”çš„æ—‹è½¬çŸ©é˜µå¹¶ä¸å®¹æ˜“å†™å‡ºï¼Œä½†æ˜¯å¦‚æœå°†Zæ—‹è½¬åˆ°-gï¼Œå°†Yæ—‹è½¬åˆ°tï¼Œå°†Xæ—‹è½¬åˆ°gå‰ç§¯tçš„æ–¹å‘ï¼Œç›´æ¥å–æ—‹è½¬çŸ©é˜µçš„é€†çŸ©é˜µ<span class="math inline">\(R^{-1}=(u,v,w)\)</span>å³å¯<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="[æ—‹è½¬çŸ©é˜µ(Rotate Matrix)çš„æ€§è´¨åˆ†æ](https://www.cnblogs.com/caster99/p/4703033.html)">[1]</span></a></sup>ï¼Œå…¶ä¸­<span class="math inline">\(u=\hat{g} \times \hat{t},v=\hat{t},w = -\hat{g}\)</span>ï¼Œå› æ­¤æ—‹è½¬çŸ©é˜µçš„é€†çŸ©é˜µå’Œæ—‹è½¬çŸ©é˜µå¯ä»¥å†™æˆï¼š <span class="math display">\[ R_{\text {view }}^{-1}=\left[\begin{array}{cccc} x_{\hat{g} \times \hat{t}} &amp; x_{t} &amp; x_{-g} &amp; 0 \\ y_{\hat{g} \times \hat{t}} &amp; y_{t} &amp; y_{-g} &amp; 0 \\ z_{\hat{g} \times \hat{t}} &amp; z_{t} &amp; z_{-g} &amp; 0 \\ 0 &amp; 0 &amp; 0 &amp; 1 \end{array}\right] \quad \Rightarrow \quad R_{\text {view }}=\left[\begin{array}{cccc} x_{\hat{g} \times \hat{t}} &amp; y_{\hat{g} \times \hat{t}} &amp; z_{\hat{g} \times \hat{t}} &amp; 0 \\ x_{t} &amp; y_{t} &amp; z_{t} &amp; 0 \\ x_{-g} &amp; y_{-g} &amp; z_{-g} &amp; 0 \\ 0 &amp; 0 &amp; 0 &amp; 1 \end{array}\right] \]</span> æ‰€ä»¥æœ€ç»ˆçš„ç›¸æœºå˜æ¢çŸ©é˜µä¸ºï¼š<span class="math inline">\(M_{\text {view }}=R_{\text {view }}T_{\text {view }}\)</span>ã€‚</p><blockquote><p>PS: ä»ä¸–ç•Œåæ ‡ç³»å˜æ¢åˆ°ç›¸æœºåæ ‡ç³»å±äºåˆšä½“å˜æ¢ï¼šå³ç‰©ä½“ä¸ä¼šå‘ç”Ÿå½¢å˜ï¼Œåªéœ€è¦è¿›è¡Œæ—‹è½¬å’Œå¹³ç§»ã€‚</p></blockquote><h3 id="æŠ•å½±å˜æ¢-projection-transformation">3.æŠ•å½±å˜æ¢ Projection Transformation</h3><figure><img src="3.jpg?100Ã—100" srcset="/img/loading.gif" lazyload alt="æŠ•å½±å˜æ¢"><figcaption aria-hidden="true">æŠ•å½±å˜æ¢</figcaption></figure><p>æŠ•å½±å˜æ¢çš„ç›®çš„æ˜¯å°†ç›¸æœºç©ºé—´ä¸­çš„ç‚¹æ˜ å°„åˆ°<span class="math inline">\([-1, 1]^3\)</span>çš„ç«‹æ–¹ä½“ä¸Šï¼Œå¹¶ä¸”ç›¸æœº<span class="math inline">\(e=0\)</span>çš„å°„çº¿ç©¿è¿‡é‡Œç«‹æ–¹ä½“ä¸­å¿ƒã€‚è¿™æ ·çš„ç«‹æ–¹ä½“å«åšè§„èŒƒè§†å›¾ä½“(Canonical View Volume)æˆ–è€…æ ‡å‡†åŒ–è®¾å¤‡åæ ‡ç³»(normalized device coordinates)ã€‚æŠ•å½±å˜æ¢å¯ä»¥åˆ†ä¸ºä¸¤ä¸ªæ­¥éª¤è¿›è¡Œï¼š</p><blockquote><ul><li>æ­£äº¤æŠ•å½±(orthographic projection)</li><li>é€è§†æŠ•å½±(perspection projection)</li></ul></blockquote><ol type="1"><li><p>é€è§†æŠ•å½±</p><p>é€è§†æŠ•å½±å°±æ˜¯æœ€ç±»ä¼¼äººçœ¼æ‰€çœ‹ä¸œè¥¿çš„æ–¹å¼ï¼Œéµå¾ªè¿‘å¤§è¿œå°ï¼Œé€šè¿‡æŠ•å½±åˆ°å¹³é¢æ¥è¿›è¡Œè§£é‡Šã€‚</p><figure><img src="4.png?100Ã—100" srcset="/img/loading.gif" lazyload alt="é€è§†æŠ•å½±"><figcaption aria-hidden="true">é€è§†æŠ•å½±</figcaption></figure><p>å›¾ä¸­çš„åŸç‚¹ä»£è¡¨è§†ç‚¹ï¼Œ<code>Z=-n</code>è¡¨ç¤ºè¿‘å¹³é¢(æŠ•å½±å¹³é¢)ï¼Œ<code>Z=-z</code>è¡¨ç¤ºè¿œå¹³é¢ï¼Œéœ€è¦è¿›è¡Œå‹ç¼©ã€‚åˆ©ç”¨ç›¸ä¼¼ä¸‰è§’å½¢å¯ä»¥è®¡ç®—å‡º<span class="math inline">\(y^{&#39;}=\frac{n}{z}y, x^{&#39;}=\frac{n}{z}x\)</span>ï¼Œå‡å®šé€è§†çŸ©é˜µä¸ºPï¼Œæˆ‘ä»¬è®¡ç®—é€è§†æŠ•å½±åçš„é½æ¬¡åæ ‡ã€‚ <span class="math display">\[ P\left[\begin{array}{c} x \\ y \\ z \\ 1 \end{array}\right] = \left[\begin{array}{c} nx \\ ny \\ ? \\ z \end{array}\right] \quad \Rightarrow \quad P=\left[\begin{array}{cccc} n &amp; 0 &amp; 0 &amp; 0 \\ 0 &amp; n &amp; 0 &amp; 0 \\ ? &amp; ? &amp; ? &amp; ? \\ 0 &amp; 0 &amp; 0 &amp; 1 \end{array}\right] \]</span> ä¸­é—´çš„<code>?</code>å¯ä»¥é€šè¿‡è¿œå¹³é¢<code>Z=-f</code>å’Œè¿‘å¹³é¢<code>Z=-n</code>çš„å€¼æ¥è®¡ç®—ï¼Œå½“<code>Z=-f</code>æ—¶ï¼Œå‰é¢çš„å•ç‹¬<code>?</code>ä¸º<span class="math inline">\(f^2\)</span>ï¼Œå½“<code>Z=-n</code>æ—¶ï¼Œå‰é¢çš„å•ç‹¬<code>?</code>ä¸º<span class="math inline">\(n^2\)</span>ã€‚å‡è®¾ç¬¬ä¸‰è¡Œä¸º<span class="math inline">\((0,0,A,B)\)</span>ï¼Œåˆ†åˆ«å¸¦å…¥<code>n</code>å’Œ<code>f</code>å¯ä»¥åˆ—å‡ºä¸¤ä¸ªç­‰å¼ï¼š <span class="math display">\[ \begin{array}{l} A_{n}+B=n^{2} \\ A_{f}+B=f^{2} \\ \end{array} \quad \Rightarrow \quad \begin{array}{l} A=n+f \\ B=-nf \\ \end{array} \]</span></p><p>æœ€åçš„é€è§†æŠ•å½±çš„å˜æ¢çŸ©é˜µä¸ºï¼š <span class="math display">\[ M_{persp \to -ortho} = P=\left[\begin{array}{cccc}n &amp; 0 &amp; 0 &amp; 0 \\0 &amp; n &amp; 0 &amp; 0 \\0 &amp; 0 &amp; n+f &amp; -nf \\0 &amp; 0 &amp; 0 &amp; 1\end{array}\right] \]</span> é€šè¿‡è®¡ç®—å¯çŸ¥ï¼Œè¿œå¹³é¢é€šè¿‡é€è§†æŠ•å½±çŸ©é˜µçš„å˜æ¢åï¼Œè¯¥å¹³é¢ä¼šæ²¿ç€Zè½´çš„åå‘ç§»åŠ¨ï¼Œå³è¿œç¦»è¿‘å¹³é¢ã€‚</p></li><li><p>æ­£äº¤æŠ•å½±</p><figure><img src="2.jpg?100Ã—100" srcset="/img/loading.gif" lazyload alt="æ­£äº¤æŠ•å½±"><figcaption aria-hidden="true">æ­£äº¤æŠ•å½±</figcaption></figure><p>æ­£äº¤æŠ•å½±å˜æ¢åæ ‡çš„ç›¸å¯¹ä½ç½®éƒ½ä¸ä¼šæ”¹å˜ï¼Œæ‰€æœ‰å…‰çº¿éƒ½æ˜¯å¹³è¡Œä¼ æ’­ï¼Œåªéœ€å°†ç‰©ä½“å…¨éƒ¨è½¬æ¢åˆ°<span class="math inline">\([-1,1]^3\)</span>çš„ç«‹æ–¹ä½“ä¸­ï¼Œä¸»è¦çš„æ“ä½œæœ‰å¹³ç§»å’Œæ—‹è½¬ã€‚</p><p>é€šè¿‡è®¡ç®—å¯ä»¥æ±‚å¾—ç«‹æ–¹ä½“çš„ä¸­å¿ƒç‚¹ä¸º<span class="math inline">\((x_0, y_0, z_0)\)</span>ï¼Œå…¶ä¸­<span class="math inline">\(x_0=-\frac{r+l}{2}, y_0=-\frac{t+b}{2},z_0=-\frac{n+f}{2}\)</span>ã€‚å› æ­¤å¹³ç§»çŸ©é˜µå¯ä»¥è¡¨ç¤ºä¸º: <span class="math display">\[ T=\left[\begin{array}{cccc} 1 &amp; 0 &amp; 0 &amp; -\frac{r+l}{2} \\ 0 &amp; 1 &amp; 0 &amp; -\frac{t+b}{2} \\ 0 &amp; 0 &amp; 1 &amp; -\frac{n+f}{2} \\ 0 &amp; 0 &amp; 0 &amp; 1 \end{array}\right] \]</span> æ¥ä¸‹æ¥å°±éœ€è¦æ±‚ç¼©æ”¾çŸ©é˜µï¼Œ-1åˆ°1çš„é—´è·ä¸º2ï¼Œè€Œç‰©ä½“åœ¨å„ä¸ªè½´ä¸Šçš„é—´è·åˆ†åˆ«ä¸º<span class="math inline">\(\: l-r,b-t,n-f\)</span>ï¼Œå› æ­¤ï¼Œåœ¨å„ä¸ªè½´æ–¹å‘çš„ç¼©æ”¾å› å­å¯ä»¥è¡¨ç¤ºä¸º<span class="math inline">\(S_x=\frac{2}{l-r}, S_y=\frac{2}{b-t},S_z=\frac{2}{n-f}\)</span>ã€‚æ‰€ä»¥ç¼©æ”¾çŸ©é˜µå¯ä»¥è¡¨ç¤ºä¸ºï¼š <span class="math display">\[ S=\left[\begin{array}{cccc} \frac{2}{l-r} &amp; 0 &amp; 0 &amp; 0 \\ 0 &amp; \frac{2}{b-t}&amp; 0 &amp; 0 \\ 0 &amp; 0 &amp; \frac{2}{n-f} &amp; 0 \\ 0 &amp; 0 &amp; 0 &amp; 1 \end{array}\right] \]</span> è®¡ç®—å®Œä¸¤ä¸ªçŸ©é˜µä¹‹åï¼Œå¯ä»¥çŸ¥é“æœ€ç»ˆçš„æ­£äº¤æŠ•å½±çŸ©é˜µä¸ºä¸¤ä¸ªçŸ©é˜µçš„ä¹˜ç§¯<span class="math inline">\(M_{orth}=S \times T\)</span>: <span class="math display">\[ M_{orth}=\left[\begin{array}{cccc} \frac{2}{l-r} &amp; 0 &amp; 0 &amp; 0 \\ 0 &amp; \frac{2}{b-t}&amp; 0 &amp; 0 \\ 0 &amp; 0 &amp; \frac{2}{n-f} &amp; 0 \\ 0 &amp; 0 &amp; 0 &amp; 1 \end{array}\right] \left[\begin{array}{cccc} 1 &amp; 0 &amp; 0 &amp; -\frac{r+l}{2} \\ 0 &amp; 1 &amp; 0 &amp; -\frac{t+b}{2} \\ 0 &amp; 0 &amp; 1 &amp; -\frac{n+f}{2} \\ 0 &amp; 0 &amp; 0 &amp; 1 \end{array}\right] = \left[\begin{array}{cccc} \frac{2}{l-r} &amp; 0 &amp; 0 &amp; -\frac{r+l}{2} \\ 0 &amp; \frac{2}{b-t}&amp; 0 &amp; -\frac{t+b}{2} \\ 0 &amp; 0 &amp; \frac{2}{n-f} &amp; -\frac{n+f}{2} \\ 0 &amp; 0 &amp; 0 &amp; 1 \end{array}\right] \]</span> 3.æŠ•å½±å˜æ¢çŸ©é˜µ</p><p>é€šè¿‡ä¸Šè¿°çš„ä¸¤ä¸ªçŸ©é˜µçš„ä¹˜ç§¯å¯ä»¥å¾—å‡ºæœ€ç»ˆçš„å˜æ¢çŸ©é˜µ<span class="math inline">\(M_{per} = M_{orhto}M_{persp \to -ortho}\)</span> <span class="math display">\[ M_{per} = \left[\begin{array}{cccc} \frac{2n}{l-r} &amp; 0 &amp; -\frac{l+r}{l-r} &amp; 0 \\ 0 &amp; \frac{2n}{b-t}&amp; -\frac{b+t}{b-t} &amp; 0 \\ 0 &amp; 0 &amp; \frac{n+f}{n-f} &amp; -\frac{2nf}{n-f} \\ 0 &amp; 0 &amp; 1 &amp; 0 \end{array}\right] \]</span></p><h3 id="è§†å£å˜æ¢-viewport-transformation">4.è§†å£å˜æ¢ viewport transformation</h3><p>ç»è¿‡ä¸Šè¿°å˜æ¢ï¼Œå¯ä»¥å°†ä»»æ„ä¸‰ç»´ç©ºé—´ä¸­çš„ç‰©ä½“æŠ•å½±åˆ°æ ‡å‡†ç«‹æ–¹ä½“ä¸Šï¼Œä½†æ˜¯ä¹‹åè¿˜éœ€è¦æŠ•å½±åˆ°<span class="math inline">\(2 \times2\)</span>çš„äºŒç»´å¹³é¢(æ …æ ¼å›¾åƒ)ä¸Šè¿›è¡Œæ˜¾ç¤ºï¼Œé«˜åº¦ä¸ºHï¼Œå®½åº¦ä¸ºWï¼Œå•ä½ä¸ºåƒç´ ã€‚æ‰€ä»¥ï¼Œéœ€è¦å°†æ ‡å‡†ç«‹æ–¹ä½“ä¸­çš„ä¸­çš„ç‚¹ï¼Œè½¬æ¢åˆ°å±å¹•ä¸Šï¼Œæ‰€ä»¥è¿˜æ˜¯éœ€è¦å…ˆå¹³ç§»ï¼Œå†ç¼©æ”¾ï¼Œå½¢å¼åŒæ­£äº¤çŸ©é˜µï¼š <span class="math display">\[ M_{viewport}=\left[\begin{array}{cccc} \frac{W}{2} &amp; 0 &amp; 0 &amp; \frac{W}{2} \\ 0 &amp; \frac{H}{2}&amp; 0 &amp; \frac{H}{2} \\ 0 &amp; 0 &amp; 1 &amp; 0 \\ 0 &amp; 0 &amp; 0 &amp; 1 \end{array}\right] \]</span></p><blockquote><p>æ …æ ¼å›¾åƒ(Raster Image)ï¼Œä¹Ÿç§°ä¸ºä½å›¾(Bitmap)ï¼Œæ˜¯ç”±åƒç´ é˜µåˆ—ç»„æˆçš„æ•°å­—å›¾åƒã€‚åœ¨æ …æ ¼å›¾åƒä¸­ï¼Œæ¯ä¸ªåƒç´ éƒ½åŒ…å«ä¸€ä¸ªç‰¹å®šçš„é¢œè‰²å€¼æˆ–ç°åº¦å€¼ï¼Œä»¥æè¿°å›¾åƒä¸­ç›¸åº”ä½ç½®çš„é¢œè‰²å’Œäº®åº¦ã€‚ä¸çŸ¢é‡å›¾å½¢ä¸åŒï¼Œæ …æ ¼å›¾åƒæ˜¯åƒç´ åŒ–å›¾åƒï¼Œå®ƒé€šå¸¸ä½¿ç”¨åƒç´ é˜µåˆ—æ¥è¡¨ç¤ºå›¾åƒã€‚æ¯ä¸ªåƒç´ éƒ½å…·æœ‰ä¸€ä¸ªXå’ŒYåæ ‡ï¼Œå¹¶åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªæ•°å­—å€¼æ¥è¡¨ç¤ºå…¶é¢œè‰²ä¿¡æ¯ã€‚è¿™äº›æ•°å­—å€¼é€šå¸¸ä½¿ç”¨8ä½æˆ–æ›´é«˜ä½æ·±åº¦æ¥è¡¨ç¤ºï¼Œä»¥æä¾›è¶³å¤Ÿçš„ç²¾åº¦æ¥æè¿°å›¾åƒç»†èŠ‚ã€‚</p></blockquote></li></ol><blockquote><p>PS: NeRFä¸­åªéœ€è¦è¿›è¡ŒæŠ•å½±å˜æ¢ã€‚å› ä¸ºNeRFå°†ç›¸å¯¹äºä¸–ç•Œåæ ‡çš„ç›¸æœºåæ ‡ç‚¹ä½œä¸ºMLPçš„è¾“å…¥ï¼Œå®ƒä¹Ÿæ²¡æœ‰ä½¿ç”¨è§†å£å˜æ¢ï¼Œå› ä¸ºä¿¡æ¯æ˜¯ä»å¤šå±‚æ„ŸçŸ¥å™¨(MLP)ä¸­éšå¼æŸ¥è¯¢è€Œä¸æ˜¯ä»æµ‹é‡å¯¹è±¡æ„å»ºçš„ã€‚</p></blockquote><h3 id="å‚è€ƒ">å‚è€ƒ</h3><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><a target="_blank" rel="noopener" href="https://www.cnblogs.com/caster99/p/4703033.html">æ—‹è½¬çŸ©é˜µ(Rotate Matrix)çš„æ€§è´¨åˆ†æ</a> <a href="#fnref:1" rev="footnote" class="footnote-backref">â†©ï¸</a></span></span></li><li><span id="fn:2" class="footnote-text"><span><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/144323332">è®¡ç®—æœºå›¾å½¢å­¦åŸºç¡€å˜æ¢çŸ©é˜µæ€»ç»“(ç¼©æ”¾ï¼Œæ—‹è½¬ï¼Œä½ç§»)</a> <a href="#fnref:2" rev="footnote" class="footnote-backref">â†©ï¸</a></span></span></li></ol></div></section></div><hr><div><div class="post-metas my-3"><div class="post-meta mr-3 d-flex align-items-center"><i class="iconfont icon-category"></i> <span class="category-chains"><span class="category-chain"><a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6/" class="category-chain-item">è®¡ç®—æœºå›¾å½¢å­¦</a></span></span></div><div class="post-meta"><i class="iconfont icon-tags"></i> <a href="/tags/%E5%9B%BE%E5%BD%A2%E5%AD%A6/">#å›¾å½¢å­¦</a> <a href="/tags/NeRF/">#NeRF</a></div></div><div class="license-box my-3"><div class="license-title"><div>è§†å›¾å˜æ¢ Viewing transformation</div><div>http://seulqxq.top/posts/64372/</div></div><div class="license-meta"><div class="license-meta-item"><div>ä½œè€…</div><div>SeulQxQ</div></div><div class="license-meta-item license-meta-date"><div>å‘å¸ƒäº</div><div>2023å¹´5æœˆ4æ—¥</div></div><div class="license-meta-item"><div>è®¸å¯åè®®</div><div><a target="_blank" href="https://creativecommons.org/licenses/by/4.0/"><span class="hint--top hint--rounded" aria-label="BY - ç½²å"><i class="iconfont icon-by"></i></span></a></div></div></div><div class="license-icon iconfont"></div></div><div class="post-prevnext my-3"><article class="post-prev col-6"><a href="/posts/63805/" title="ç›¸æœºå‚æ•°"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">ç›¸æœºå‚æ•°</span> <span class="visible-mobile">ä¸Šä¸€ç¯‡</span></a></article><article class="post-next col-6"><a href="/posts/39849/" title="hello-blog"><span class="hidden-mobile">hello-blog</span> <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span> <i class="iconfont icon-arrowright"></i></a></article></div></div><article id="comments" lazyload><div id="valine"></div><script type="text/javascript">Fluid.utils.loadComments("#valine",(function(){Fluid.utils.createScript("https://lib.baomitu.com/valine/1.5.1/Valine.min.js",(function(){var i=Object.assign({appId:"Qx9xEhNNylULQaxbl3lPUT12-gzGzoHsz",appKey:"bPPbrUlDDvOhU5HNAawchAXO",path:"window.location.pathname",placeholder:"ç•™ä¸‹ä½ çš„è¶³è¿¹å­ï¼Œå¦‚æœæ„¿æ„è¯ï¼Œä¹Ÿå¯ä»¥ç•™ä¸‹æ˜µç§°å’Œé‚®ç®±å“Ÿ~ ^_^",avatar:"monsterid",meta:["nick","mail","link"],requiredFields:[],pageSize:10,lang:"zh-CN",highlight:!0,recordIP:!0,serverURLs:"",emojiCDN:null,emojiMaps:null,enableQQ:!0},{el:"#valine",path:window.location.pathname});new Valine(i),Fluid.utils.waitElementVisible("#valine .vcontent",(()=>{var i="#valine .vcontent img:not(.vemoji)";Fluid.plugins.imageCaption(i),Fluid.plugins.fancyBox(i)}))}))}))</script><noscript>Please enable JavaScript to view the comments</noscript></article></article></div></div></div><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar" style="margin-left:-1rem"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i> <span>ç›®å½•</span></p><div class="toc-body" id="toc-body"></div></div></aside></div></div></div><a id="scroll-top-button" aria-label="TOP" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">å…³é”®è¯</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer><font size="17"><div class="text-center py-3"><div><span id="timeDate">è½½å…¥å¤©æ•°...</span> <span id="times">è½½å…¥æ—¶åˆ†...</span><script>var now=new Date;function createtime(){var n=new Date("05/01/2023 00:00:00");now.setTime(now.getTime()+250),days=(now-n)/1e3/60/60/24,dnum=Math.floor(days),hours=(now-n)/1e3/60/60-24*dnum,hnum=Math.floor(hours),1==String(hnum).length&&(hnum="0"+hnum),minutes=(now-n)/1e3/60-1440*dnum-60*hnum,mnum=Math.floor(minutes),1==String(mnum).length&&(mnum="0"+mnum),document.getElementById("timeDate").innerHTML="ğŸš€ for&nbsp"+dnum+"&nbspdays",document.getElementById("times").innerHTML=hnum+"&nbsphr&nbsp"+mnum+"&nbspmin&nbsp"}setInterval("createtime()",250)</script></div><div class="text-center py-1"><div><span>Copyright Â© 2023</span> <a href="https://erenspace.cool/" target="_blank" rel="nofollow noopener"><span>Erenâ€˜s Spaceship</span></a><br></div></div></div></font></footer><script src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",(function(){NProgress.done()}))</script><script src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js"></script><script src="https://cdn.staticfile.org/twitter-bootstrap/4.3.1/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js"></script><script>!function(t,e){var i=Fluid.plugins.typing,n=e.getElementById("subtitle");n&&i&&i(n.getAttribute("data-typed-text"))}(window,document)</script><script src="/js/img-lazyload.js"></script><script>Fluid.utils.createScript("https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js",(function(){var t=jQuery("#toc");if(0!==t.length&&window.tocbot){var i=jQuery("#board-ctn").offset().top;window.tocbot.init(Object.assign({tocSelector:"#toc-body",contentSelector:".markdown-body",linkClass:"tocbot-link",activeLinkClass:"tocbot-active-link",listClass:"tocbot-list",isCollapsedClass:"tocbot-is-collapsed",collapsibleClass:"tocbot-is-collapsible",scrollSmooth:!0,includeTitleTags:!0,headingsOffset:-i},CONFIG.toc)),t.find(".toc-list-item").length>0&&t.css("visibility","visible"),Fluid.events.registerRefreshCallback((function(){if("tocbot"in window){tocbot.refresh();var t=jQuery("#toc");if(0===t.length||!tocbot)return;t.find(".toc-list-item").length>0&&t.css("visibility","visible")}}))}}))</script><script src="https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js"></script><script>Fluid.plugins.codeWidget()</script><script>Fluid.utils.createScript("https://cdn.staticfile.org/anchor-js/4.2.0/anchor.min.js",(function(){window.anchors.options={placement:CONFIG.anchorjs.placement,visible:CONFIG.anchorjs.visible},CONFIG.anchorjs.icon&&(window.anchors.options.icon=CONFIG.anchorjs.icon);var n=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),o=[];for(var s of n)o.push(".markdown-body > "+s.trim());"left"===CONFIG.anchorjs.placement&&(window.anchors.options.class="anchorjs-link-left"),window.anchors.add(o.join(", ")),Fluid.events.registerRefreshCallback((function(){if("anchors"in window){anchors.removeAll();var n=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),o=[];for(var s of n)o.push(".markdown-body > "+s.trim());"left"===CONFIG.anchorjs.placement&&(anchors.options.class="anchorjs-link-left"),anchors.add(o.join(", "))}}))}))</script><script>Fluid.utils.createScript("https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js",(function(){Fluid.plugins.fancyBox()}))</script><script>Fluid.plugins.imageCaption()</script><script>window.MathJax?(MathJax.startup.document.state(0),MathJax.texReset(),MathJax.typeset(),MathJax.typesetPromise()):window.MathJax={tex:{inlineMath:{"[+]":[["$","$"]]}},loader:{load:["ui/lazy"]},options:{renderActions:{insertedScript:[200,()=>{document.querySelectorAll("mjx-container").forEach((t=>{let e=t.parentNode;"li"===e.nodeName.toLowerCase()&&e.parentNode.classList.add("has-jax")}))},"",!1]}}},Fluid.events.registerRefreshCallback((function(){"MathJax"in window&&MathJax.startup.document&&"function"==typeof MathJax.startup.document.state&&(MathJax.startup.document.state(0),MathJax.texReset(),MathJax.typeset(),MathJax.typesetPromise())}))</script><script src="https://lib.baomitu.com/mathjax/3.2.2/es5/tex-mml-chtml.js"></script><script src="/js/local-search.js"></script><script src="/js/boot.js"></script><noscript><div class="noscript-warning">åšå®¢åœ¨å…è®¸ JavaScript è¿è¡Œçš„ç¯å¢ƒä¸‹æµè§ˆæ•ˆæœæ›´ä½³</div></noscript><script src="/js/backgroundize.js"></script></body></html>