<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>ç®—æ³•è®­ç»ƒä¹‹ -- åè½¬é“¾è¡¨</title>
    <link href="/posts/37946/"/>
    <url>/posts/37946/</url>
    
    <content type="html"><![CDATA[<h3 id="åè½¬é“¾è¡¨">åè½¬é“¾è¡¨</h3><h4 id="æ€è·¯">1. æ€è·¯</h4><p>â€ƒâ€ƒç»™ä½ å•é“¾è¡¨çš„å¤´èŠ‚ç‚¹ <code>head</code>ï¼Œè¯·ä½ åè½¬é“¾è¡¨ï¼Œå¹¶è¿”å›åè½¬åçš„é“¾è¡¨ã€‚<ahref="https://leetcode.cn/problems/reverse-linked-list/description/">206.åè½¬é“¾è¡¨ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p><blockquote><p><strong>æ€è·¯ï¼š</strong>åè½¬é“¾è¡¨å¯ä»¥ä½¿ç”¨ <code>è¿­ä»£</code> å’Œ<code>é€’å½’</code> çš„æ–¹æ³•å®ç°ã€‚</p><ol type="1"><li><p>è¿­ä»£ï¼šå‡è®¾é“¾è¡¨ä¸º 1â†’2â†’3â†’âˆ…1ï¼Œæƒ³è¦æŠŠå®ƒæ”¹æˆâˆ…â†1â†2â†3ã€‚åœ¨éå†é“¾è¡¨æ—¶ï¼Œå°†å½“å‰èŠ‚ç‚¹çš„ nextæŒ‡é’ˆæ”¹ä¸ºæŒ‡å‘å‰ä¸€ä¸ªèŠ‚ç‚¹ã€‚ç”±äºèŠ‚ç‚¹æ²¡æœ‰å¼•ç”¨å…¶å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå› æ­¤å¿…é¡»äº‹å…ˆå­˜å‚¨å…¶å‰ä¸€ä¸ªèŠ‚ç‚¹ã€‚åœ¨æ›´æ”¹å¼•ç”¨ä¹‹å‰ï¼Œè¿˜éœ€è¦å­˜å‚¨åä¸€ä¸ªèŠ‚ç‚¹ã€‚æœ€åè¿”å›æ–°çš„å¤´å¼•ç”¨ã€‚</p></li><li><p>ä½¿ç”¨é€’å½’æ³•éå†é“¾è¡¨ï¼Œå½“è¶Šè¿‡å°¾èŠ‚ç‚¹åç»ˆæ­¢é€’å½’ï¼Œåœ¨å›æº¯æ—¶ä¿®æ”¹å„èŠ‚ç‚¹çš„<code>next</code> å¼•ç”¨æŒ‡å‘ã€‚</p><ul><li>recur(cur, pre) é€’å½’å‡½æ•°ï¼š ç»ˆæ­¢æ¡ä»¶ï¼šå½“ cur ä¸ºç©ºï¼Œåˆ™è¿”å›å°¾èŠ‚ç‚¹ preï¼ˆå³åè½¬é“¾è¡¨çš„å¤´èŠ‚ç‚¹ï¼‰ï¼›é€’å½’åç»§èŠ‚ç‚¹ï¼Œè®°å½•è¿”å›å€¼ï¼ˆå³åè½¬é“¾è¡¨çš„å¤´èŠ‚ç‚¹ï¼‰ä¸º res ï¼› ä¿®æ”¹å½“å‰èŠ‚ç‚¹ curå¼•ç”¨æŒ‡å‘å‰é©±èŠ‚ç‚¹ pre ï¼› è¿”å›åè½¬é“¾è¡¨çš„å¤´èŠ‚ç‚¹ res ã€‚</li><li>reverseList(head) å‡½æ•°ï¼š è°ƒç”¨å¹¶è¿”å› recur(head, null) ã€‚ä¼ å…¥ nullæ˜¯å› ä¸ºåè½¬é“¾è¡¨åï¼Œ head èŠ‚ç‚¹æŒ‡å‘ null ã€‚</li></ul></li></ol></blockquote><h4 id="è§£æ³•ä¸€">2. è§£æ³•ä¸€</h4><p><strong>Python</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Definition for singly-linked list.</span><br><span class="hljs-comment"># class ListNode:</span><br><span class="hljs-comment">#     def __init__(self, val=0, next=None):</span><br><span class="hljs-comment">#         self.val = val</span><br><span class="hljs-comment">#         self.next = next</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">reverseList</span>(<span class="hljs-params">self, head: <span class="hljs-type">Optional</span>[ListNode]</span>) -&gt; <span class="hljs-type">Optional</span>[ListNode]:<br>        cur, pre = head, <span class="hljs-literal">None</span><br>        <span class="hljs-keyword">while</span> cur:<br>            tmp = cur.<span class="hljs-built_in">next</span> <span class="hljs-comment"># æš‚å­˜åç»§ç»“ç‚¹</span><br>            cur.<span class="hljs-built_in">next</span> = pre  <span class="hljs-comment"># ä¿®æ”¹ cur åç»§ç»“ç‚¹çš„æŒ‡å‘</span><br>            pre = cur   <span class="hljs-comment"># pre æš‚å­˜ cur</span><br>            cur = tmp   <span class="hljs-comment"># cur è®¿é—®ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span><br>        <br>        <span class="hljs-keyword">return</span> pre<br></code></pre></td></tr></table></figure><p><strong>C++</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Definition for singly-linked list.</span><br><span class="hljs-comment"> * struct ListNode &#123;</span><br><span class="hljs-comment"> *     int val;</span><br><span class="hljs-comment"> *     ListNode *next;</span><br><span class="hljs-comment"> *     ListNode() : val(0), next(nullptr) &#123;&#125;</span><br><span class="hljs-comment"> *     ListNode(int x) : val(x), next(nullptr) &#123;&#125;</span><br><span class="hljs-comment"> *     ListNode(int x, ListNode *next) : val(x), next(next) &#123;&#125;</span><br><span class="hljs-comment"> * &#125;;</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">ListNode* <span class="hljs-title">reverseList</span><span class="hljs-params">(ListNode* head)</span> </span>&#123;<br>        ListNode* cur = head;<br>        ListNode* pre = <span class="hljs-literal">NULL</span>;<br>        ListNode* tmp;<br>        <span class="hljs-keyword">while</span>(cur != <span class="hljs-literal">NULL</span>)&#123;<br>            tmp = cur-&gt;next;<br>            cur-&gt;next = pre;<br>            pre = cur;<br>            cur = tmp;<br>        &#125;<br>        <span class="hljs-keyword">return</span> pre;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h4 id="è§£æ³•äºŒ">2. è§£æ³•äºŒ</h4><p><strong>Python</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Definition for singly-linked list.</span><br><span class="hljs-comment"># class ListNode:</span><br><span class="hljs-comment">#     def __init__(self, val=0, next=None):</span><br><span class="hljs-comment">#         self.val = val</span><br><span class="hljs-comment">#         self.next = next</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">reverseList</span>(<span class="hljs-params">self, head: <span class="hljs-type">Optional</span>[ListNode]</span>) -&gt; <span class="hljs-type">Optional</span>[ListNode]:<br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">recur</span>(<span class="hljs-params">cur, pre</span>):<br>            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> cur:<br>                <span class="hljs-keyword">return</span> pre               <span class="hljs-comment"># ç»ˆæ­¢æ¡ä»¶</span><br>            res = recur(cur.<span class="hljs-built_in">next</span>, cur)   <span class="hljs-comment"># é€’å½’åç»§èŠ‚ç‚¹</span><br>            cur.<span class="hljs-built_in">next</span> = pre               <span class="hljs-comment"># ä¿®æ”¹èŠ‚ç‚¹å¼•ç”¨æŒ‡å‘</span><br>            <span class="hljs-keyword">return</span> res                   <span class="hljs-comment"># è¿”å›åè½¬é“¾è¡¨çš„å¤´èŠ‚ç‚¹</span><br><br>        <span class="hljs-keyword">return</span> recur(head, <span class="hljs-literal">None</span>)         <span class="hljs-comment"># è°ƒç”¨é€’å½’å¹¶è¿”å›</span><br></code></pre></td></tr></table></figure><p><strong>C++</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">ListNode* <span class="hljs-title">reverseList</span><span class="hljs-params">(ListNode* head)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span>  <span class="hljs-built_in">recur</span>(head, <span class="hljs-literal">nullptr</span>);   <span class="hljs-comment">// è°ƒç”¨é€’å½’å¹¶è¿”å›</span><br>    &#125;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-function">ListNode* <span class="hljs-title">recur</span><span class="hljs-params">(ListNode* cur, ListNode* pre)</span></span>&#123;<br>        <span class="hljs-keyword">if</span>(cur == <span class="hljs-literal">nullptr</span>)<br>            <span class="hljs-keyword">return</span> pre; <span class="hljs-comment">// ç»ˆæ­¢æ¡ä»¶</span><br>        ListNode* res = <span class="hljs-built_in">recur</span>(cur-&gt;next, cur);  <span class="hljs-comment">// é€’å½’åç»§èŠ‚ç‚¹</span><br>        cur-&gt;next = pre; <span class="hljs-comment">// ä¿®æ”¹èŠ‚ç‚¹å¼•ç”¨æŒ‡å‘</span><br>        <span class="hljs-keyword">return</span> res;     <span class="hljs-comment">// è¿”å›åè½¬é“¾è¡¨çš„å¤´èŠ‚ç‚¹</span><br>    &#125;    <br>&#125;;<br></code></pre></td></tr></table></figure><h4 id="å˜ç§">3. å˜ç§</h4><p><strong>(1) é¢˜ç›®ï¼š</strong>ç»™ä½ å•é“¾è¡¨çš„å¤´æŒ‡é’ˆ <code>head</code>å’Œä¸¤ä¸ªæ•´æ•° <code>left</code> å’Œ <code>right</code> ï¼Œå…¶ä¸­<code>left &lt;= right</code> ã€‚è¯·ä½ åè½¬ä»ä½ç½® <code>left</code> åˆ°ä½ç½®<code>right</code> çš„é“¾è¡¨èŠ‚ç‚¹ï¼Œè¿”å› <strong>åè½¬åçš„é“¾è¡¨</strong> ã€‚<ahref="https://leetcode.cn/problems/reverse-linked-list-ii/description/">92.åè½¬é“¾è¡¨ II - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p><blockquote><p><strong>æ€è·¯ï¼š</strong></p><ol type="1"><li><p>è®°å½•éœ€è¦åè½¬éƒ¨åˆ†ä½ç½®çš„å‰ä¸€ä¸ªèŠ‚ç‚¹å’Œåä¸€ä¸ªèŠ‚ç‚¹ï¼Œ <code>pre</code>å’Œ <code>curr</code>ï¼Œç„¶åé€šè¿‡éå†æ‰¾åˆ° åè½¬éƒ¨åˆ†çš„ <code>left</code> å’Œ<code>right</code>èŠ‚ç‚¹ï¼Œå°†è¿™éƒ¨åˆ†æˆªæ–­ä¹‹åï¼Œè°ƒç”¨åè½¬é“¾è¡¨å‡½æ•°ï¼Œå¯ä»¥ä½¿ç”¨è¿­ä»£æˆ–è€…é€’å½’ï¼Œæœ€åå°†<code>pre</code> çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘ <code>right</code> ï¼Œ<code>left</code>çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘ <code>curr</code> ã€‚</p></li><li><p>åœ¨éœ€è¦åè½¬çš„åŒºé—´é‡Œï¼Œæ¯éå†åˆ°ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè®©è¿™ä¸ªæ–°èŠ‚ç‚¹æ¥åˆ°åè½¬éƒ¨åˆ†çš„èµ·å§‹ä½ç½®ã€‚</p><p>ä½¿ç”¨ä¸‰ä¸ªæŒ‡é’ˆå˜é‡ preã€currã€nextæ¥è®°å½•åè½¬çš„è¿‡ç¨‹ä¸­éœ€è¦çš„å˜é‡ï¼Œå®ƒä»¬çš„æ„ä¹‰å¦‚ä¸‹ï¼š</p><ul><li>currï¼šæŒ‡å‘å¾…åè½¬åŒºåŸŸçš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ leftï¼›</li><li>nextï¼šæ°¸è¿œæŒ‡å‘ curr çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¾ªç¯è¿‡ç¨‹ä¸­ï¼Œcurr å˜åŒ–ä»¥å nextä¼šå˜åŒ–ï¼›</li><li>preï¼šæ°¸è¿œæŒ‡å‘å¾…åè½¬åŒºåŸŸçš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ leftçš„å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œåœ¨å¾ªç¯è¿‡ç¨‹ä¸­ä¸å˜ã€‚</li></ul></li></ol></blockquote><p><strong>Python</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># Definition for singly-linked list.</span><br><span class="hljs-comment"># class ListNode:</span><br><span class="hljs-comment">#     def __init__(self, val=0, next=None):</span><br><span class="hljs-comment">#         self.val = val</span><br><span class="hljs-comment">#         self.next = next</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">reverseBetween</span>(<span class="hljs-params">self, head: <span class="hljs-type">Optional</span>[ListNode], left: <span class="hljs-built_in">int</span>, right: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-type">Optional</span>[ListNode]:<br>        <span class="hljs-comment"># åè½¬é“¾è¡¨å‡½æ•°</span><br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">reverse_linked_list</span>(<span class="hljs-params">head: ListNode</span>):<br>            pre = <span class="hljs-literal">None</span><br>            cur = head<br>            <span class="hljs-keyword">while</span> cur:<br>                <span class="hljs-built_in">next</span> = cur.<span class="hljs-built_in">next</span><br>                cur.<span class="hljs-built_in">next</span> = pre<br>                pre = cur<br>                cur = <span class="hljs-built_in">next</span><br>        <span class="hljs-comment"># ä½¿ç”¨è™šæ‹Ÿå¤´ç»“ç‚¹ï¼Œ é˜²æ­¢å¤´ç»“ç‚¹å‘ç”Ÿå˜åŒ–ï¼ŒåŒæ—¶åœ¨éå†æ—¶æ›´åŠ æ–¹ä¾¿</span><br>        dummy_node = ListNode(-<span class="hljs-number">1</span>)<br>        dummy_node.<span class="hljs-built_in">next</span> = head<br>        pre = dummy_node<br>        <span class="hljs-comment"># ç¬¬ 1 æ­¥ï¼šä»è™šæ‹Ÿå¤´èŠ‚ç‚¹èµ° left - 1 æ­¥ï¼Œå®šä½åˆ° left èŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹</span><br>        <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(left-<span class="hljs-number">1</span>):<br>            pre = pre.<span class="hljs-built_in">next</span><br>        <span class="hljs-comment"># ç¬¬ 2 æ­¥ï¼šä» pre å†èµ° right - left + 1 æ­¥ï¼Œå®šä½åˆ° right èŠ‚ç‚¹</span><br>        right_node = pre<br>        <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(right - left + <span class="hljs-number">1</span>):<br>            right_node = right_node.<span class="hljs-built_in">next</span><br>        <span class="hljs-comment"># ç¬¬ 3 æ­¥ï¼šåˆ‡æ–­å‡ºä¸€ä¸ªå­é“¾è¡¨ï¼ˆæˆªå–é“¾è¡¨ï¼‰</span><br>        left_node = pre.<span class="hljs-built_in">next</span>    <span class="hljs-comment"># éœ€è¦åè½¬çš„é“¾è¡¨çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹</span><br>        curr = right_node.<span class="hljs-built_in">next</span>  <span class="hljs-comment"># è®°å½•åè½¬é“¾è¡¨æœ€åèŠ‚ç‚¹çš„åä¸€ä¸ªèŠ‚ç‚¹ï¼Œç”¨äºåè½¬åæ‹¼æ¥</span><br>        <span class="hljs-comment"># åˆ‡æ–­é“¾è¡¨</span><br>        pre.<span class="hljs-built_in">next</span> = <span class="hljs-literal">None</span> <span class="hljs-comment"># åè½¬é“¾è¡¨çš„å‰ä¸€ä¸ªèŠ‚ç‚¹</span><br>        right_node.<span class="hljs-built_in">next</span> = <span class="hljs-literal">None</span>  <span class="hljs-comment"># åè½¬é“¾è¡¨çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹</span><br><br>        reverse_linked_list(left_node)  <span class="hljs-comment"># åè½¬é“¾è¡¨</span><br><br>        pre.<span class="hljs-built_in">next</span> = right_node   <span class="hljs-comment"># æ‹¼æ¥åè½¬åçš„èŠ‚ç‚¹</span><br>        left_node.<span class="hljs-built_in">next</span> = curr<br><br>        <span class="hljs-keyword">return</span> dummy_node.<span class="hljs-built_in">next</span><br>    <br><span class="hljs-comment"># ä¸€æ¬¡éå†</span><br><span class="hljs-comment"># Definition for singly-linked list.</span><br><span class="hljs-comment"># class ListNode:</span><br><span class="hljs-comment">#     def __init__(self, val=0, next=None):</span><br><span class="hljs-comment">#         self.val = val</span><br><span class="hljs-comment">#         self.next = next</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">reverseBetween</span>(<span class="hljs-params">self, head: <span class="hljs-type">Optional</span>[ListNode], left: <span class="hljs-built_in">int</span>, right: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-type">Optional</span>[ListNode]:<br>        dummy_node = ListNode(-<span class="hljs-number">1</span>)<br>        dummy_node.<span class="hljs-built_in">next</span> = head<br>        pre = dummy_node<br>        <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(left-<span class="hljs-number">1</span>):<span class="hljs-comment"># å®šä½åˆ°åè½¬éƒ¨åˆ†çš„å‰ä¸€ä¸ªèŠ‚ç‚¹</span><br>            pre = pre.<span class="hljs-built_in">next</span><br><br>        cur = pre.<span class="hljs-built_in">next</span><span class="hljs-comment"># æŒ‡å‘åè½¬éƒ¨åˆ†çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹</span><br>        <span class="hljs-comment"># æ¯æ¬¡å°†åè½¬é“¾è¡¨çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æ”¾ç½®ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å‰</span><br>        <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(right-left):<br>            <span class="hljs-built_in">next</span> = cur.<span class="hljs-built_in">next</span><br>            cur.<span class="hljs-built_in">next</span> = <span class="hljs-built_in">next</span>.<span class="hljs-built_in">next</span><br>            <span class="hljs-built_in">next</span>.<span class="hljs-built_in">next</span> = pre.<span class="hljs-built_in">next</span><br>            pre.<span class="hljs-built_in">next</span> = <span class="hljs-built_in">next</span><br>        <br>        <span class="hljs-keyword">return</span> dummy_node.<span class="hljs-built_in">next</span><br></code></pre></td></tr></table></figure><p><strong>C++</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Definition for singly-linked list.</span><br><span class="hljs-comment"> * struct ListNode &#123;</span><br><span class="hljs-comment"> *     int val;</span><br><span class="hljs-comment"> *     ListNode *next;</span><br><span class="hljs-comment"> *     ListNode() : val(0), next(nullptr) &#123;&#125;</span><br><span class="hljs-comment"> *     ListNode(int x) : val(x), next(nullptr) &#123;&#125;</span><br><span class="hljs-comment"> *     ListNode(int x, ListNode *next) : val(x), next(next) &#123;&#125;</span><br><span class="hljs-comment"> * &#125;;</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">reverseLinkedList</span><span class="hljs-params">(ListNode *head)</span></span>&#123;<br><br>        ListNode *pre = <span class="hljs-literal">nullptr</span>;<br>        ListNode *cur = head;<br>        ListNode *tmp;<br>        <span class="hljs-keyword">while</span>(cur != <span class="hljs-literal">nullptr</span>)&#123;<br>            tmp = cur-&gt;next;<br>            cur-&gt;next = pre;<br>            pre = cur;<br>            cur = tmp;<br>        &#125;<br>    &#125;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">ListNode* <span class="hljs-title">reverseBetween</span><span class="hljs-params">(ListNode* head, <span class="hljs-type">int</span> left, <span class="hljs-type">int</span> right)</span> </span>&#123;<br>        ListNode *dummy_node = <span class="hljs-keyword">new</span> <span class="hljs-built_in">ListNode</span>(<span class="hljs-number">-1</span>);<br>        dummy_node-&gt;next = head;<br><br>        ListNode *pre = dummy_node;<br><br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;left<span class="hljs-number">-1</span>; i++)<br>            pre = pre-&gt;next;<br><br>        ListNode *right_node = pre;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;right-left+<span class="hljs-number">1</span>; i++)<br>            right_node = right_node-&gt;next;<br><br>        ListNode *left_node = pre-&gt;next;<br>        ListNode *curr = right_node-&gt;next;<br><br>        pre-&gt;next = <span class="hljs-literal">nullptr</span>;<br>        right_node-&gt;next = <span class="hljs-literal">nullptr</span>;<br><br>        <span class="hljs-built_in">reverseLinkedList</span>(left_node);<br><br>        pre-&gt;next = right_node;<br>        left_node-&gt;next = curr;<br>        <span class="hljs-keyword">return</span> dummy_node-&gt;next;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åˆ·é¢˜</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ¯å‘¨æ€»ç»“ -- éšé£è€Œè¡Œï¼Œæ— éœ€å½·å¾¨</title>
    <link href="/posts/53009/"/>
    <url>/posts/53009/</url>
    
    <content type="html"><![CDATA[<div align = "center"><H3>æ€»ç»“ &amp; åæ€</div><p><strong>æ—¥æœŸï¼š2024.01.29-2024.02.04</strong></p><p>â€ƒâ€ƒè¿™å‘¨æ˜¯å½»åº•æ‘†çƒ‚çš„ä¸€å‘¨ï¼Œå‹æ ¹æ²¡æœ‰å­¦ä¸œè¥¿ï¼Œå› ä¸ºä¸€äº›çäº‹æœ‰ç‚¹å¤šã€‚æ¯å¤©è¦å»ç»ƒè½¦ï¼Œç»ƒå®Œè½¦è¿˜è¦å»å¸®å¿™æå«ç”Ÿï¼Œä½†æ˜¯è¿‡å¾—è¿˜æ˜¯æŒºå¿«ä¹çš„ï¼Œè€Œä¸”è¿˜åƒäº†æŒºå¤šå¥½åƒçš„ï¼Œæƒ³åƒçš„ä¸œè¥¿åŸºæœ¬éƒ½åƒäº†ï¼Œæœç„¶åªæœ‰ç¾é£Ÿæ‰èƒ½å®‰æŠšäººå¿ƒï¼Œå“ˆå“ˆå“ˆã€‚ç„¶åè¿˜æœ‰ä¸€ä»¶é«˜å…´çš„äº‹æƒ…å°±æ˜¯ï¼Œç»ˆäºè€ƒå®Œç§‘äºŒäº†ï¼Œè€Œä¸”é¡ºåˆ©çš„é€šè¿‡äº†ï¼Œä½†æ˜¯æ˜¯ç¬¬äºŒæŠŠæƒŠé™©é€šè¿‡çš„ï¼Œè¿˜å¥½æ²¡æœ‰ç´§å¼ ã€‚ç¬¬ä¸€æŠŠçš„æ—¶å€™ï¼Œæ˜æ˜æ„Ÿè§‰åˆ°äº†å€’è½¦å…¥åº“æ²¡æœ‰å€’è¿›å»ï¼Œä½†æ˜¯ç”±äºç¦»åˆå’Œåˆ¹è½¦éƒ½è¸©äº†ï¼Œä¸æƒ³å†æ¾å¼€äº†ï¼ŒæŠ±ç€ä¾¥å¹¸å¿ƒç†è§‰å¾—æ²¡äº‹ï¼Œå°±å¼€å‡ºå»äº†ï¼Œç„¶åå°±æŒ‚äº†ã€‚å®³ï¼Œè¿™ç§æƒ…å†µä¸‹ç«Ÿç„¶è¿˜çŠ¯æ‡’äº†ï¼Œä¸åº”è¯¥ï¼ŒçœŸçš„ä¸åº”è¯¥ï¼Œè¦æ˜¯ç¬¬äºŒæŠŠä¹Ÿæ²¡æœ‰è¿‡ï¼ŒçœŸçš„æ˜¯è¦æŠ½è‡ªå·±å‡ ä¸ªè€³å…‰äº†ã€‚è¶Šæƒ³è¦å¾—åˆ°çš„ä¸œè¥¿ï¼Œè¶Šæƒ³è¦é€šè¿‡çš„ä¸œè¥¿å°±åº”è¯¥è®¤çœŸå¯¹å¾…ï¼Œä¸èƒ½æŠ±æœ‰ä¾¥å¹¸å¿ƒç†ï¼</p>]]></content>
    
    
    
    <tags>
      
      <tag>æ€»ç»“&amp;åæ€</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>GNERF æºç è§£è¯»ï¼ˆäºŒï¼‰</title>
    <link href="/posts/39622/"/>
    <url>/posts/39622/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    <categories>
      
      <category>æºç è§£è¯»</category>
      
    </categories>
    
    
    <tags>
      
      <tag>3D GAN</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ¯å‘¨æ€»ç»“ -- äº«å—å­¤ç‹¬ï¼Œä¹ æƒ¯æ— èŠ</title>
    <link href="/posts/53009/"/>
    <url>/posts/53009/</url>
    
    <content type="html"><![CDATA[<div align = "center"><H3>æ€»ç»“ &amp; åæ€</div><p><strong>æ—¥æœŸï¼š2024.1.22-2024.1.28</strong></p><p>â€ƒâ€ƒç‘é›ªå…†ä¸°å¹´å“‡ï¼Œä»Šå¹´çš„é›ªå°½ç„¶ä¸‹å¾—è¿™ä¹ˆæ—©ï¼Œå¥½ä¹…æ²¡æœ‰è§è¿‡è¿™ä¹ˆå¤§çš„é›ªäº†ã€‚è¿™å‘¨å®åœ¨æ˜¯å¤ªå†·äº†ï¼Œå¥½åƒéƒ½æ²¡æœ‰å­¦å•¥ä¸œè¥¿ï¼Œåˆ·é¢˜ä¹Ÿå°±åˆ·äº†ä¸¤ä¸‰ä¸ªï¼Œè¿™ä¸ªé—®é¢˜éœ€è¦è§£å†³ä¸€ä¸‹ï¼Œå¥½ä¸å®¹æ˜“åŸ¹å…»çš„ä¹ æƒ¯ï¼Œè¦æ˜¯éš”æ®µæ—¶é—´ä¸åˆ·é¢˜ï¼Œåˆ°æ—¶å€™åˆä¼šä¸æ€ä¹ˆæƒ³åˆ·äº†ï¼Œä¸‹å‘¨å¼€å§‹ç»§ç»­æ¯å¤©ä¸€é¢˜èµ·æ­¥ï¼ç„¶åè¿™å‘¨çœ‹äº†ä¸€ç¯‡è®ºæ–‡<em>GNeRF: GAN-based Neural Radiance Field without Posed Camera</em>ï¼Œè¿™ç¯‡è®ºæ–‡é‡‡ç”¨å—çš„æ–¹æ³•æ¥è®­ç»ƒè¾¨åˆ«å™¨å’Œç”Ÿæˆå™¨ï¼Œæ˜¯ä¸€ä¸ªä¸é”™çš„æƒ³æ³•ã€‚ç„¶åè¿˜çœ‹äº†ä¸€ä¸‹å®ƒçš„ä»£ç ï¼Œçœ‹åˆ°äº†ç”Ÿæˆå™¨ï¼Œä½†æ˜¯å¥½åƒè¿˜æ˜¯æ²¡æœ‰å¼„å¾—å¾ˆæ‡‚ï¼Œè¿˜éœ€è¦å†åˆ†æä¸€ä¸‹ï¼Œè¿™ä¸ªé€šè¿‡patchæ¥è®­ç»ƒGANçš„æ–¹æ³•å¿…éœ€å¾—å­¦ä¼šï¼Œå¾ˆé‡è¦ï¼</p><p>â€ƒâ€ƒç„¶åå°±æ˜¯æ¥å›æƒ³ä¸€ä¸‹è¿™å‘¨å‘ç”Ÿäº†ä¸€äº›ä»€ä¹ˆäº‹æƒ…å‘¢ï¼Œè¿™å‘¨é™¤äº†ä¸‹é›ªçš„é‚£ä¸¤å¤©æ²¡æœ‰ç»ƒè½¦ï¼Œå¥½åƒæ¯å¤©éƒ½å»ç»ƒè½¦äº†ï¼Œç„¶åå‘¨æ—¥çš„æ—¶å€™è¿˜å»æ¨¡æ‹Ÿäº†ä¸€ä¸‹ï¼Œæ°”æ­»æˆ‘äº†ğŸ˜¡ï¼Œè·‘äº†5åœˆï¼Œ4æŠŠéƒ½æŒ‚åœ¨äº†å¡é“å®šç‚¹ï¼Œå¾ˆçƒ¦ï¼Œå¥½å¥½å†å»ç»ƒç»ƒï¼Œå¸Œæœ›è€ƒè¯•é‚£å¤©èƒ½å¤Ÿé¡ºåˆ©é€šè¿‡ï¼Œä¸è¦ç´§å¼ ï¼ŒåŠ æ²¹ï¼è¿™å‘¨è¯´å®è¯ï¼Œåˆæ˜¯éå¸¸æ— èŠçš„ä¸€å‘¨ï¼Œå‘¨ä¸€çš„æ—¶å€™ä¸‹å¤§é›ªï¼Œå…¶å®çœŸçš„å¥½æƒ³å‡ºå»ç©ç©ï¼Œæƒ³å»å’Œæœ‹å‹å †é›ªäººï¼Œæ‰“é›ªä»—ï¼Œå¯æ˜¯å¥½åƒæ ¹æœ¬å«ä¸åˆ°äººï¼Œä¹Ÿæ²¡æœ‰äººæœ‰è¿™ä¸ªæ—¶é—´ï¼Œå®³ï¼Œçªç„¶å°±å›æƒ³èµ·äº†å°æ—¶å€™ï¼Œæ¯æ¬¡ä¸‹é›ªçš„æ—¶å€™éƒ½ä¼šè·‘å‡ºå»ç©ï¼Œä¸ç®¡å¤©æ°”æœ‰å¤šå†·ï¼Œéƒ½èƒ½å¤Ÿç©å¾—å¾ˆå¼€å¿ƒï¼Œæ—¶å…‰é£é€å“‡ï¼Œä¼™ä¼´ä»¬éƒ½ä¸Šç­äº†ï¼Œæˆ–è€…åœ¨å¾ˆè¿œçš„åœ°æ–¹ï¼ˆéš¾å—ğŸ˜­ï¼‰ï¼Œå°¤å…¶æ˜¯åœ¨çœ‹åˆ°æ¥¼ä¸‹æ“åœºä¸Šçš„å°æœ‹å‹ä»¬ç©å¾—å¾ˆå¼€å¿ƒï¼Œå°±æ›´åŠ éš¾å—äº†ï¼Œå‘œå‘œå‘œ~ï¼Œå¯èƒ½åªæœ‰é•¿å¤§ä¹‹åæ‰çŸ¥é“å­¤ç‹¬æ‰æ˜¯äººç”Ÿçš„å¸¸æ€å­ï¼Œçƒ­é—¹æ€»æ˜¯çŸ­æš‚çš„ï¼ŒÎµ=(Â´Î¿ï½€*)))å”‰ï¼Œé‚£å°±äº«å—å§ï¼Œåœ¨å­¤ç‹¬ä¸­ä½“éªŒç”Ÿæ´»çš„ç¾å¥½ã€‚</p><p><strong>äº«å—å­¤ç‹¬ï¼Œä¹ æƒ¯æ— èŠ</strong></p>]]></content>
    
    
    
    <tags>
      
      <tag>æ€»ç»“&amp;åæ€</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç®—æ³•è®­ç»ƒä¹‹ -- è®¾è®¡é“¾è¡¨</title>
    <link href="/posts/21013/"/>
    <url>/posts/21013/</url>
    
    <content type="html"><![CDATA[<h3 id="è®¾è®¡é“¾è¡¨">è®¾è®¡é“¾è¡¨</h3><h4 id="æ€è·¯">1. æ€è·¯</h4><p>â€ƒâ€ƒä½ å¯ä»¥é€‰æ‹©ä½¿ç”¨å•é“¾è¡¨æˆ–è€…åŒé“¾è¡¨ï¼Œè®¾è®¡å¹¶å®ç°è‡ªå·±çš„é“¾è¡¨ã€‚å•é“¾è¡¨ä¸­çš„èŠ‚ç‚¹åº”è¯¥å…·å¤‡ä¸¤ä¸ªå±æ€§ï¼š<code>val</code>å’Œ <code>next</code> ã€‚<code>val</code>æ˜¯å½“å‰èŠ‚ç‚¹çš„å€¼ï¼Œ<code>next</code>æ˜¯æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆå¼•ç”¨ã€‚å¦‚æœæ˜¯åŒå‘é“¾è¡¨ï¼Œåˆ™è¿˜éœ€è¦å±æ€§<code>prev</code> ä»¥æŒ‡ç¤ºé“¾è¡¨ä¸­çš„ä¸Šä¸€ä¸ªèŠ‚ç‚¹ã€‚å‡è®¾é“¾è¡¨ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹ä¸‹æ ‡ä»<strong>0</strong> å¼€å§‹ã€‚</p><p>å®ç° <code>MyLinkedList</code> ç±»ï¼š</p><ul><li><code>MyLinkedList()</code> åˆå§‹åŒ– <code>MyLinkedList</code>å¯¹è±¡ã€‚</li><li><code>int get(int index)</code> è·å–é“¾è¡¨ä¸­ä¸‹æ ‡ä¸º <code>index</code>çš„èŠ‚ç‚¹çš„å€¼ã€‚å¦‚æœä¸‹æ ‡æ— æ•ˆï¼Œåˆ™è¿”å› <code>-1</code> ã€‚</li><li><code>void addAtHead(int val)</code> å°†ä¸€ä¸ªå€¼ä¸º <code>val</code>çš„èŠ‚ç‚¹æ’å…¥åˆ°é“¾è¡¨ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ ä¹‹å‰ã€‚åœ¨æ’å…¥å®Œæˆåï¼Œæ–°èŠ‚ç‚¹ä¼šæˆä¸ºé“¾è¡¨çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚</li><li><code>void addAtTail(int val)</code> å°†ä¸€ä¸ªå€¼ä¸º <code>val</code>çš„èŠ‚ç‚¹è¿½åŠ åˆ°é“¾è¡¨ä¸­ä½œä¸ºé“¾è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ ã€‚</li><li><code>void addAtIndex(int index, int val)</code> å°†ä¸€ä¸ªå€¼ä¸º<code>val</code> çš„èŠ‚ç‚¹æ’å…¥åˆ°é“¾è¡¨ä¸­ä¸‹æ ‡ä¸º <code>index</code>çš„èŠ‚ç‚¹ä¹‹å‰ã€‚å¦‚æœ <code>index</code>ç­‰äºé“¾è¡¨çš„é•¿åº¦ï¼Œé‚£ä¹ˆè¯¥èŠ‚ç‚¹ä¼šè¢«è¿½åŠ åˆ°é“¾è¡¨çš„æœ«å°¾ã€‚å¦‚æœ <code>index</code>æ¯”é•¿åº¦æ›´å¤§ï¼Œè¯¥èŠ‚ç‚¹å°† <strong>ä¸ä¼šæ’å…¥</strong> åˆ°é“¾è¡¨ä¸­ã€‚</li><li><code>void deleteAtIndex(int index)</code>å¦‚æœä¸‹æ ‡æœ‰æ•ˆï¼Œåˆ™åˆ é™¤é“¾è¡¨ä¸­ä¸‹æ ‡ä¸º <code>index</code> çš„èŠ‚ç‚¹ã€‚</li></ul><p><ahref="https://leetcode.cn/problems/design-linked-list/description/">707.è®¾è®¡é“¾è¡¨ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p><h4 id="è§£æ³•ä¸€-å•å‘é“¾è¡¨">2.è§£æ³•ä¸€ å•å‘é“¾è¡¨</h4><p>â€ƒâ€ƒå®ç°å•å‘é“¾è¡¨ï¼Œå³æ¯ä¸ªèŠ‚ç‚¹ä»…å­˜å‚¨æœ¬èº«çš„å€¼å’Œåç»§èŠ‚ç‚¹ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä¸€ä¸ªå“¨å…µï¼ˆsentinelï¼‰èŠ‚ç‚¹ä½œä¸ºå¤´èŠ‚ç‚¹ï¼Œå’Œä¸€ä¸ªsize å‚æ•°ä¿å­˜æœ‰æ•ˆèŠ‚ç‚¹æ•°ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="1_1.png" alt="img" style="zoom:50%;" /></p><p>â€ƒâ€ƒåˆå§‹åŒ–æ—¶ï¼Œåªéœ€åˆ›å»ºå¤´èŠ‚ç‚¹ head å’Œ size å³å¯ã€‚</p><p>â€ƒâ€ƒå®ç° get(index)æ—¶ï¼Œå…ˆåˆ¤æ–­æœ‰æ•ˆæ€§ï¼Œå†é€šè¿‡å¾ªç¯æ¥æ‰¾åˆ°å¯¹åº”çš„èŠ‚ç‚¹çš„å€¼ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="1_4-17067932886123.png" alt="img" style="zoom:50%;" /></p><p>â€ƒâ€ƒå®ç° addAtIndex(index, val) æ—¶ï¼Œå¦‚æœ indexæ˜¯æœ‰æ•ˆå€¼ï¼Œåˆ™éœ€è¦æ‰¾åˆ°åŸæ¥ä¸‹æ ‡ä¸º index çš„èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹ predï¼Œå¹¶åˆ›å»ºæ–°èŠ‚ç‚¹to_addï¼Œå°†to_add çš„åç»§èŠ‚ç‚¹è®¾ä¸º pred çš„åç»§èŠ‚ç‚¹ï¼Œå°† predçš„åç»§èŠ‚ç‚¹æ›´æ–°ä¸º to_addï¼Œè¿™æ ·å°±å°† to_add æ’å…¥åˆ°äº†é“¾è¡¨ä¸­ã€‚æœ€åéœ€è¦æ›´æ–°sizeã€‚è¿™æ ·çš„æ“ä½œå¯¹äº index=0 ä¹Ÿæˆç«‹ï¼Œå¦‚ä»¥ä¸‹ä¸¤å¼ å›¾æ‰€ç¤ºã€‚</p><p><img src="1_2-17067933059965.png" alt="img" style="zoom:50%;" /></p><p><img src="1_3-17067933170527.png" alt="img" style="zoom: 50%;" /></p><p>â€ƒâ€ƒå®ç° addAtHead(val) å’Œ addAtTail(val) æ—¶ï¼Œå¯ä»¥å€ŸåŠ©addAtIndex(index, val) æ¥å®ç°ã€‚</p><p>â€ƒâ€ƒå®ç° deleteAtIndex(index)ï¼Œå…ˆåˆ¤æ–­å‚æ•°æœ‰æ•ˆæ€§ã€‚ç„¶åæ‰¾åˆ°ä¸‹æ ‡ä¸º indexçš„èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹ predï¼Œé€šè¿‡å°† pred çš„åç»§èŠ‚ç‚¹æ›´æ–°ä¸º predçš„åç»§èŠ‚ç‚¹çš„åç»§èŠ‚ç‚¹ï¼Œæ¥è¾¾åˆ°åˆ é™¤èŠ‚ç‚¹çš„æ•ˆæœã€‚åŒæ—¶ä¹Ÿè¦æ›´æ–°sizeã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="1_5-17067933426759.png" alt="img" style="zoom:50%;" /></p><p><strong>Python</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ListNode</span>:<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, val</span>):<br>        self.val = val<br>        self.<span class="hljs-built_in">next</span> =<span class="hljs-literal">None</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyLinkedList</span>:<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        self.size = <span class="hljs-number">0</span><br>        self.head = ListNode(<span class="hljs-number">0</span>) <span class="hljs-comment"># å“¨å…µèŠ‚ç‚¹</span><br><br>    <span class="hljs-comment"># è·å–é“¾è¡¨ä¸­ä¸‹æ ‡ä¸º index çš„èŠ‚ç‚¹çš„å€¼</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get</span>(<span class="hljs-params">self, index: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:   <br>        <span class="hljs-keyword">if</span> index &lt; <span class="hljs-number">0</span> <span class="hljs-keyword">or</span> index &gt;= self.size:<br>            <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span><br><br>        cur = self.head<br>        <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(index + <span class="hljs-number">1</span>):<br>            cur = cur.<span class="hljs-built_in">next</span><br><br>        <span class="hljs-keyword">return</span> cur.val<br><br><span class="hljs-comment"># å°†ä¸€ä¸ªå€¼ä¸º val çš„èŠ‚ç‚¹æ’å…¥åˆ°é“¾è¡¨ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ ä¹‹å‰</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">addAtHead</span>(<span class="hljs-params">self, val: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-literal">None</span>:  <br>        self.addAtIndex(<span class="hljs-number">0</span>, val)<br><br><br>    <span class="hljs-comment"># æ’å…¥åˆ°å°¾èŠ‚ç‚¹å</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">addAtTail</span>(<span class="hljs-params">self, val: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-literal">None</span>: <br>        self.addAtIndex(self.size, val)<br><br>    <span class="hljs-comment"># å°†ä¸€ä¸ªå€¼ä¸º val çš„èŠ‚ç‚¹æ’å…¥åˆ°é“¾è¡¨ä¸­ä¸‹æ ‡ä¸º index çš„èŠ‚ç‚¹ä¹‹å‰</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">addAtIndex</span>(<span class="hljs-params">self, index: <span class="hljs-built_in">int</span>, val: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-literal">None</span>: <br>        <span class="hljs-keyword">if</span> index &gt; self.size:<br>            <span class="hljs-keyword">return</span><br><br>        index = <span class="hljs-built_in">max</span>(<span class="hljs-number">0</span>, index)   <span class="hljs-comment"># æ’å…¥åˆ°å¤´ç»“ç‚¹ä¹Ÿå¯</span><br>        self.size += <span class="hljs-number">1</span>  <span class="hljs-comment"># æ›´æ–°sizeå¤§å°</span><br>        pred = self.head<br>        <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(index):  <span class="hljs-comment"># å®šä½åˆ°æ’å…¥ä¸‹æ ‡çš„å‰é©±ç»“ç‚¹</span><br>            pred = pred.<span class="hljs-built_in">next</span><br><br>        to_add = ListNode(val)  <span class="hljs-comment"># åˆ›å»ºæ–°èŠ‚ç‚¹    </span><br>        to_add.<span class="hljs-built_in">next</span> = pred.<span class="hljs-built_in">next</span> <span class="hljs-comment"># åŠ å…¥èŠ‚ç‚¹</span><br>        pred.<span class="hljs-built_in">next</span> = to_add<br><br><span class="hljs-comment"># åˆ é™¤æŒ‡å®šä¸‹æ ‡çš„èŠ‚ç‚¹</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">deleteAtIndex</span>(<span class="hljs-params">self, index: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-literal">None</span>:<br>        <span class="hljs-keyword">if</span> index &lt; <span class="hljs-number">0</span> <span class="hljs-keyword">or</span> index &gt;= self.size:<br>            <span class="hljs-keyword">return</span><br>        <br>        self.size -= <span class="hljs-number">1</span>  <span class="hljs-comment"># æ›´æ–°é“¾è¡¨é•¿åº¦</span><br>        pred = self.head<br><br>        <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(index):  <span class="hljs-comment"># å®šä½åˆ°è¦åˆ é™¤èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹</span><br>            pred = pred.<span class="hljs-built_in">next</span><br>        pred.<span class="hljs-built_in">next</span> = pred.<span class="hljs-built_in">next</span>.<span class="hljs-built_in">next</span><br><br><br><br><br><span class="hljs-comment"># Your MyLinkedList object will be instantiated and called as such:</span><br><span class="hljs-comment"># obj = MyLinkedList()</span><br><span class="hljs-comment"># param_1 = obj.get(index)</span><br><span class="hljs-comment"># obj.addAtHead(val)</span><br><span class="hljs-comment"># obj.addAtTail(val)</span><br><span class="hljs-comment"># obj.addAtIndex(index,val)</span><br><span class="hljs-comment"># obj.deleteAtIndex(index)</span><br><br></code></pre></td></tr></table></figure><p><strong>C++</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyLinkedList</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">MyLinkedList</span>() &#123;<br>        <span class="hljs-keyword">this</span>-&gt;size = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">this</span>-&gt;head = <span class="hljs-keyword">new</span> <span class="hljs-built_in">ListNode</span>(<span class="hljs-number">0</span>);<br>    &#125;<br>    <br>    <span class="hljs-comment">// è·å–é“¾è¡¨ä¸­ä¸‹æ ‡ä¸º index çš„èŠ‚ç‚¹çš„å€¼</span><br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">get</span><span class="hljs-params">(<span class="hljs-type">int</span> index)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(index &lt; <span class="hljs-number">0</span> || index &gt;= size)&#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>        &#125;<br>        ListNode *cur = head;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;=index; i++)&#123;<br>            cur = cur-&gt;next;<br>        &#125;<br>        <span class="hljs-keyword">return</span> cur-&gt;val;<br>    &#125;<br>    <br>    <span class="hljs-comment">// å°†ä¸€ä¸ªå€¼ä¸º val çš„èŠ‚ç‚¹æ’å…¥åˆ°é“¾è¡¨ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ ä¹‹å‰</span><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">addAtHead</span><span class="hljs-params">(<span class="hljs-type">int</span> val)</span> </span>&#123;<br>        <span class="hljs-built_in">addAtIndex</span>(<span class="hljs-number">0</span>, val);<br>    &#125;<br>    <br>    <span class="hljs-comment">// æ’å…¥åˆ°å°¾èŠ‚ç‚¹å</span><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">addAtTail</span><span class="hljs-params">(<span class="hljs-type">int</span> val)</span> </span>&#123;<br>        <span class="hljs-built_in">addAtIndex</span>(size, val);<br>    &#125;<br>    <br>    <span class="hljs-comment">// å°†ä¸€ä¸ªå€¼ä¸º val çš„èŠ‚ç‚¹æ’å…¥åˆ°é“¾è¡¨ä¸­ä¸‹æ ‡ä¸º index çš„èŠ‚ç‚¹ä¹‹å‰</span><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">addAtIndex</span><span class="hljs-params">(<span class="hljs-type">int</span> index, <span class="hljs-type">int</span> val)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(index &gt; size)&#123;<br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br>        index = <span class="hljs-built_in">max</span>(<span class="hljs-number">0</span>, index);<br>        size++;<br>        ListNode *pred = head;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;index; i++)&#123;<br>            pred = pred-&gt;next;<br>        &#125;<br>        ListNode *toAdd = <span class="hljs-keyword">new</span> <span class="hljs-built_in">ListNode</span>(val);<br>        toAdd-&gt;next = pred-&gt;next;<br>        pred-&gt;next = toAdd;<br>    &#125;<br>    <br>    <span class="hljs-comment">// åˆ é™¤æŒ‡å®šä¸‹æ ‡çš„èŠ‚ç‚¹</span><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">deleteAtIndex</span><span class="hljs-params">(<span class="hljs-type">int</span> index)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(index &lt; <span class="hljs-number">0</span> || index &gt;= size)&#123;<br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br>        size--;<br>        ListNode *pred = head;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;index; i++)&#123;<br>            pred = pred-&gt;next;<br>        &#125;<br>        ListNode *p = pred-&gt;next;<br>        pred-&gt;next = pred-&gt;next-&gt;next;<br>        <span class="hljs-keyword">delete</span> p;<br>    &#125;<br>    <br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">int</span> size;<br>    ListNode *head;<br>&#125;;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Your MyLinkedList object will be instantiated and called as such:</span><br><span class="hljs-comment"> * MyLinkedList* obj = new MyLinkedList();</span><br><span class="hljs-comment"> * int param_1 = obj-&gt;get(index);</span><br><span class="hljs-comment"> * obj-&gt;addAtHead(val);</span><br><span class="hljs-comment"> * obj-&gt;addAtTail(val);</span><br><span class="hljs-comment"> * obj-&gt;addAtIndex(index,val);</span><br><span class="hljs-comment"> * obj-&gt;deleteAtIndex(index);</span><br><span class="hljs-comment"> */</span><br></code></pre></td></tr></table></figure><h4 id="è§£æ³•2-åŒå‘é“¾è¡¨">3.è§£æ³•2 åŒå‘é“¾è¡¨</h4><p>â€ƒâ€ƒå®ç°åŒå‘é“¾è¡¨ï¼Œå³æ¯ä¸ªèŠ‚ç‚¹è¦å­˜å‚¨æœ¬èº«çš„å€¼ï¼Œåç»§èŠ‚ç‚¹å’Œå‰é©±èŠ‚ç‚¹ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œéœ€è¦ä¸€ä¸ªå“¨å…µèŠ‚ç‚¹ä½œä¸ºå¤´èŠ‚ç‚¹head å’Œä¸€ä¸ªå“¨å…µèŠ‚ç‚¹ä½œä¸ºå°¾èŠ‚ç‚¹ tailã€‚ä»éœ€è¦ä¸€ä¸ª sizeå‚æ•°ä¿å­˜æœ‰æ•ˆèŠ‚ç‚¹æ•°ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="1_6-170679916184611.png" alt="img" style="zoom:50%;" /></p><p>â€ƒâ€ƒåˆå§‹åŒ–æ—¶ï¼Œåªéœ€åˆ›å»ºå¤´èŠ‚ç‚¹ head å’Œ size å³å¯ã€‚</p><p>â€ƒâ€ƒå®ç° get(index) æ—¶ï¼Œå…ˆåˆ¤æ–­æœ‰æ•ˆæ€§ï¼Œç„¶åå†æ¯”è¾ƒä» head è¿˜æ˜¯ tailæ¥éå†ä¼šæ¯”è¾ƒå¿«æ‰¾åˆ°ç›®æ ‡ï¼Œç„¶åè¿›è¡Œéå†ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="1_7-170679917370713.png" alt="img" style="zoom:50%;" /></p><p>â€ƒâ€ƒå®ç° addAtIndex(index, val) æ—¶ï¼Œå¦‚æœ indexæ˜¯æœ‰æ•ˆå€¼ï¼Œåˆ™éœ€è¦æ‰¾åˆ°åŸæ¥ä¸‹æ ‡ä¸º index çš„èŠ‚ç‚¹ succ å’Œå‰é©±èŠ‚ç‚¹predï¼Œå¹¶åˆ›å»ºæ–°èŠ‚ç‚¹ to_addï¼Œå†é€šè¿‡å„è‡ª prev å’Œ next å˜é‡çš„æ›´æ–°æ¥å¢åŠ to_addã€‚æœ€åéœ€è¦æ›´æ–° sizeã€‚å¦‚ä»¥ä¸‹ä¸¤å¼ å›¾æ‰€ç¤ºã€‚</p><p><img src="1_8-170679918707515.png" alt="img" style="zoom:50%;" /></p><p>â€ƒâ€ƒå®ç° addAtHead(val) å’Œ addAtTail(val) æ—¶ï¼Œå¯ä»¥å€ŸåŠ©addAtIndex(index, val) æ¥å®ç°ã€‚</p><p>â€ƒâ€ƒå®ç° deleteAtIndex(index)ï¼Œå…ˆåˆ¤æ–­å‚æ•°æœ‰æ•ˆæ€§ã€‚ç„¶åæ‰¾åˆ°ä¸‹æ ‡ä¸º indexçš„èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹ pred å’Œåç»§èŠ‚ç‚¹ succï¼Œå†é€šè¿‡å„è‡ª prev å’Œ nextå˜é‡çš„æ›´æ–°æ¥åˆ é™¤èŠ‚ç‚¹ï¼Œæ¥è¾¾åˆ°åˆ é™¤èŠ‚ç‚¹çš„æ•ˆæœã€‚åŒæ—¶ä¹Ÿè¦æ›´æ–°sizeã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="1_9-170679919861217.png" alt="img" style="zoom:50%;" /></p><p><strong>Python</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ListNode</span>:<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, x</span>):<br>        self.val = x<br>        self.<span class="hljs-built_in">next</span> = <span class="hljs-literal">None</span><br>        self.prev = <span class="hljs-literal">None</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyLinkedList</span>:<br><br>    <span class="hljs-comment"># åˆå§‹åŒ–é“¾è¡¨</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        self.size = <span class="hljs-number">0</span><br>        self.head, self.tail = ListNode(<span class="hljs-number">0</span>), ListNode(<span class="hljs-number">0</span>)<br>        self.head.<span class="hljs-built_in">next</span> = self.tail<br>        self.tail.prev = self.head<br><br>    <span class="hljs-comment"># è·å–é“¾è¡¨ä¸­ä¸‹æ ‡ä¸º index çš„èŠ‚ç‚¹çš„å€¼</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get</span>(<span class="hljs-params">self, index: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        <span class="hljs-keyword">if</span> index &lt; <span class="hljs-number">0</span> <span class="hljs-keyword">or</span> index &gt;= self.size:<br>            <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span><br><br>        <span class="hljs-keyword">if</span> index + <span class="hljs-number">1</span> &lt; self.size - index:   <span class="hljs-comment"># ä»å¤´éå†</span><br>            curr = self.head<br>            <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(index + <span class="hljs-number">1</span>):<br>                curr = curr.<span class="hljs-built_in">next</span><br>        <span class="hljs-keyword">else</span>:                               <span class="hljs-comment"># ä»å°¾éå†</span><br>            curr = self.tail<br>            <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(self.size - index):<br>                curr = curr.prev<br>        <br>        <span class="hljs-keyword">return</span> curr.val<br><br>    <span class="hljs-comment"># å°†ä¸€ä¸ªå€¼ä¸º val çš„èŠ‚ç‚¹æ’å…¥åˆ°é“¾è¡¨ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ ä¹‹å‰</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">addAtHead</span>(<span class="hljs-params">self, val: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-literal">None</span>:<br>        self.addAtIndex(<span class="hljs-number">0</span>, val)<br>    <br>    <span class="hljs-comment"># æ’å…¥åˆ°å°¾èŠ‚ç‚¹å</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">addAtTail</span>(<span class="hljs-params">self, val: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-literal">None</span>:<br>        self.addAtIndex(self.size, val)<br><br>    <span class="hljs-comment"># å°†ä¸€ä¸ªå€¼ä¸º val çš„èŠ‚ç‚¹æ’å…¥åˆ°é“¾è¡¨ä¸­ä¸‹æ ‡ä¸º index çš„èŠ‚ç‚¹ä¹‹å‰</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">addAtIndex</span>(<span class="hljs-params">self, index: <span class="hljs-built_in">int</span>, val: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-literal">None</span>:<br>        <span class="hljs-keyword">if</span> index &gt; self.size:<br>            <span class="hljs-keyword">return</span><br><br>        index = <span class="hljs-built_in">max</span>(<span class="hljs-number">0</span>, index)<br>        <span class="hljs-keyword">if</span> index &lt; self.size - index:   <span class="hljs-comment"># ä»å¤´éå†</span><br>            pred = self.head<br>            <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(index):<br>                pred = pred.<span class="hljs-built_in">next</span><br>            succ = pred.<span class="hljs-built_in">next</span><br>        <span class="hljs-keyword">else</span>:                           <span class="hljs-comment"># ä»å°¾éå†</span><br>            succ = self.tail<br>            <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(self.size - index):<br>                succ = succ.prev<br>            pred = succ.prev<br>        <br>        self.size += <span class="hljs-number">1</span><br>        <span class="hljs-comment"># åŒå‘é“¾è¡¨æŒ‡å‘</span><br>        to_add = ListNode(val)<br>        to_add.prev = pred<br>        to_add.<span class="hljs-built_in">next</span> = succ<br>        pred.<span class="hljs-built_in">next</span> = to_add<br>        succ.prev = to_add<br><br>    <span class="hljs-comment"># åˆ é™¤æŒ‡å®šä¸‹æ ‡çš„èŠ‚ç‚¹</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">deleteAtIndex</span>(<span class="hljs-params">self, index: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-literal">None</span>:<br>        <span class="hljs-keyword">if</span> index &lt; <span class="hljs-number">0</span> <span class="hljs-keyword">or</span> index &gt;= self.size:<br>            <span class="hljs-keyword">return</span><br>        <span class="hljs-keyword">if</span> index &lt; self.size - index:<br>            pred = self.head<br>            <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(index):<br>                pred = pred.<span class="hljs-built_in">next</span><br>            succ = pred.<span class="hljs-built_in">next</span>.<span class="hljs-built_in">next</span><br>        <span class="hljs-keyword">else</span>:<br>            succ = self.tail<br>            <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(self.size - index - <span class="hljs-number">1</span>):<br>                succ = succ.prev<br>            pred = succ.prev.prev<br><br>        self.size -= <span class="hljs-number">1</span><br>        pred.<span class="hljs-built_in">next</span> = succ<br>        succ.prev = pred<br><br><br><span class="hljs-comment"># Your MyLinkedList object will be instantiated and called as such:</span><br><span class="hljs-comment"># obj = MyLinkedList()</span><br><span class="hljs-comment"># param_1 = obj.get(index)</span><br><span class="hljs-comment"># obj.addAtHead(val)</span><br><span class="hljs-comment"># obj.addAtTail(val)</span><br><span class="hljs-comment"># obj.addAtIndex(index,val)</span><br><span class="hljs-comment"># obj.deleteAtIndex(index)</span><br></code></pre></td></tr></table></figure><p><strong>C++</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">DLinkListNode</span>&#123;<br>    <span class="hljs-type">int</span> val;<br>    DLinkListNode *prev, *next;<br>    <span class="hljs-built_in">DLinkListNode</span>(<span class="hljs-type">int</span> _val) : <span class="hljs-built_in">val</span>(_val), <span class="hljs-built_in">prev</span>(<span class="hljs-literal">nullptr</span>), <span class="hljs-built_in">next</span>(<span class="hljs-literal">nullptr</span>) &#123;&#125;   <span class="hljs-comment">// æ„é€ å‡½æ•° åˆå§‹åŒ–æˆå‘˜å˜é‡</span><br>&#125;;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyLinkedList</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">MyLinkedList</span>() &#123;<br>        <span class="hljs-keyword">this</span>-&gt;size = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">this</span>-&gt;head = <span class="hljs-keyword">new</span> <span class="hljs-built_in">DLinkListNode</span>(<span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">this</span>-&gt;tail = <span class="hljs-keyword">new</span> <span class="hljs-built_in">DLinkListNode</span>(<span class="hljs-number">0</span>);<br>        head-&gt;next = tail;<br>        tail-&gt;prev = head;<br>    &#125;<br>    <br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">get</span><span class="hljs-params">(<span class="hljs-type">int</span> index)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(index &lt; <span class="hljs-number">0</span> || index &gt;= size)&#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>        &#125;<br>        DLinkListNode *curr;<br>        <span class="hljs-keyword">if</span>(index + <span class="hljs-number">1</span> &lt; size - index)&#123;<br>            curr = head;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;=index; i++)&#123;<br>                curr = curr-&gt;next;<br>            &#125;<br>        &#125; <span class="hljs-keyword">else</span>&#123;<br>            curr = tail;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;size - index; i++)&#123;<br>                curr = curr-&gt;prev;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> curr-&gt;val;<br>    &#125;<br>    <br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">addAtHead</span><span class="hljs-params">(<span class="hljs-type">int</span> val)</span> </span>&#123;<br>        <span class="hljs-built_in">addAtIndex</span>(<span class="hljs-number">0</span>, val);<br>    &#125;<br>    <br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">addAtTail</span><span class="hljs-params">(<span class="hljs-type">int</span> val)</span> </span>&#123;<br>        <span class="hljs-built_in">addAtIndex</span>(size, val);<br>    &#125;<br>    <br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">addAtIndex</span><span class="hljs-params">(<span class="hljs-type">int</span> index, <span class="hljs-type">int</span> val)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(index &gt; size)&#123;<br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br>        index = <span class="hljs-built_in">max</span>(<span class="hljs-number">0</span>, index);<br>        DLinkListNode *pred, *succ;<br>        <span class="hljs-keyword">if</span>(index &lt; size - index)&#123;<br>            pred = head;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;index; i++)&#123;<br>                pred = pred-&gt;next;<br>            &#125;<br>            succ = pred-&gt;next;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            succ = tail;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i &lt; size - index; i++)&#123;<br>                succ = succ-&gt;prev;<br>            &#125;<br>            pred = succ-&gt;prev;<br>        &#125;<br>        size++;<br>        DLinkListNode *toAdd = <span class="hljs-keyword">new</span> <span class="hljs-built_in">DLinkListNode</span>(val);<br>        toAdd-&gt;prev = pred;<br>        toAdd-&gt;next = succ;<br>        pred-&gt;next = toAdd;<br>        succ-&gt;prev = toAdd;<br>    &#125;<br>    <br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">deleteAtIndex</span><span class="hljs-params">(<span class="hljs-type">int</span> index)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (index &lt; <span class="hljs-number">0</span> || index &gt;= size)&#123;<br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br>        DLinkListNode *pred, *succ;<br>        <span class="hljs-keyword">if</span> (index &lt; size - index) &#123;<br>            pred = head;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;index; i++)&#123;<br>                pred = pred-&gt;next;<br>            &#125;<br>            succ = pred-&gt;next-&gt;next;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            succ = tail;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i &lt; size - index - <span class="hljs-number">1</span>; i++) &#123;<br>                succ = succ-&gt;prev;<br>            &#125;<br>            pred = succ-&gt;prev-&gt;prev;<br>        &#125;<br>        size--;<br>        DLinkListNode *p = pred-&gt;next;<br>        pred-&gt;next = succ;<br>        succ-&gt;prev = pred;<br>        <span class="hljs-keyword">delete</span> p;<br>    &#125;<br><span class="hljs-keyword">private</span>:<br>    <span class="hljs-type">int</span> size;<br>    DLinkListNode *head;<br>    DLinkListNode *tail;<br>&#125;;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Your MyLinkedList object will be instantiated and called as such:</span><br><span class="hljs-comment"> * MyLinkedList* obj = new MyLinkedList();</span><br><span class="hljs-comment"> * int param_1 = obj-&gt;get(index);</span><br><span class="hljs-comment"> * obj-&gt;addAtHead(val);</span><br><span class="hljs-comment"> * obj-&gt;addAtTail(val);</span><br><span class="hljs-comment"> * obj-&gt;addAtIndex(index,val);</span><br><span class="hljs-comment"> * obj-&gt;deleteAtIndex(index);</span><br><span class="hljs-comment"> */</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åˆ·é¢˜</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>GNERF æºç è§£è¯»ï¼ˆä¸€ï¼‰</title>
    <link href="/posts/10285/"/>
    <url>/posts/10285/</url>
    
    <content type="html"><![CDATA[<p><strong>ä¸»è¦éœ€è¦äº†è§£ç”Ÿæˆå™¨å’Œè¾¨åˆ«å™¨æ˜¯å¦‚ä½•é€šè¿‡ <em>patch</em>æ¥è¿›è¡Œè®­ç»ƒçš„ã€‚å¯¹ç”Ÿæˆå™¨(generator.py)ã€è¾¨åˆ«å™¨(discriminator)ã€å…‰çº¿é‡‡æ ·(patch_sampler.py)ã€è®­ç»ƒ(train.py,trainer.py)ç­‰æ–‡ä»¶è¿›è¡Œåˆ†æ</strong></p><h4 id="å‚æ•°">1. å‚æ•°</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs shell">Generator params: 1162624, <br>Discriminator params: 2642560<br>InversionNet params: 7168515O<br>ptimizable poses: 100<br><br>args: Namespace(<br>N_importance=64, N_samples=64, batch_size=12, begin_refine=12000, chunk=32768,dir_freq=4, <br><span class="hljs-meta prompt_"># </span><span class="language-bash">è¾¨åˆ«å™¨å‚æ•°</span><br>discriminator=&#123;&#x27;type&#x27;: &#x27;rmsprop&#x27;, &#x27;lr&#x27;: 0.0001, &#x27;lr_anneal&#x27;: 0.5, &#x27;lr_anneal_every&#x27;: 8000&#125;, <br><span class="hljs-meta prompt_"># </span><span class="language-bash">azimæ˜¯ç»•zè½´æ—‹è½¬çš„è§’åº¦, elevæ˜¯ç»•yè½´æ—‹è½¬çš„è§’åº¦</span><br>azim_range=[0.0, 360.0], elev_range=[0.0, 90.0], <br>empty_cache_every=1000, epoch=-1, far=6.0, fc_depth=8, fc_dim=360, gan_type=&#x27;standard&#x27;, <br><span class="hljs-meta prompt_"># </span><span class="language-bash">ç”Ÿæˆå™¨å‚æ•°</span><br>generator=&#123;&#x27;type&#x27;: &#x27;rmsprop&#x27;, &#x27;lr&#x27;: 0.0005, &#x27;lr_anneal&#x27;: 0.5, &#x27;lr_anneal_every&#x27;: 8000&#125;, <br>img_wh=[400, 400], <br>inv_net=&#123;&#x27;type&#x27;: &#x27;adam&#x27;, &#x27;lr&#x27;: 0.0001, &#x27;lr_anneal&#x27;: 0.5, &#x27;lr_anneal_every&#x27;: 4000&#125;, <br>inv_size=64, it=-1, look_at_origin=True, max_scale=1.0, min_scale=0.04, name=&#x27;GNeRF&#x27;, ndc=False, ndf=64, near=2.0, <br><span class="hljs-meta prompt_"># </span><span class="language-bash">patch_size = 16</span><br>num_epoch=40000, num_workers=6, patch_size=16, policy=[&#x27;color&#x27;, &#x27;cutout&#x27;], pose_mode=&#x27;3d&#x27;,<br>progressive_end=20000, progressvie_training=True, psnr_best=-inf, radius=[4.0, 4.0], random_scale=True, <br>reg_param=10.0, reg_type=&#x27;real&#x27;, sample_every=1000, save_every=2000, scale_anneal=0.0002, <br>train_pose_params=&#123;&#x27;type&#x27;: &#x27;adam&#x27;, &#x27;lr&#x27;: 0.005, &#x27;lr_anneal&#x27;: 0.5, &#x27;lr_anneal_every&#x27;: 4000&#125;, <br>val_pose_params=&#123;&#x27;type&#x27;: &#x27;adam&#x27;, &#x27;lr&#x27;: 0.005, &#x27;lr_anneal&#x27;: 0.5, &#x27;lr_anneal_every&#x27;: 4000&#125;, <br>white_back=True, xyz_freq=10<br>)<br><br>1. N_importance, N_samples: è¿™äº›å‚æ•°é€šå¸¸ç”¨äºæ§åˆ¶NeRFæ¨¡å‹ä¸­çš„é‡‡æ ·ã€‚<br>2. N_importance å’Œ N_samples å¯èƒ½è¡¨ç¤ºåœ¨ä½“ç§¯æ¸²æŸ“è¿‡ç¨‹ä¸­ç”¨äºç§¯åˆ†çš„é‡è¦æ€§é‡‡æ ·ç‚¹å’Œå‡åŒ€é‡‡æ ·ç‚¹çš„æ•°é‡ã€‚<br>3. batch_size: æŒ‡å®šäº†æ¯æ¬¡è®­ç»ƒè¿­ä»£ä¸­ä½¿ç”¨çš„æ•°æ®æ ·æœ¬æ•°é‡ã€‚<br>4. begin_refine: å¯èƒ½æŒ‡å®šäº†å¼€å§‹ç»†åŒ–æˆ–ä¼˜åŒ–æ¨¡å‹çš„ç‰¹å®šè¿­ä»£æ¬¡æ•°ã€‚<br>5. chunk: ç”¨äºæŒ‡å®šåœ¨è®­ç»ƒæˆ–æ¨ç†æ—¶å¤„ç†çš„æ•°æ®å—çš„å¤§å°ï¼Œå½±å“å†…å­˜ä½¿ç”¨å’Œè®¡ç®—æ•ˆç‡ã€‚<br>6. dir_freq: æ–¹å‘é¢‘ç‡ï¼Œç”¨äºæ–¹å‘æ•°æ®çš„å‚…é‡Œå¶ç¼–ç ã€‚<br>7. discriminator: æŒ‡å®šäº†GANä¸­é‰´åˆ«å™¨çš„å‚æ•°ï¼ŒåŒ…æ‹¬ä¼˜åŒ–å™¨ç±»å‹ï¼ˆrmspropï¼‰ï¼Œå­¦ä¹ ç‡ï¼ˆlrï¼‰ï¼Œå­¦ä¹ ç‡è¡°å‡ï¼ˆlr_annealï¼‰å’Œè¡°å‡é¢‘ç‡ï¼ˆlr_anneal_everyï¼‰ã€‚<br>8. azim_range, elev_range: å®šä¹‰äº†æ‘„åƒæœºçš„æ–¹ä½è§’ï¼ˆazimï¼‰å’Œä»°è§’ï¼ˆelevï¼‰çš„èŒƒå›´ã€‚è¿™äº›å‚æ•°æ§åˆ¶è§†è§’çš„å˜åŒ–èŒƒå›´ã€‚<br>9. empty_cache_every: å¯èƒ½æŒ‡å®šäº†æ¯å¤šå°‘è¿­ä»£æ¸…ç©ºä¸€æ¬¡GPUå†…å­˜ç¼“å­˜ã€‚<br>10. far, near: è®¾ç½®äº†æ‘„åƒæœºè§†é”¥çš„è¿œè¿‘å¹³é¢è·ç¦»ï¼Œå½±å“æ¸²æŸ“çš„æ·±åº¦èŒƒå›´ã€‚<br>11. fc_depth, fc_dim: å®šä¹‰å…¨è¿æ¥å±‚çš„æ·±åº¦å’Œç»´åº¦ã€‚<br>12. gan_type: æŒ‡å®šäº†GANçš„ç±»å‹ï¼Œè¿™é‡Œæ˜¯â€œæ ‡å‡†â€ç±»å‹ã€‚<br>13. generator: æŒ‡å®šäº†ç”Ÿæˆå™¨çš„å‚æ•°ï¼ŒåŒ…æ‹¬ä¼˜åŒ–å™¨ç±»å‹ã€å­¦ä¹ ç‡ç­‰ã€‚<br>14. img_wh: å›¾åƒçš„å®½åº¦å’Œé«˜åº¦ã€‚<br>15. inv_net, inv_size: æŒ‡å®šäº†ä¸€ä¸ªåæ¼”ç½‘ç»œï¼ˆEï¼‰çš„å‚æ•°é…ç½®ï¼ˆViTï¼‰ã€‚<br>16. it: è¡¨ç¤ºè®­ç»ƒæ—¶é—´<br>17. look_at_origin, max_scale, min_scale: æ§åˆ¶äº†è§†ç‚¹å’Œç¼©æ”¾ç›¸å…³çš„å‚æ•°ã€‚<br>18. name: æ¨¡å‹çš„åç§°ã€‚<br>19. ndc, ndf: è¿™äº›å‚æ•°çš„å…·ä½“å«ä¹‰å¯èƒ½ä¾èµ–äºæ¨¡å‹çš„ä¸Šä¸‹æ–‡ã€‚<br>20. num_epoch, num_workers: åˆ†åˆ«æŒ‡å®šäº†è®­ç»ƒçš„æ€»è½®æ•°å’Œç”¨äºæ•°æ®åŠ è½½çš„å·¥ä½œçº¿ç¨‹æ•°ã€‚<br>21. patch_size: åœ¨å¤„ç†å›¾åƒæ—¶ä½¿ç”¨çš„è¡¥ä¸å¤§å°ã€‚<br>22. policy: å¯èƒ½æŒ‡å®šäº†æ•°æ®å¢å¼ºç­–ç•¥ã€‚<br>23. pose_mode: æŒ‡å®šäº†å§¿æ€æ¨¡å‹çš„ç±»å‹ã€‚<br>24. progressive_end, progressvie_training: æŒ‡ç¤ºæ˜¯å¦ä½¿ç”¨æ¸è¿›å¼è®­ç»ƒåŠå…¶ç»“æŸæ—¶é—´ã€‚<br>25. psnr_best: è®°å½•æœ€å¥½çš„å³°å€¼ä¿¡å™ªæ¯”ï¼ˆPSNRï¼‰å€¼ã€‚<br>26. radius, random_scale: æ§åˆ¶äº†æ‘„åƒæœºä½ç½®å’Œéšæœºç¼©æ”¾çš„å‚æ•°ã€‚<br>27. reg_param, reg_type: æ­£åˆ™åŒ–å‚æ•°å’Œç±»å‹ã€‚<br>28. sample_every, save_every: æ§åˆ¶æ ·æœ¬é‡‡é›†å’Œæ¨¡å‹ä¿å­˜çš„é¢‘ç‡ã€‚<br>29. scale_anneal: ç¼©æ”¾è¡°å‡å‚æ•°ã€‚<br>30. train_pose_params, val_pose_params: è®­ç»ƒå’ŒéªŒè¯æ—¶å§¿æ€å‚æ•°çš„è®¾ç½®ã€‚<br>31. white_back, xyz_freq: æ˜¯å¦ä½¿ç”¨ç™½è‰²èƒŒæ™¯å’Œç©ºé—´é¢‘ç‡ã€‚<br></code></pre></td></tr></table></figure><h4 id="è®­ç»ƒè¿‡ç¨‹">2. è®­ç»ƒè¿‡ç¨‹</h4><ol type="1"><li>trainer.py</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># æ¸è¿›å¼è®­ç»ƒ</span><br><span class="hljs-keyword">if</span> self.cfg.progressvie_training:<br>    img_real = self.progressvie_training(img_real)  <span class="hljs-comment"># [N, 3, patch_size, patch_size]</span><br>    val_imgs = self.progressvie_training(val_imgs_raw)<br>    <br>    <span class="hljs-comment"># update_intrinsic æ›´æ–°ç›¸æœºå†…å‚å‚æ•°ï¼Œä¸»è¦æ˜¯æ¥æ›´æ–°ç„¦è·</span><br>    self.generator.ray_sampler.update_intrinsic(self.img_wh_curr / self.img_wh_end) <span class="hljs-comment"># æ ¹æ® patch è°ƒæ•´ç„¦è·</span><br><br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">progressvie_training</span>(<span class="hljs-params">self, img</span>):<br>    <span class="hljs-keyword">if</span> self.phase == <span class="hljs-string">&#x27;A&#x27;</span>:<br>        scale = <span class="hljs-number">1.0</span> / self.cfg.begin_refine * self.it   <span class="hljs-comment"># ç¼©æ”¾å°ºåº¦</span><br><br>        self.img_wh_curr = self.start_img_wh + ((<span class="hljs-number">128.0</span> - self.start_img_wh) * scale).<span class="hljs-built_in">int</span>()  <span class="hljs-comment"># å½“å‰å›¾åƒå°ºåº¦</span><br>    <span class="hljs-keyword">elif</span> self.phase == <span class="hljs-string">&#x27;ABAB&#x27;</span>:<br>        img_scale_base = self.cfg.begin_refine / self.cfg.progressive_end<br>        scale = img_scale_base + (<span class="hljs-number">1.0</span> - img_scale_base) / <br>        (self.cfg.progressive_end - self.cfg.begin_refine) * (self.it - self.cfg.begin_refine)<br><br>        self.img_wh_curr = <span class="hljs-number">128</span> + ((self.img_wh_end - <span class="hljs-number">128.0</span>) / <br>                                  (<span class="hljs-number">1.0</span> - img_scale_base) * (scale - img_scale_base)).<span class="hljs-built_in">int</span>()<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">return</span> img<br><br>        downsample_func = Resize((self.img_wh_curr[<span class="hljs-number">1</span>], self.img_wh_curr[<span class="hljs-number">0</span>]))<span class="hljs-comment"># [400, 400] -&gt; [16, 16] ä¸‹é‡‡æ ·å‡½æ•°</span><br>        img = downsample_func(img)  <span class="hljs-comment"># img [N, 3, 400(img_size), 400] -&gt; [N, 3, 16(patch_size), 16]</span><br><br>        <span class="hljs-keyword">return</span> img  <span class="hljs-comment"># img [N, 3, 16, 16]</span><br></code></pre></td></tr></table></figure><h4 id="å…‰çº¿é‡‡æ ·">3. å…‰çº¿é‡‡æ ·</h4><ol type="1"><li>ray_sampler.py</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">RaySampler</span>(<span class="hljs-title class_ inherited__">object</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, near, far, azim_range, elev_range, radius, look_at_origin, ndc, intrinsics</span>):<br>        self.near = near<br>        self.far = far<br>        self.azim_range = azim_range    <span class="hljs-comment"># æ–¹ä½è§’</span><br>        self.elev_range = elev_range    <span class="hljs-comment"># ä»°è§†è§’</span><br>        self.radius = radius<br>        self.look_at_origin = look_at_origin<br>        self.up = (<span class="hljs-number">0.</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>)<br>        self.ndc = ndc<br>        self.scale = <span class="hljs-number">1.0</span><br>        self.start_intrinsics = intrinsics<br>        <br>    <span class="hljs-comment"># æ›´æ–°æ‘„åƒæœºçš„å†…å‚çŸ©é˜µ</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">update_intrinsic</span>(<span class="hljs-params">self, scale</span>):<br>        self.intrinsics = self.start_intrinsics.clone().detach()<br>        self.intrinsics[:<span class="hljs-number">2</span>] = self.intrinsics[:<span class="hljs-number">2</span>] * scale[:, <span class="hljs-literal">None</span>]  <span class="hljs-comment"># æ›´æ–°ç„¦è·</span><br><br>        <span class="hljs-keyword">return</span> self.intrinsics<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">random_poses</span>(<span class="hljs-params">self, nbatch, device=<span class="hljs-string">&#x27;cpu&#x27;</span></span>):<br>        raes = torch.rand(nbatch, <span class="hljs-number">3</span>, device=device)<br><br>        azims = raes[:, <span class="hljs-number">0</span>:<span class="hljs-number">1</span>] * (self.azim_range[<span class="hljs-number">1</span>] - self.azim_range[<span class="hljs-number">0</span>]) + self.azim_range[<span class="hljs-number">0</span>]   <span class="hljs-comment"># [batch, 1]</span><br>        elevs = raes[:, <span class="hljs-number">1</span>:<span class="hljs-number">2</span>] * (self.elev_range[<span class="hljs-number">1</span>] - self.elev_range[<span class="hljs-number">0</span>]) + self.elev_range[<span class="hljs-number">0</span>]   <span class="hljs-comment"># [batch, 1]</span><br><br>        azims = math.pi / <span class="hljs-number">180.0</span> * azims<br>        elevs = math.pi / <span class="hljs-number">180.0</span> * elevs<br><br>        cx = torch.cos(elevs) * torch.cos(azims)<br>        cy = torch.cos(elevs) * torch.sin(azims)<br>        cz = torch.sin(elevs)<br>        T = torch.cat([cx, cy, cz], -<span class="hljs-number">1</span>)  <span class="hljs-comment"># [N, 3]</span><br><br>        radius = raes[:, <span class="hljs-number">2</span>:] * (self.radius[<span class="hljs-number">1</span>] - self.radius[<span class="hljs-number">0</span>]) + self.radius[<span class="hljs-number">0</span>]<br><br>        T = T * radius<br><br>        <span class="hljs-keyword">if</span> self.look_at_origin:<br>            lookat = (<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)<br>        <span class="hljs-keyword">else</span>:<br>            xy = torch.randn((nbatch, <span class="hljs-number">2</span>), device=device) * self.radius[<span class="hljs-number">0</span>] * <span class="hljs-number">0.01</span><br>            z = torch.zeros((nbatch, <span class="hljs-number">1</span>), device=device)<br><br>            lookat = torch.cat((xy, z), dim=-<span class="hljs-number">1</span>)<br><br>        R = look_at_rotation(T, at=lookat, up=self.up, device=device)  <span class="hljs-comment"># [N, 3, 3]</span><br>        RT = torch.cat((R, T[..., <span class="hljs-literal">None</span>]), -<span class="hljs-number">1</span>)  <span class="hljs-comment"># [N, 3, 4]</span><br><br>        <span class="hljs-keyword">return</span> RT   <span class="hljs-comment"># [batch, 3, 4]</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>æºç è§£è¯»</category>
      
    </categories>
    
    
    <tags>
      
      <tag>3D GAN</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è®ºæ–‡éšè®°ï¼ˆ2024.1.22ï¼‰</title>
    <link href="/posts/56656/"/>
    <url>/posts/56656/</url>
    
    <content type="html"><![CDATA[<h3 id="gnerf-gan-based-neural-radiance-field-without-posed-camera">1GNeRF: GAN-based Neural Radiance Field without Posed Camera</h3><figure><img src="image-20240122154435519.png" alt="overview" /><figcaption aria-hidden="true">overview</figcaption></figure><p>â€ƒâ€ƒGNeRFçš„ç®¡é“ã€‚æˆ‘ä»¬çš„ç®¡é“åˆ†ä¸¤ä¸ªé˜¶æ®µè”åˆå­¦ä¹ è¾å°„åœºå’Œç›¸æœºå§¿åŠ¿ã€‚åœ¨é˜¶æ®µ Aä¸­ï¼Œæˆ‘ä»¬ä»é¢„å®šä¹‰çš„å§¿åŠ¿é‡‡æ ·ç©ºé—´ä¸­éšæœºé‡‡æ ·å§¿åŠ¿ï¼Œå¹¶ä½¿ç”¨ NeRF (G)æ¨¡å‹ç”Ÿæˆç›¸åº”çš„å›¾åƒã€‚é‰´åˆ«å™¨ (D)å­¦ä¹ å¯¹çœŸå‡å›¾åƒå—è¿›è¡Œåˆ†ç±»ã€‚åæ¼”ç½‘ç»œ(E)é‡‡ç”¨å‡å›¾åƒè¡¥ä¸ï¼Œå­¦ä¹ è¾“å‡ºå®ƒä»¬çš„å§¿æ€ã€‚ç„¶åï¼Œéšç€åæ¼”ç½‘ç»œçš„å‚æ•°å†»ç»“ï¼Œæˆ‘ä»¬ä¼˜åŒ–äº†æ•°æ®é›†ä¸­çœŸå®å›¾åƒçš„å§¿æ€åµŒå…¥ã€‚åœ¨B é˜¶æ®µï¼Œæˆ‘ä»¬åˆ©ç”¨å…‰åº¦æŸå¤±æ¥è”åˆç»†åŒ–è¾å°„åœºå’Œå§¿åŠ¿åµŒå…¥ã€‚æˆ‘ä»¬éµå¾ªæ¨¡å¼â€˜A â†’ ABâ€¦ AB â†’ Aâ€™ çš„æ··åˆè¿­ä»£ä¼˜åŒ–ç­–ç•¥ï¼Œåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ã€‚</p><h4 id="overviwe">1.1 Overviwe</h4><ol type="1"><li>Phase A</li></ol><p>â€ƒâ€ƒåœ¨é˜¶æ®µ Aä¸­ï¼Œå¯¹æ¯å¼ å›¾åƒæˆ–é¢„è®­ç»ƒçš„è¾å°„åœºæ²¡æœ‰åˆç†çš„ç›¸æœºä½å§¿ä¼°è®¡ã€‚åœ¨è¿™ä¸ªé˜¶æ®µçš„ç›®æ ‡æ˜¯é¢„æµ‹æ¯ä¸ªå›¾åƒçš„ç²—ç•¥å§¿åŠ¿ï¼Œå¹¶å­¦ä¹ åœºæ™¯çš„ç²—ç³™è¾å°„åœºã€‚ä½¿ç”¨å¯¹æŠ—æ€§å­¦ä¹ æ¥å®ç°ç›®æ ‡ã€‚æˆ‘ä»¬çš„æ¶æ„åŒ…å«ä¸¤éƒ¨åˆ†ï¼šç”Ÿæˆå™¨G å’Œé‰´åˆ«å™¨ Dã€‚ä»¥éšæœºç›¸æœºä½å§¿ Ï† ä½œä¸ºè¾“å…¥ï¼Œç”Ÿæˆå™¨ Gå°†é€šè¿‡æŸ¥è¯¢ç¥ç»è¾å°„åœºå¹¶æ‰§è¡Œ<code>ç±»ä¼¼ NeRF çš„ä½“ç»˜åˆ¶</code>æ¥åˆæˆè§†å›¾ä¸­è§‚å¯Ÿåˆ°çš„å›¾åƒã€‚æ¥è‡ªè®¸å¤šé‡‡æ ·ç›¸æœºå§¿åŠ¿çš„åˆæˆå›¾åƒé›†å°†è¢«<code>åˆ†è§£ä¸ºè¡¥ä¸(patch)</code>ï¼Œå¹¶ä¸é‰´åˆ«å™¨Dçš„<code>çœŸå®è¡¥ä¸(patch)</code>é›†è¿›è¡Œæ¯”è¾ƒã€‚<em>ä½¿ç”¨patchçš„æ–¹æ³•æ¥è¿›è¡Œè¾¨åˆ«ã€‚</em>æˆ‘ä»¬å°†çœŸå®å›¾åƒå—<span class="math inline">\(Pd(I)\)</span> ä¸è®­ç»ƒé›†Iå’Œç”Ÿæˆçš„å›¾åƒå— <spanclass="math inline">\(Pg(I|Î˜)\)</span> ä¹‹é—´çš„åˆ†å¸ƒè·ç¦»æœ€å°åŒ–ï¼Œå®šä¹‰å¦‚ä¸‹ï¼š<span class="math display">\[Î˜^âˆ— = arg ~ \min _{\Theta} ~ Dist (Pg (I|Î˜)||Pd(I)) \\Pg (I|Î˜) =âˆ«Ï†G(Ï†;FÎ˜)P (Ï†)dÏ†\]</span> â€ƒâ€ƒå¯¹äº GAN è®­ç»ƒè¿‡ç¨‹ï¼Œæˆ‘ä»¬é‡‡ç”¨åŠ¨æ€è¡¥ä¸é‡‡æ ·ç­–ç•¥ï¼Œå¦‚å›¾ 2çš„å·¦ä¸‹è§’æ‰€ç¤ºã€‚æ¯ä¸ªè¡¥ä¸åœ¨å›¾åƒåŸŸä¸­é‡‡æ ·ï¼Œå›ºå®šå¤§å°ä¸º 16 Ã—16ï¼Œä½†åŠ¨æ€å°ºåº¦å’Œéšæœºåç§»ã€‚å¯¹äºä½å§¿ä¼˜åŒ–è¿‡ç¨‹ï¼Œæˆ‘ä»¬é‡‡ç”¨é™æ€patché‡‡æ ·ç­–ç•¥ï¼Œå¦‚å›¾2å·¦ä¸Šè§’æ‰€ç¤ºã€‚æ¯ä¸ªpatchåœ¨æ•´ä¸ªå›¾åƒåŸŸå‡åŒ€é‡‡æ ·ï¼Œå¤§å°ä¸º64Ã—64ã€‚æˆ‘ä»¬è¿˜åœ¨å¼€å§‹æ—¶ç¼©æ”¾ç›¸æœºå†…åœ¨å‡½æ•°ä»¥æœ€å¤§åŒ–æ„Ÿå—é‡å¹¶é€æ­¥å°†å…¶å¢åŠ åˆ°åŸå§‹å€¼ä»¥ä¸“æ³¨äºç²¾ç»†ç»†èŠ‚ã€‚åœ¨å®è·µä¸­ï¼Œè¿™äº›ç­–ç•¥ä¸ºGAN è®­ç»ƒè¿‡ç¨‹çš„ç¨³å®šæ€§å¸¦æ¥äº†å·¨å¤§çš„å¥½å¤„ã€‚</p><p>â€ƒâ€ƒå€Ÿç”¨ Vision Transformer Network æ¥æ„å»ºæˆ‘ä»¬çš„åæ¼”ç½‘ç»œ Eï¼Œè¯¥ç½‘ç»œæœ€åä¸€å±‚è¢«ä¿®æ”¹ä»¥è¾“å‡ºç›¸æœºä½å§¿ã€‚</p><ol start="2" type="1"><li>Phase B</li></ol><p>â€ƒâ€ƒè¯¥é˜¶æ®µé€šè¿‡æœ€å°åŒ–æ–¹ç¨‹å¼ä¸­å®šä¹‰çš„å…‰åº¦é‡å»ºè¯¯å·® LN (Î˜, Î¦)æ¥ä¼˜åŒ–å§¿åŠ¿åµŒå…¥å’Œ NeRF æ¨¡å‹ã€‚</p><h4 id="code">1.2 Code</h4>]]></content>
    
    
    <categories>
      
      <category>ç®€è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®€è®°</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ¯å‘¨æ€»ç»“ -- å¯¹æœªæ¥è¯´ä½ å¥½ï¼Œä¸è¿‡å»è¯´å†è§</title>
    <link href="/posts/22207/"/>
    <url>/posts/22207/</url>
    
    <content type="html"><![CDATA[<div align = "center"><H3>æ€»ç»“ &amp; åæ€</div><p><strong>æ—¶é—´ï¼š2024.1.15-2024.1.21</strong></p><p>â€ƒâ€ƒä¸€å‘¨åˆè¿‡å»äº†ï¼Œè¿™å‘¨å›å®¶äº†ï¼Œç„¶åå°±ä¹Ÿæ²¡æœ‰å­¦å•¥ä¸œè¥¿ï¼Œä¹Ÿæ²¡æœ‰å‘ç”Ÿä»€ä¹ˆç‰¹åˆ«çš„äº‹æƒ…ï¼Œå¹³å¹³æ— å¥‡çš„ä¸€å‘¨å­ã€‚è¿™å‘¨è¿˜æ˜¯ç…§æ ·æ¯å¤©åˆ·äº†åŠ›æ‰£ï¼Œå¹¶ä¸”æˆåŠŸçš„å°†åŠ›æ‰£åˆ·åˆ°100é¢˜äº†ï¼Œç»§ç»­åŠ æ²¹ï¼Œåˆ·åˆ°250é¢˜æŒ‡æ—¥å¯å¾…ğŸ’ªï¼è®ºæ–‡çœ‹äº†ä¸€ç¯‡è¿˜æ˜¯ä¸¤ç¯‡å»äº†ï¼Œè¿™å‘¨æ²¡æœ‰è®°å½•éƒ½ç»™å¿˜äº†ï¼Œçœ‹äº†ä¸€ç¯‡å«<em>What You See is What You GAN: Rendering Every Pixel forHigh-Fidelity Geometry in 3D GANs</em>çš„è®ºæ–‡ï¼Œæƒ³æ³•æ˜¯æŒºä¸é”™çš„ï¼Œä½†æ˜¯æ²¡æœ‰å¼€æºï¼Œå¯æƒœäº†~ï¼Œç»§ç»­åŠ æ²¹æ‰¾æ–°çš„çš„æ¨¡å—å§ã€‚ç„¶åå°±æ˜¯å®éªŒç»“æœè·‘å‡ºæ¥äº†ï¼Œè®­ç»ƒæ—¶é—´å°‘äº†æ¥è¿‘ä¸€å¤©ï¼Œè€Œä¸”æœ€åçš„<code>FID</code> ç»“æœå·®ä¸å¤šï¼Œç®—æ˜¯ä¸€ä¸ªè¿›æ­¥å§ï¼Œæ¥ä¸‹æ¥éœ€è¦å»çœ‹<code>patch-wise GAN</code>çš„ä»£ç äº†ï¼Œå†è¿›è¡Œä¸¤åˆ°ä¸‰ä¸ªæ”¹è¿›ï¼Œä¸æ‰ç‚¹çš„è¯ï¼ŒåŸºæœ¬å°±æˆäº†ï¼</p><p>â€ƒâ€ƒå›æ¥ä¹‹åå‘¢ï¼Œéƒ½å¿«è¢«æˆ‘æ•™ç»ƒæ°”æ­»äº†ğŸ˜¡ï¼Œæµªè´¹æˆ‘å·®ä¸å¤š5å¤©æ—¶é—´ï¼Œæ—©çŸ¥é“å°±æ™šç‚¹å›æ¥ç»ƒè½¦äº†ï¼Œå“­æ­»ğŸ˜­ã€‚å›æ¥ä¹‹åï¼Œå¯èƒ½æ˜¯è¿˜æ²¡æœ‰é€‚åº”å§ï¼Œæ„Ÿè§‰ç©ºè½è½çš„ï¼Œå¥½åƒå°‘äº†ç‚¹ä»€ä¹ˆï¼Œå¯èƒ½æ˜¯å› ä¸ºå›æ¥çš„é‚£å¤©æ™šä¸Šåˆçœ‹è§å­¦å¦¹äº†å§ï¼Œå“ˆå“ˆå“ˆï¼Œç„¶åå‰å‡ ä¸ªæœˆçš„è®°å¿†çªç„¶æ¶Œä¸Šå¿ƒå¤´ï¼Œå¯¼è‡´åˆä¼¤å¿ƒäº†ä¸€ä¼šã€‚å¥½åœ¨æ˜¯æˆ‘çš„äº²æˆšè¯·é—®åƒäº†å‡ é¡¿é¥­ï¼Œè¿˜å–äº†å¥½ä¹…å°±æƒ³å–çš„èŒ¶é¢œäº†ï¼Œæ„Ÿæƒ…ä¸Šçš„ä¼¤å°±ç”¨é£Ÿç‰©æ¥å¼¥è¡¥å­~ï¼Œå“ˆå“ˆå“ˆå“ˆã€‚è¿™ä¸ªå¯’å‡è¦å¥½å¥½å®‰æ’äº†å‘€ï¼Œä¸ä»…è¦ç»ƒè½¦ï¼Œæ›´é‡è¦çš„æ˜¯æŠŠå°è®ºæ–‡ç»™å†™å‡ºæ¥ï¼Œä¸‰æœˆä»½å°±è¦æˆªç¨¿äº†ï¼Œçæƒœè¿™æœ€åçš„æœºä¼šäº†ï¼Œè¯´ä¸å®šå‘äº†å°è®ºæ–‡ä¹‹åè¿˜èƒ½è¡¥å‘ä¸€ä¸ªä¸“åˆ©å‘¢ï¼Œè¦æ˜¯èƒ½å†å‘ä¸€ä¸ªä¸“åˆ©ï¼Œå¯å°±èµšå¤§å‘äº†ï¼æœ€åå°±æ˜¯æ‰¾å®ä¹ çš„äº‹æƒ…ï¼Œå¯’å‡è¦å¼€å§‹è®¡åˆ’å¦‚ä½•å­¦ä¹ éŸ³è§†é¢‘çŸ¥è¯†äº†ï¼Œå…ˆæŠŠC++å¤§ç±»éœ€è¦å­¦çš„çŸ¥è¯†è¿‡ä¸€ä¸‹ï¼Œç„¶åå†å»ç²¾é’»éŸ³è§†é¢‘æ–¹å‘çš„çŸ¥è¯†ï¼ŒåŒæ—¶è¿˜èƒ½å†è¡¥å……ä¸€ç‚¹åå°çš„çŸ¥è¯†ï¼Œä»»åŠ¡è‰°å·¨å“‡ï¼Œè¿˜æœ‰å¥½å¤šå¥½å¤šå¥½å¤šä¸œè¥¿éœ€è¦å»å­¦ä¹ ï¼Œå¸Œæœ›èƒ½å¤Ÿåœ¨ä¸‹ä¸ªå­¦æœŸé¡ºåˆ©æ‰¾åˆ°ä¸€ä¸ªæ»¡æ„çš„å®ä¹ ï¼Œè¿™æ ·çš„è¯ç¦»ä½ ç†æƒ³çš„ç”Ÿæ´»åˆè¿‘äº†ä¸€æ­¥å“Ÿ~ï¼Œå¥½å¥½åŠ æ²¹å‘¢ï¼Fightingï¼ï¼ï¼ğŸ’ª</p><p><strong>å¯¹æœªæ¥è¯´ä½ å¥½ï¼Œä¸è¿‡å»è¯´å†è§</strong></p>]]></content>
    
    
    <categories>
      
      <category>æ¯å‘¨å›é¡¾</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ€»ç»“&amp;åæ€</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç®—æ³•è®­ç»ƒä¹‹ -- ç§»é™¤é“¾è¡¨å…ƒç´ </title>
    <link href="/posts/52563/"/>
    <url>/posts/52563/</url>
    
    <content type="html"><![CDATA[<h3 id="ç§»é™¤é“¾è¡¨å…ƒç´ ">ç§»é™¤é“¾è¡¨å…ƒç´ </h3><h4 id="æ€è·¯">1. æ€è·¯</h4><p>â€ƒâ€ƒé¢˜ç›®ï¼šç»™ä½ ä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹ <code>head</code> å’Œä¸€ä¸ªæ•´æ•°<code>val</code> ï¼Œè¯·ä½ åˆ é™¤é“¾è¡¨ä¸­æ‰€æœ‰æ»¡è¶³ <code>Node.val == val</code>çš„èŠ‚ç‚¹ï¼Œå¹¶è¿”å› <strong>æ–°çš„å¤´èŠ‚ç‚¹</strong> ã€‚<ahref="https://leetcode.cn/problems/remove-linked-list-elements/description/">203.ç§»é™¤é“¾è¡¨å…ƒç´  - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p><blockquote><p>ç§»é™¤æ“ä½œï¼Œå°±æ˜¯è®©èŠ‚ç‚¹nextæŒ‡é’ˆç›´æ¥æŒ‡å‘ä¸‹ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¯¹äºå•é“¾è¡¨æ¥è¯´ï¼ŒæŒ‡é’ˆåªèƒ½æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå› æ­¤ï¼Œè¿˜éœ€è¦åˆ¤æ–­å¤´ç»“ç‚¹æ˜¯å¦è¯¥è¢«åˆ é™¤ã€‚ç§»é™¤çš„ç®—æ³•ä¸»è¦æœ‰è¿­ä»£å’Œé€’å½’ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ä½¿ç”¨Cï¼ŒC++ï¼Œä¸è¦å¿˜äº†è¿˜è¦ä»å†…å­˜ä¸­åˆ é™¤è¿™ä¸¤ä¸ªç§»é™¤çš„èŠ‚ç‚¹ã€‚</p><p>é“¾è¡¨æ“ä½œçš„ä¸¤ç§æ–¹å¼ï¼š</p><ul><li>ç›´æ¥ä½¿ç”¨åŸæ¥çš„é“¾è¡¨æ¥è¿›è¡Œåˆ é™¤æ“ä½œã€‚</li><li>è®¾ç½®ä¸€ä¸ªè™šæ‹Ÿå¤´ç»“ç‚¹åœ¨è¿›è¡Œåˆ é™¤æ“ä½œã€‚</li></ul></blockquote><h4 id="è§£æ³•">2. è§£æ³•</h4><p><strong>Python</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># Definition for singly-linked list.</span><br><span class="hljs-comment"># class ListNode:</span><br><span class="hljs-comment">#     def __init__(self, val=0, next=None):</span><br><span class="hljs-comment">#         self.val = val</span><br><span class="hljs-comment">#         self.next = next</span><br><span class="hljs-comment"># è™šæ‹Ÿå¤´ç»“ç‚¹æ–¹å¼</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">removeElements</span>(<span class="hljs-params">self, head: <span class="hljs-type">Optional</span>[ListNode], val: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-type">Optional</span>[ListNode]:<br>        pre_node = ListNode(<span class="hljs-built_in">next</span>=head)<span class="hljs-comment"># è®¾ç½®è™šæ‹Ÿå¤´ç»“ç‚¹ï¼Œå…¶ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ä¸º head</span><br>        node = pre_node<span class="hljs-comment"># è®¾ç½®ç§»åŠ¨æŒ‡é’ˆ</span><br>        <span class="hljs-keyword">while</span> node.<span class="hljs-built_in">next</span>:<span class="hljs-comment"># éå†åˆ—è¡¨å¹¶åˆ é™¤å€¼ä¸ºvalçš„èŠ‚ç‚¹</span><br>            <span class="hljs-keyword">if</span> node.<span class="hljs-built_in">next</span>.val == val:<br>                node.<span class="hljs-built_in">next</span> = node.<span class="hljs-built_in">next</span>.<span class="hljs-built_in">next</span><br>            <span class="hljs-keyword">else</span>:<br>                node = node.<span class="hljs-built_in">next</span><span class="hljs-comment"># æŒ‡é’ˆå‘åç§»åŠ¨</span><br>        <span class="hljs-keyword">return</span> pre_node.<span class="hljs-built_in">next</span><br>    <br><span class="hljs-comment"># ç›´æ¥ä½¿ç”¨åŸæ¥çš„é“¾è¡¨ï¼Œåˆ¤æ–­å¤´ç»“ç‚¹æ˜¯å¦åˆ é™¤</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">removeElements</span>(<span class="hljs-params">self, head: <span class="hljs-type">Optional</span>[ListNode], val: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-type">Optional</span>[ListNode]:<br>        <br>        <span class="hljs-keyword">if</span> head <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<span class="hljs-comment"># åˆ¤æ–­æ˜¯å¦ä¸ºç©ºé“¾è¡¨</span><br>            <span class="hljs-keyword">return</span> head<br><br>        cur = head<span class="hljs-comment"># å…ˆåˆ é™¤å¤´ç»“ç‚¹ä»¥å¤–çš„ ç›®æ ‡å…ƒç´ </span><br>        <span class="hljs-keyword">while</span> cur.<span class="hljs-built_in">next</span>:<br>            <span class="hljs-keyword">if</span> cur.<span class="hljs-built_in">next</span>.val == val:<br>                cur.<span class="hljs-built_in">next</span> = cur.<span class="hljs-built_in">next</span>.<span class="hljs-built_in">next</span><br>            <span class="hljs-keyword">else</span>:<br>                cur = cur.<span class="hljs-built_in">next</span><span class="hljs-comment"># æŒ‡é’ˆå‘åç§»åŠ¨</span><br><br>        <span class="hljs-keyword">return</span> head.<span class="hljs-built_in">next</span> <span class="hljs-keyword">if</span> head.val == val <span class="hljs-keyword">else</span> head<span class="hljs-comment"># æœ€ååˆ¤æ–­å¤´ç»“ç‚¹æ˜¯å¦åº”è¯¥è¢«åˆ é™¤</span><br>    <br><span class="hljs-comment"># é€’å½’æ–¹æ³• æ— éœ€é¢å¤–çš„ç§»åŠ¨æŒ‡é’ˆ</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution3</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">removeElements</span>(<span class="hljs-params">self, head: ListNode, val: <span class="hljs-built_in">int</span></span>) -&gt; ListNode:<br>        <span class="hljs-keyword">if</span> head <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br>            <span class="hljs-keyword">return</span> head<br>        head.<span class="hljs-built_in">next</span> = self.removeElements(head.<span class="hljs-built_in">next</span>, val)<br>        <span class="hljs-comment"># åˆ©ç”¨é€’å½’å¿«é€Ÿåˆ°è¾¾é“¾è¡¨å°¾ç«¯ï¼Œç„¶åä»åå¾€å‰åˆ¤æ–­å¹¶åˆ é™¤é‡å¤å…ƒç´ </span><br>        <span class="hljs-keyword">return</span> head.<span class="hljs-built_in">next</span> <span class="hljs-keyword">if</span> head.val == val <span class="hljs-keyword">else</span> head<br>        <span class="hljs-comment"># æ¯æ¬¡é€’å½’è¿”å›çš„ä¸ºå½“å‰é€’å½’å±‚çš„head(è‹¥å…¶å€¼ä¸ä¸ºval)æˆ–head.next</span><br>        <span class="hljs-comment"># head.nextåŠä¹‹åçš„é“¾è¡¨åœ¨æ·±å±‚é€’å½’ä¸­å·²ç»åšäº†åˆ é™¤å€¼ä¸ºvalèŠ‚ç‚¹çš„å¤„ç†ï¼Œ</span><br>        <span class="hljs-comment"># å› æ­¤åªéœ€è¦åˆ¤æ–­å½“å‰é€’å½’å±‚çš„headå€¼æ˜¯å¦ä¸ºvalï¼Œä»è€Œå†³å®šheadæ˜¯åˆ æ˜¯ç•™å³å¯</span><br></code></pre></td></tr></table></figure><p><strong>C++</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Definition for singly-linked list.</span><br><span class="hljs-comment"> * struct ListNode &#123;</span><br><span class="hljs-comment"> *     int val;</span><br><span class="hljs-comment"> *     ListNode *next;</span><br><span class="hljs-comment"> *     ListNode() : val(0), next(nullptr) &#123;&#125;</span><br><span class="hljs-comment"> *     ListNode(int x) : val(x), next(nullptr) &#123;&#125;</span><br><span class="hljs-comment"> *     ListNode(int x, ListNode *next) : val(x), next(next) &#123;&#125;</span><br><span class="hljs-comment"> * &#125;;</span><br><span class="hljs-comment"> */</span><br><br><span class="hljs-comment">// è™šæ‹Ÿå¤´èŠ‚ç‚¹</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">ListNode* <span class="hljs-title">removeElements</span><span class="hljs-params">(ListNode* head, <span class="hljs-type">int</span> val)</span> </span>&#123;<br>        <span class="hljs-keyword">struct</span> <span class="hljs-title class_">ListNode</span>* pre_node = <span class="hljs-keyword">new</span> <span class="hljs-built_in">ListNode</span>(<span class="hljs-number">0</span>, head);<br>        <span class="hljs-keyword">struct</span> <span class="hljs-title class_">ListNode</span>* temp = pre_node;<br>        <span class="hljs-keyword">while</span>(temp-&gt;next != <span class="hljs-literal">NULL</span>)&#123;<br>            <span class="hljs-keyword">if</span>(temp-&gt;next-&gt;val == val)&#123;<br>                temp-&gt;next = temp-&gt;next-&gt;next;<br>            &#125;<span class="hljs-keyword">else</span>&#123;<br>                temp = temp-&gt;next;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> pre_node-&gt;next;<br>    &#125;<br>&#125;;<br><br><span class="hljs-comment">// åˆ¤æ–­å¤´ç»“ç‚¹</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">ListNode* <span class="hljs-title">removeElements</span><span class="hljs-params">(ListNode* head, <span class="hljs-type">int</span> val)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(head == <span class="hljs-literal">nullptr</span>)&#123;<br>            <span class="hljs-keyword">return</span> head;<br>        &#125;<br>        ListNode* p = head;<br>        <span class="hljs-keyword">while</span>(p-&gt;next)&#123;<br>            <span class="hljs-keyword">if</span>(p-&gt;next-&gt;val ==val)&#123;<br>                p-&gt;next = p-&gt;next-&gt;next;<br>            &#125;<span class="hljs-keyword">else</span>&#123;<br>                p = p-&gt;next;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> head-&gt;val == val ? head-&gt;next : head;<br>    &#125;<br>&#125;;<br><br><span class="hljs-comment">// é€’å½’</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">ListNode* <span class="hljs-title">removeElements</span><span class="hljs-params">(ListNode* head, <span class="hljs-type">int</span> val)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (head == <span class="hljs-literal">nullptr</span>) &#123;<br>            <span class="hljs-keyword">return</span> head;<br>        &#125;<br>        head-&gt;next = <span class="hljs-built_in">removeElements</span>(head-&gt;next, val);<br>        <span class="hljs-keyword">return</span> head-&gt;val == val ? head-&gt;next : head;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h4 id="å˜ç§">3. å˜ç§</h4><p><strong>(1) é¢˜ç›®ï¼š</strong>æœ‰ä¸€ä¸ªå•é“¾è¡¨çš„<code>head</code>ï¼Œæˆ‘ä»¬æƒ³åˆ é™¤å®ƒå…¶ä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹<code>node</code>ã€‚ç»™ä½ ä¸€ä¸ªéœ€è¦åˆ é™¤çš„èŠ‚ç‚¹ <code>node</code> ã€‚ä½ å°†<strong>æ— æ³•è®¿é—®</strong> ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ <code>head</code>ã€‚é“¾è¡¨çš„æ‰€æœ‰å€¼éƒ½æ˜¯<strong>å”¯ä¸€çš„</strong>ï¼Œå¹¶ä¸”ä¿è¯ç»™å®šçš„èŠ‚ç‚¹ <code>node</code>ä¸æ˜¯é“¾è¡¨ä¸­çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹ã€‚<ahref="https://leetcode.cn/problems/delete-node-in-a-linked-list/description/">237.åˆ é™¤é“¾è¡¨ä¸­çš„èŠ‚ç‚¹ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p><blockquote><p><strong>æ€è·¯ï¼š</strong>å…¶ä¸­å®è´¨ä¹Ÿæ˜¯åˆ é™¤èŠ‚ç‚¹ï¼Œåˆ é™¤é“¾è¡¨ä¸­çš„èŠ‚ç‚¹çš„å¸¸è§çš„æ–¹æ³•æ˜¯å®šä½åˆ°å¾…åˆ é™¤èŠ‚ç‚¹çš„ä¸Šä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¿®æ”¹ä¸Šä¸€ä¸ªèŠ‚ç‚¹çš„nextnextæŒ‡é’ˆï¼Œä½¿å…¶æŒ‡å‘å¾…åˆ é™¤èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå³å¯å®Œæˆåˆ é™¤æ“ä½œã€‚<strong>ä½†æ˜¯è¯¥é¢˜ä¸èƒ½è®¿é—®å¤´ç»“ç‚¹</strong>ï¼Œæ‰€ä»¥ä¸èƒ½è¿›è¡Œéå†å¯»æ‰¾ç„¶ååˆ é™¤ã€‚</p><p><strong>è§£æ³•ï¼š</strong>åœ¨ç»™å®šèŠ‚ç‚¹ node çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥é€šè¿‡ä¿®æ”¹ node çš„next æŒ‡é’ˆçš„æŒ‡å‘ï¼Œåˆ é™¤ node çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚ä½†æ˜¯é¢˜ç›®è¦æ±‚åˆ é™¤nodeï¼Œä¸ºäº†è¾¾åˆ°åˆ é™¤ node çš„æ•ˆæœï¼Œåªè¦åœ¨åˆ é™¤èŠ‚ç‚¹ä¹‹å‰ï¼Œå°†nodeçš„èŠ‚ç‚¹å€¼ä¿®æ”¹ä¸º node.nextçš„èŠ‚ç‚¹å€¼å³å¯ã€‚</p><p>PSï¼šä¸»æ‰“ä¸€ä¸ªæ€ä¸äº†è‡ªå·±ï¼Œå°±æ€åˆ«äººã€‚è¿™ä¸ªé¢˜çœŸæ˜¯è„‘æ´å¤§å¼€ï¼ï¼ï¼</p></blockquote><p><strong>Python</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># Definition for singly-linked list.</span><br><span class="hljs-comment"># class ListNode:</span><br><span class="hljs-comment">#     def __init__(self, x):</span><br><span class="hljs-comment">#         self.val = x</span><br><span class="hljs-comment">#         self.next = None</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">deleteNode</span>(<span class="hljs-params">self, node</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        :type node: ListNode</span><br><span class="hljs-string">        :rtype: void Do not return anything, modify node in-place instead.</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        node.val = node.<span class="hljs-built_in">next</span>.val<span class="hljs-comment"># å¤åˆ¶ä¸‹ä¸ªèŠ‚ç‚¹çš„å€¼</span><br>        node.<span class="hljs-built_in">next</span> = node.<span class="hljs-built_in">next</span>.<span class="hljs-built_in">next</span><span class="hljs-comment"># åˆ é™¤ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span><br></code></pre></td></tr></table></figure><p><strong>C++</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Definition for singly-linked list.</span><br><span class="hljs-comment"> * struct ListNode &#123;</span><br><span class="hljs-comment"> *     int val;</span><br><span class="hljs-comment"> *     ListNode *next;</span><br><span class="hljs-comment"> *     ListNode(int x) : val(x), next(NULL) &#123;&#125;</span><br><span class="hljs-comment"> * &#125;;</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">deleteNode</span><span class="hljs-params">(ListNode* node)</span> </span>&#123;<br>        node-&gt;val = node-&gt;next-&gt;val;<br>        ListNode* next = node-&gt;next;<span class="hljs-comment">// ç”¨æ¥é‡Šæ”¾ next èŠ‚ç‚¹å ç”¨çš„å†…å­˜</span><br>        node-&gt;next = node-&gt;next-&gt;next;<br>        <span class="hljs-built_in">delete</span>(next);<span class="hljs-comment">// é‡Šæ”¾ next èŠ‚ç‚¹å†…å­˜ </span><br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p><strong>(2) é¢˜ç›®ï¼š</strong>ç»™å®šä¸€ä¸ªå·²æ’åºçš„é“¾è¡¨çš„å¤´ <code>head</code>ï¼Œ åˆ é™¤åŸå§‹é“¾è¡¨ä¸­æ‰€æœ‰é‡å¤æ•°å­—çš„èŠ‚ç‚¹ï¼Œåªç•™ä¸‹ä¸åŒçš„æ•°å­— ã€‚è¿”å›å·²æ’åºçš„é“¾è¡¨ ã€‚<ahref="https://leetcode.cn/problems/remove-duplicates-from-sorted-list-ii/description/">82.åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´  II - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p><blockquote><p><strong>æ€è·¯ï¼š</strong>ç”±äºç»™å®šçš„é“¾è¡¨æ˜¯æ’å¥½åºçš„ï¼Œå› æ­¤é‡å¤çš„å…ƒç´ åœ¨é“¾è¡¨ä¸­å‡ºç°çš„ä½ç½®æ˜¯è¿ç»­çš„ï¼Œåªéœ€è¦å¯¹é“¾è¡¨è¿›è¡Œä¸€æ¬¡éå†ï¼Œå°±å¯ä»¥åˆ é™¤é‡å¤çš„å…ƒç´ ã€‚ç”±äºé“¾è¡¨çš„å¤´èŠ‚ç‚¹å¯èƒ½ä¼šè¢«åˆ é™¤ï¼Œå› æ­¤éœ€è¦é¢å¤–ä½¿ç”¨ä¸€ä¸ªå“‘èŠ‚ç‚¹ï¼ˆdummynodeï¼‰æŒ‡å‘é“¾è¡¨çš„å¤´èŠ‚ç‚¹ã€‚</p><ul><li><p>ä»æŒ‡é’ˆ cur æŒ‡å‘é“¾è¡¨çš„å“‘èŠ‚ç‚¹ï¼Œéšåå¼€å§‹å¯¹é“¾è¡¨è¿›è¡Œéå†ã€‚å¦‚æœå½“å‰cur.next ä¸ cur.next.next å¯¹åº”çš„å…ƒç´ ç›¸åŒï¼Œéœ€è¦å°† cur.nextä»¥åŠæ‰€æœ‰åé¢æ‹¥æœ‰ç›¸åŒå…ƒç´ å€¼çš„é“¾è¡¨èŠ‚ç‚¹å…¨éƒ¨åˆ é™¤ã€‚</p></li><li><p>è®°ä¸‹è¿™ä¸ªå…ƒç´ å€¼ xï¼Œéšåä¸æ–­å°† cur.next ä»é“¾è¡¨ä¸­ç§»é™¤ï¼Œç›´åˆ° cur.nextä¸ºç©ºèŠ‚ç‚¹æˆ–è€…å…¶å…ƒç´ å€¼ä¸ç­‰äº x ä¸ºæ­¢ã€‚å°†é“¾è¡¨ä¸­æ‰€æœ‰å…ƒç´ å€¼ä¸º xçš„èŠ‚ç‚¹å…¨éƒ¨åˆ é™¤ã€‚</p></li><li><p>å¦‚æœå½“å‰ cur.next ä¸ cur.next.nextå¯¹åº”çš„å…ƒç´ ä¸ç›¸åŒï¼Œé‚£ä¹ˆè¯´æ˜é“¾è¡¨ä¸­åªæœ‰ä¸€ä¸ªå…ƒç´ å€¼ä¸º cur.nextçš„èŠ‚ç‚¹ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥å°† cur æŒ‡å‘cur.nextã€‚</p></li><li><p>å½“éå†å®Œæ•´ä¸ªé“¾è¡¨ä¹‹åï¼Œæˆ‘ä»¬è¿”å›é“¾è¡¨çš„çš„å“‘èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹dummy.next å³å¯ã€‚</p></li></ul><p>PSï¼šéœ€è¦æ³¨æ„ cur.next ä»¥åŠ cur.next.nextå¯èƒ½ä¸ºç©ºèŠ‚ç‚¹ï¼Œå¦‚æœä¸åŠ ä»¥åˆ¤æ–­ï¼Œå¯èƒ½ä¼šäº§ç”Ÿè¿è¡Œé”™è¯¯ã€‚ç±»ä¼¼é‡å¤å…ƒç´ åˆ é™¤çš„é¢˜ç›®ï¼Œç”¨å˜é‡è®°å½•é‡å¤å…ƒç´ å€¼æ˜¯å¾ˆå¸¸è§çš„æ–¹æ³•ã€‚</p></blockquote><p><strong>Python</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Definition for singly-linked list.</span><br><span class="hljs-comment"># class ListNode:</span><br><span class="hljs-comment">#     def __init__(self, val=0, next=None):</span><br><span class="hljs-comment">#         self.val = val</span><br><span class="hljs-comment">#         self.next = next</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">deleteDuplicates</span>(<span class="hljs-params">self, head: <span class="hljs-type">Optional</span>[ListNode]</span>) -&gt; <span class="hljs-type">Optional</span>[ListNode]:<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> head:<br>            <span class="hljs-keyword">return</span> head<br>        <br>        dummy = ListNode(<span class="hljs-number">0</span>, head)<span class="hljs-comment"># è™šæ‹Ÿå¤´ç»“ç‚¹</span><br>        cur = dummy<br>        <span class="hljs-keyword">while</span> cur.<span class="hljs-built_in">next</span> <span class="hljs-keyword">and</span> cur.<span class="hljs-built_in">next</span>.<span class="hljs-built_in">next</span>:<span class="hljs-comment"># éœ€è¦åˆ¤æ–­ä¸¤ä¸ª next çš„èŠ‚ç‚¹ä¸ä¸ºç©º</span><br>            <span class="hljs-keyword">if</span> cur.<span class="hljs-built_in">next</span>.val == cur.<span class="hljs-built_in">next</span>.<span class="hljs-built_in">next</span>.val:<br>                x = cur.<span class="hljs-built_in">next</span>.val<span class="hljs-comment"># è®°å½•é‡å¤çš„å…ƒç´ </span><br>                <span class="hljs-keyword">while</span> cur.<span class="hljs-built_in">next</span> <span class="hljs-keyword">and</span> cur.<span class="hljs-built_in">next</span>.val == x:<span class="hljs-comment"># å¼€å§‹åˆ é™¤</span><br>                    cur.<span class="hljs-built_in">next</span> = cur.<span class="hljs-built_in">next</span>.<span class="hljs-built_in">next</span><br>            <span class="hljs-keyword">else</span>:<br>                cur = cur.<span class="hljs-built_in">next</span><span class="hljs-comment"># æŒ‡é’ˆç§»åŠ¨</span><br>        <span class="hljs-keyword">return</span> dummy.<span class="hljs-built_in">next</span><br><br></code></pre></td></tr></table></figure><p><strong>C++</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Definition for singly-linked list.</span><br><span class="hljs-comment"> * struct ListNode &#123;</span><br><span class="hljs-comment"> *     int val;</span><br><span class="hljs-comment"> *     ListNode *next;</span><br><span class="hljs-comment"> *     ListNode() : val(0), next(nullptr) &#123;&#125;</span><br><span class="hljs-comment"> *     ListNode(int x) : val(x), next(nullptr) &#123;&#125;</span><br><span class="hljs-comment"> *     ListNode(int x, ListNode *next) : val(x), next(next) &#123;&#125;</span><br><span class="hljs-comment"> * &#125;;</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">ListNode* <span class="hljs-title">deleteDuplicates</span><span class="hljs-params">(ListNode* head)</span> </span>&#123;<br>        <span class="hljs-keyword">struct</span> <span class="hljs-title class_">ListNode</span>* dummy = <span class="hljs-keyword">new</span> <span class="hljs-built_in">ListNode</span>(<span class="hljs-number">0</span>, head);<br>        <span class="hljs-keyword">struct</span> <span class="hljs-title class_">ListNode</span>* cur = dummy;<br>        <span class="hljs-keyword">if</span>(head == <span class="hljs-literal">nullptr</span>)<br>            <span class="hljs-keyword">return</span> head;<br>        <span class="hljs-keyword">while</span>(cur-&gt;next &amp;&amp; cur-&gt;next-&gt;next)&#123;<br>            <span class="hljs-keyword">if</span>(cur-&gt;next-&gt;val == cur-&gt;next-&gt;next-&gt;val)&#123;<br>                <span class="hljs-type">int</span> temp = cur-&gt;next-&gt;val;<br>                <span class="hljs-keyword">while</span>(cur-&gt;next &amp;&amp; cur-&gt;next-&gt;val == temp)&#123;<br>                    cur-&gt;next = cur-&gt;next-&gt;next;<br>                &#125;<br>            &#125;<span class="hljs-keyword">else</span>&#123;<br>                cur = cur-&gt;next;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> dummy-&gt;next; <br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p><strong>ç®€æ˜“ç‰ˆåˆ é™¤é“¾è¡¨ä¸­é‡å¤å…ƒç´ ï¼š</strong><ahref="https://leetcode.cn/problems/remove-duplicates-from-sorted-list/description/">83.åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´  - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p><figure><img src="image-20240116115541200.png" alt="åŠ›æ‰£100é¢˜" /><figcaption aria-hidden="true">åŠ›æ‰£100é¢˜</figcaption></figure><p>PSï¼šæ’æ’­ï¼Œ2024-1-16ï¼ŒåŠ›æ‰£åˆ·é¢˜åˆšå¥½100é¢˜ã€‚</p><p><strong>(3) é¢˜ç›®ï¼š</strong>ç»™ä½ ä¸€ä¸ªé“¾è¡¨ï¼Œåˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬<code>n</code> ä¸ªç»“ç‚¹ï¼Œå¹¶ä¸”è¿”å›é“¾è¡¨çš„å¤´ç»“ç‚¹ã€‚<ahref="https://leetcode.cn/problems/remove-nth-node-from-end-of-list/description/">19.åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ N ä¸ªç»“ç‚¹ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p><blockquote><p><strong>æ€è·¯ï¼š</strong>å¤„ç†åˆ é™¤é“¾è¡¨èŠ‚ç‚¹çš„æ–¹æ³•å¤§è‡´åˆ†ä¸ºä¸‰ç±»ï¼š1ï¼‰ä¸¤æ¬¡éå†ï¼Œå…ˆè®¡ç®—å‡ºé“¾è¡¨é•¿åº¦ï¼Œç„¶åå†è¿›è¡Œåˆ é™¤ï¼›2ï¼‰æ ˆå­˜å‚¨ï¼Œæ ¹æ®æ ˆã€Œå…ˆè¿›åå‡ºã€çš„åŸåˆ™ï¼Œå¼¹å‡ºæ ˆçš„ç¬¬nä¸ªèŠ‚ç‚¹å°±æ˜¯éœ€è¦åˆ é™¤çš„èŠ‚ç‚¹ï¼Œå¹¶ä¸”ç›®å‰æ ˆé¡¶çš„èŠ‚ç‚¹å°±æ˜¯å¾…åˆ é™¤èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹ï¼›3ï¼‰åŒæŒ‡é’ˆï¼Œé€šè¿‡å¿«æ…¢æŒ‡é’ˆï¼Œä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆfirst å’Œ second åŒæ—¶å¯¹é“¾è¡¨è¿›è¡Œéå†ï¼Œå¹¶ä¸” first æ¯” second è¶…å‰ nä¸ªèŠ‚ç‚¹ã€‚å½“ first éå†åˆ°é“¾è¡¨çš„æœ«å°¾æ—¶ï¼Œsecond å°±æ°å¥½å¤„äºå€’æ•°ç¬¬ nä¸ªèŠ‚ç‚¹ã€‚</p></blockquote><p><strong>Python</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># Definition for singly-linked list.</span><br><span class="hljs-comment"># class ListNode:</span><br><span class="hljs-comment">#     def __init__(self, val=0, next=None):</span><br><span class="hljs-comment">#         self.val = val</span><br><span class="hljs-comment">#         self.next = next</span><br><br><span class="hljs-comment"># åŒæŒ‡é’ˆ</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">removeNthFromEnd</span>(<span class="hljs-params">self, head: <span class="hljs-type">Optional</span>[ListNode], n: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-type">Optional</span>[ListNode]:<br>        dummy = ListNode(<span class="hljs-number">0</span>, head)<br>        first = head<br>        second = dummy<span class="hljs-comment"># å“‘èŠ‚ç‚¹ï¼Œå› ä¸ºå¤´ç»“ç‚¹å¯èƒ½å­˜åœ¨è¢«åˆ é™¤çš„å¯èƒ½æ€§</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<span class="hljs-comment"># å¿«æŒ‡é’ˆå…ˆè¡Œ n ä¸ªèŠ‚ç‚¹</span><br>            first = first.<span class="hljs-built_in">next</span><br>        <span class="hljs-keyword">while</span> first:<span class="hljs-comment"># ä¸¤ä¸ªæŒ‡é’ˆåŒæ—¶ç§»åŠ¨ï¼Œç›´åˆ°å¿«æŒ‡é’ˆç»“æŸ</span><br>            first = first.<span class="hljs-built_in">next</span><br>            second = second.<span class="hljs-built_in">next</span><br>            <br>        second.<span class="hljs-built_in">next</span> = second.<span class="hljs-built_in">next</span>.<span class="hljs-built_in">next</span><span class="hljs-comment"># å¯¹èŠ‚ç‚¹è¿›è¡Œåˆ é™¤</span><br><br>        <span class="hljs-keyword">return</span> dummy.<span class="hljs-built_in">next</span><br>    <br><span class="hljs-comment"># ä¸¤æ¬¡éå†</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">removeNthFromEnd</span>(<span class="hljs-params">self, head: <span class="hljs-type">Optional</span>[ListNode], n: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-type">Optional</span>[ListNode]:<br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">getLength</span>(<span class="hljs-params">head: ListNode</span>) -&gt; <span class="hljs-built_in">int</span>:<span class="hljs-comment"># è·å–é“¾è¡¨é•¿åº¦å‡½æ•°</span><br>            length = <span class="hljs-number">0</span><br>            <span class="hljs-keyword">while</span> head:<br>                length += <span class="hljs-number">1</span><br>                head = head.<span class="hljs-built_in">next</span><br>            <span class="hljs-keyword">return</span> length<br><br>        dummy = ListNode(<span class="hljs-number">0</span>, head)<span class="hljs-comment"># å“‘èŠ‚ç‚¹</span><br>        length = getLength(head)<span class="hljs-comment"># è·å–é•¿åº¦</span><br>        cur = dummy<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, length - n + <span class="hljs-number">1</span>):<span class="hljs-comment"># æ‰¾åˆ°åº”è¯¥åˆ é™¤çš„èŠ‚ç‚¹çš„ å‰é©±èŠ‚ç‚¹</span><br>            cur = cur.<span class="hljs-built_in">next</span><br>        cur.<span class="hljs-built_in">next</span> = cur.<span class="hljs-built_in">next</span>.<span class="hljs-built_in">next</span><br><br>        <span class="hljs-keyword">return</span> dummy.<span class="hljs-built_in">next</span><br></code></pre></td></tr></table></figure><p><strong>C++</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Definition for singly-linked list.</span><br><span class="hljs-comment"> * struct ListNode &#123;</span><br><span class="hljs-comment"> *     int val;</span><br><span class="hljs-comment"> *     ListNode *next;</span><br><span class="hljs-comment"> *     ListNode() : val(0), next(nullptr) &#123;&#125;</span><br><span class="hljs-comment"> *     ListNode(int x) : val(x), next(nullptr) &#123;&#125;</span><br><span class="hljs-comment"> *     ListNode(int x, ListNode *next) : val(x), next(next) &#123;&#125;</span><br><span class="hljs-comment"> * &#125;;</span><br><span class="hljs-comment"> */</span><br><span class="hljs-comment">// ä¸¤æ¬¡éå†</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">getLength</span><span class="hljs-params">(ListNode* head)</span></span>&#123;<br>        <span class="hljs-type">int</span> length = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">while</span>(head)&#123;<br>            ++length;<br>            head = head-&gt;next;<br>        &#125;<br>        <span class="hljs-keyword">return</span> length;<br>    &#125;<br>    <span class="hljs-function">ListNode* <span class="hljs-title">removeNthFromEnd</span><span class="hljs-params">(ListNode* head, <span class="hljs-type">int</span> n)</span> </span>&#123;<br><br>        ListNode* dummy = <span class="hljs-keyword">new</span> <span class="hljs-built_in">ListNode</span>(<span class="hljs-number">0</span>, head);<br>        ListNode* cur = dummy;<br>        <span class="hljs-type">int</span> length = <span class="hljs-built_in">getLength</span>(head);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>; i&lt;length-n+<span class="hljs-number">1</span>; ++i)&#123;<br>            cur = cur-&gt;next;<br>        &#125;<br>        cur-&gt;next = cur-&gt;next-&gt;next;<br>        ListNode* ans = dummy-&gt;next;<span class="hljs-comment">// è¿”å›ç»“æœ</span><br>        <span class="hljs-keyword">delete</span> dummy;<span class="hljs-comment">// æ‰‹åŠ¨é‡Šæ”¾å†…å­˜</span><br><br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>&#125;;<br><br><span class="hljs-comment">// åŒæŒ‡é’ˆ</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">ListNode* <span class="hljs-title">removeNthFromEnd</span><span class="hljs-params">(ListNode* head, <span class="hljs-type">int</span> n)</span> </span>&#123;<br>        ListNode* dummy = <span class="hljs-keyword">new</span> <span class="hljs-built_in">ListNode</span>(<span class="hljs-number">0</span>, head);<br>        ListNode* first = head;<br>        ListNode* second = dummy;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;n; ++i)<br>            first = first-&gt;next;<br>        <span class="hljs-keyword">while</span>(first)&#123;<br>            first = first-&gt;next;<br>            second = second-&gt;next;<br>        &#125;<br>        second-&gt;next = second-&gt;next-&gt;next;<br><br>        ListNode* ans = dummy-&gt;next;<br>        <span class="hljs-keyword">delete</span> dummy;<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p><strong>(4) é¢˜ç›®ï¼š</strong>ç»™ä½ ä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹ <code>head</code>ã€‚<strong>åˆ é™¤</strong> é“¾è¡¨çš„ <strong>ä¸­é—´èŠ‚ç‚¹</strong>ï¼Œå¹¶è¿”å›ä¿®æ”¹åçš„é“¾è¡¨çš„å¤´èŠ‚ç‚¹ <code>head</code> ã€‚é•¿åº¦ä¸º <code>n</code>é“¾è¡¨çš„ä¸­é—´èŠ‚ç‚¹æ˜¯ä»å¤´æ•°èµ·ç¬¬ <code>âŒŠn / 2âŒ‹</code> ä¸ªèŠ‚ç‚¹ï¼ˆä¸‹æ ‡ä»<strong>0</strong> å¼€å§‹ï¼‰ï¼Œå…¶ä¸­ <code>âŒŠxâŒ‹</code> è¡¨ç¤ºå°äºæˆ–ç­‰äº<code>x</code> çš„æœ€å¤§æ•´æ•°ã€‚<ahref="https://leetcode.cn/problems/delete-the-middle-node-of-a-linked-list/description/">2095.åˆ é™¤é“¾è¡¨çš„ä¸­é—´èŠ‚ç‚¹ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p><ul><li>å¯¹äº <code>n</code> =<code>1</code>ã€<code>2</code>ã€<code>3</code>ã€<code>4</code> å’Œ<code>5</code> çš„æƒ…å†µï¼Œä¸­é—´èŠ‚ç‚¹çš„ä¸‹æ ‡åˆ†åˆ«æ˜¯<code>0</code>ã€<code>1</code>ã€<code>1</code>ã€<code>2</code> å’Œ<code>2</code> ã€‚</li></ul><blockquote><p><strong>æ€è·¯ï¼š</strong>è¿™ä¸ªé¢˜ç›®å’Œï¼ˆ3ï¼‰é¢˜ç±»ä¼¼ï¼Œä½†æ˜¯è¿™ä¸ªé¢˜ç›®æ²¡æœ‰ç»™å‡ºnçš„å…·ä½“å€¼ï¼Œè€Œæ˜¯é€šè¿‡è®¡ç®—é“¾è¡¨çš„ä¸­é—´èŠ‚ç‚¹æ¥è·å–ã€‚ä½†æ˜¯åŒæ ·å¯ä»¥ä½¿ç”¨ä¸¤æ¬¡éå†ï¼Œä½†æ˜¯ä½¿ç”¨åŒæŒ‡é’ˆåˆ™éœ€è¦è¿›è¡Œä¸€å®šçš„ä¿®æ”¹ã€‚</p><p>å¸¸è§çš„æ‰¾å‡ºé“¾è¡¨ä¸­é—´èŠ‚ç‚¹çš„æ–¹æ³•æ˜¯ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆï¼šå³ä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆ fast å’Œslow å¯¹é“¾è¡¨è¿›è¡Œéå†ï¼Œå…¶ä¸­å¿«æŒ‡é’ˆ fast æ¯æ¬¡éå†ä¸¤ä¸ªå…ƒç´ ï¼Œæ…¢æŒ‡é’ˆ slowæ¯æ¬¡éå†ä¸€ä¸ªå…ƒç´ ã€‚è¿™æ ·åœ¨å¿«æŒ‡é’ˆéå†å®Œé“¾è¡¨æ—¶ï¼Œæ…¢æŒ‡é’ˆå°±æ°å¥½åœ¨é“¾è¡¨çš„ä¸­é—´ä½ç½®ã€‚åœ¨æœ¬é¢˜ä¸­ï¼Œè¿˜éœ€è¦åˆ é™¤é“¾è¡¨çš„ä¸­é—´èŠ‚ç‚¹ï¼Œå› æ­¤é™¤äº†æ…¢æŒ‡é’ˆslow å¤–ï¼Œè¿˜éœ€ä½¿ç”¨ä¸€ä¸ªæŒ‡é’ˆ pre æ—¶åˆ»æŒ‡å‘ slowçš„å‰ä¸€ä¸ªèŠ‚ç‚¹ã€‚è¿™æ ·å°±å¯ä»¥åœ¨éå†ç»“æŸåï¼Œé€šè¿‡ pre å°† slow åˆ é™¤äº†ã€‚</p><p>PSï¼šå½“é“¾è¡¨ä¸­åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹æ—¶ï¼Œåˆ é™¤è¿™ä¸ªèŠ‚ç‚¹å¹¶è¿”å›ç©ºé“¾è¡¨ã€‚å¦‚æœèŠ‚ç‚¹ä¸å­˜åœ¨å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå³preæ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œå› æ­¤å¯¹äºè¿™ç§æƒ…å†µï¼Œåœ¨éå†å‰è¿›è¡Œç‰¹æ®Šåˆ¤æ–­ï¼Œç›´æ¥è¿”å›ç©ºæŒ‡é’ˆã€‚</p></blockquote><p><strong>Python</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Definition for singly-linked list.</span><br><span class="hljs-comment"># class ListNode:</span><br><span class="hljs-comment">#     def __init__(self, val=0, next=None):</span><br><span class="hljs-comment">#         self.val = val</span><br><span class="hljs-comment">#         self.next = next</span><br><br><span class="hljs-comment"># ä¸¤æ¬¡éå†</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">deleteMiddle</span>(<span class="hljs-params">self, head: <span class="hljs-type">Optional</span>[ListNode]</span>) -&gt; <span class="hljs-type">Optional</span>[ListNode]:<br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">getLength</span>(<span class="hljs-params">head: ListNode</span>) -&gt; <span class="hljs-built_in">int</span>:<br>            length = <span class="hljs-number">0</span><br>            <span class="hljs-keyword">while</span> head:<br>                length += <span class="hljs-number">1</span><br>                head = head.<span class="hljs-built_in">next</span><br>            <span class="hljs-keyword">return</span> length<br><br>        dummy = ListNode(<span class="hljs-number">0</span>, head)<br>        length = getLength(head)<br>        cur = dummy<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(length//<span class="hljs-number">2</span>):<span class="hljs-comment"># éå†åˆ°ä¸­é—´èŠ‚ç‚¹</span><br>            cur = cur.<span class="hljs-built_in">next</span><span class="hljs-comment"># å¼€å§‹ç§»åŠ¨</span><br>        cur.<span class="hljs-built_in">next</span> = cur.<span class="hljs-built_in">next</span>.<span class="hljs-built_in">next</span><span class="hljs-comment"># åˆ é™¤ä¸­é—´èŠ‚ç‚¹</span><br><br>        <span class="hljs-keyword">return</span> dummy.<span class="hljs-built_in">next</span><br>    <br> <span class="hljs-comment"># åŒæŒ‡é’ˆï¼ˆä¿®æ”¹ç‰ˆï¼‰</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">deleteMiddle</span>(<span class="hljs-params">self, head: <span class="hljs-type">Optional</span>[ListNode]</span>) -&gt; <span class="hljs-type">Optional</span>[ListNode]:<br>        <span class="hljs-keyword">if</span> head.<span class="hljs-built_in">next</span> <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<span class="hljs-comment"># ç‰¹æ®Šæƒ…å†µåˆ¤æ–­</span><br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span><br>        <br>        slow, fast, pre = head, head, <span class="hljs-literal">None</span><span class="hljs-comment"># è®¾ç½®ä¸‰ä¸ªæŒ‡é’ˆ</span><br>        <span class="hljs-keyword">while</span> fast <span class="hljs-keyword">and</span> fast.<span class="hljs-built_in">next</span>:<span class="hljs-comment"># å¿«æŒ‡é’ˆç§»åŠ¨ä¸¤ä¸ªå•ä½ï¼Œæ…¢æŒ‡é’ˆç§»åŠ¨ä¸€ä¸ªå•ä½</span><br>            fast = fast.<span class="hljs-built_in">next</span>.<span class="hljs-built_in">next</span><br>            pre = slow<br>            slow = slow.<span class="hljs-built_in">next</span><br>        <br>        pre.<span class="hljs-built_in">next</span> = pre.<span class="hljs-built_in">next</span>.<span class="hljs-built_in">next</span><span class="hljs-comment"># ç”¨å‰é©±èŠ‚ç‚¹è¿›è¡Œåˆ é™¤</span><br><br>        <span class="hljs-keyword">return</span> head<br></code></pre></td></tr></table></figure><p><strong>C++</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Definition for singly-linked list.</span><br><span class="hljs-comment"> * struct ListNode &#123;</span><br><span class="hljs-comment"> *     int val;</span><br><span class="hljs-comment"> *     ListNode *next;</span><br><span class="hljs-comment"> *     ListNode() : val(0), next(nullptr) &#123;&#125;</span><br><span class="hljs-comment"> *     ListNode(int x) : val(x), next(nullptr) &#123;&#125;</span><br><span class="hljs-comment"> *     ListNode(int x, ListNode *next) : val(x), next(next) &#123;&#125;</span><br><span class="hljs-comment"> * &#125;;</span><br><span class="hljs-comment"> */</span><br><br><span class="hljs-comment">// ä¸¤æ¬¡éå†</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">getLength</span><span class="hljs-params">(ListNode* head)</span></span>&#123;<br>        <span class="hljs-type">int</span> length = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">while</span>(head)&#123;<br>            ++length;<br>            head = head-&gt;next;<br>        &#125;<br>        <span class="hljs-keyword">return</span> length;<br>    &#125;<br>    <span class="hljs-function">ListNode* <span class="hljs-title">deleteMiddle</span><span class="hljs-params">(ListNode* head)</span> </span>&#123;<br>        ListNode* dummy = <span class="hljs-keyword">new</span> <span class="hljs-built_in">ListNode</span>(<span class="hljs-number">0</span>, head);<br>        ListNode* cur = dummy;<br>        <span class="hljs-type">int</span> length = <span class="hljs-built_in">getLength</span>(head);<br><br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;length/<span class="hljs-number">2</span>; ++i)&#123;<span class="hljs-comment">// éå†åˆ°ä¸­é—´èŠ‚ç‚¹</span><br>            cur = cur-&gt;next;<span class="hljs-comment">// å¼€å§‹ç§»åŠ¨</span><br>        &#125;<br>        cur-&gt;next = cur-&gt;next-&gt;next;<span class="hljs-comment">// åˆ é™¤ä¸­é—´èŠ‚ç‚¹</span><br>        ListNode* ans = dummy-&gt;next;<br>        <span class="hljs-keyword">delete</span> dummy;<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>&#125;;<br><br><span class="hljs-comment">// åŒæŒ‡é’ˆ</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">ListNode* <span class="hljs-title">deleteMiddle</span><span class="hljs-params">(ListNode* head)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(head-&gt;next == <span class="hljs-literal">nullptr</span>)<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">nullptr</span>;<br>        ListNode* slow = head;<br>        ListNode* fast = head;<br>        ListNode* pre = <span class="hljs-literal">nullptr</span>;<br>        <span class="hljs-keyword">while</span>(fast &amp;&amp; fast-&gt;next)&#123;<br>            fast = fast-&gt;next-&gt;next;<br>            pre = slow;<br>            slow = slow-&gt;next;<br>        &#125;<br>        pre-&gt;next = pre-&gt;next-&gt;next;<br>        <span class="hljs-keyword">return</span> head;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p><strong>(5) é¢˜ç›®ï¼š</strong>ç»™ä½ ä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹<code>head</code>ï¼Œè¯·ä½ ç¼–å†™ä»£ç ï¼Œåå¤åˆ å»é“¾è¡¨ä¸­ç”± <strong>æ€»å’Œ</strong>å€¼ä¸º <code>0</code>çš„è¿ç»­èŠ‚ç‚¹ç»„æˆçš„åºåˆ—ï¼Œç›´åˆ°ä¸å­˜åœ¨è¿™æ ·çš„åºåˆ—ä¸ºæ­¢ã€‚åˆ é™¤å®Œæ¯•åï¼Œè¯·ä½ è¿”å›æœ€ç»ˆç»“æœé“¾è¡¨çš„å¤´èŠ‚ç‚¹ã€‚<ahref="https://leetcode.cn/problems/remove-zero-sum-consecutive-nodes-from-linked-list/description/">1171.ä»é“¾è¡¨ä¸­åˆ å»æ€»å’Œå€¼ä¸ºé›¶çš„è¿ç»­èŠ‚ç‚¹ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p><blockquote><p><strong>æ€è·¯ï¼š</strong>åƒè¿™ç§è®¡ç®—æŸä¸ªåŒºé—´çš„å€¼å¯ä»¥é‡‡ç”¨å‰ç¼€å’Œçš„å“ˆå¸Œè¡¨ï¼Œå‰ç¼€å’Œçš„å“ˆå¸Œè¡¨å®ç°å¯ä»¥åœ¨<code>O(1)</code>æ—¶é—´å†…æ‰¾åˆ°åŒºé—´å’Œä¸ºæŸä¸ªç¡®å®šå€¼<code>target</code>çš„åŒºé—´ã€‚</p><ul><li><p>å»ºç«‹ä¸€ä¸ª dummy èŠ‚ç‚¹ï¼ŒæŒ‡å‘ headï¼ŒèŠ‚ç‚¹å€¼ä¸º0ã€‚éå†ä¸€éé“¾è¡¨ï¼ŒåŒæ—¶è®°å½•å‰ç¼€å’Œï¼Œä»¥å½“å‰å‰ç¼€å’Œä¸º keyï¼Œå½“å‰èŠ‚ç‚¹ä¸ºvalueï¼Œå­˜å…¥å“ˆå¸Œè¡¨ä¸­ã€‚å¦‚æœç›¸åŒå‰ç¼€å’Œå·²ç»å­˜åœ¨ï¼Œå°±å¯ä»¥ç›´æ¥è¦†ç›–æ‰åŸæœ‰èŠ‚ç‚¹ã€‚</p></li><li><p>ç¬¬äºŒéé‡æ–°éå†é“¾è¡¨ï¼ŒåŒæ—¶è®°å½•å‰ç¼€å’Œ prefixï¼Œå“ˆå¸Œè¡¨ä¸­å¯¹åº” prefixçš„èŠ‚ç‚¹æ˜¯æœ€åä¸€æ¬¡å‡ºç°ç›¸åŒå‰ç¼€å’Œçš„èŠ‚ç‚¹ï¼Œå³ä¸­é—´çš„è¿™äº›èŠ‚ç‚¹çš„å’Œä¸º0ï¼Œå°†è¿™ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œèµ‹å€¼ç»™å½“å‰èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚</p></li><li><p>æœ€åæˆ‘ä»¬è¿”å› dummyèŠ‚ç‚¹çš„ä¸‹ä¸€èŠ‚ç‚¹ï¼Œä½œä¸ºæ–°çš„å¤´èŠ‚ç‚¹ã€‚æ³¨æ„æ»¡è¶³é¢˜ç›®è¦æ±‚çš„ç­”æ¡ˆä¸å”¯ä¸€ï¼Œå¯ä»¥è¿”å›ä»»ä½•æ»¡è¶³é¢˜ç›®è¦æ±‚çš„ç­”æ¡ˆã€‚</p></li></ul></blockquote><p><strong>Python</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Definition for singly-linked list.</span><br><span class="hljs-comment"># class ListNode:</span><br><span class="hljs-comment">#     def __init__(self, val=0, next=None):</span><br><span class="hljs-comment">#         self.val = val</span><br><span class="hljs-comment">#         self.next = next</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">removeZeroSumSublists</span>(<span class="hljs-params">self, head: <span class="hljs-type">Optional</span>[ListNode]</span>) -&gt; <span class="hljs-type">Optional</span>[ListNode]:  <br>        seen = &#123;&#125;   <span class="hljs-comment"># è®°å½•å‰ç¼€å’Œå’Œå¯¹åº”èŠ‚ç‚¹</span><br>        dummy = ListNode(<span class="hljs-number">0</span>,head)   <span class="hljs-comment"># å“‘èŠ‚ç‚¹</span><br>        prefix, cur = <span class="hljs-number">0</span>, dummy  <span class="hljs-comment"># å‰ç¼€å’Œ</span><br>        <span class="hljs-keyword">while</span> cur:<br>            prefix += cur.val <span class="hljs-comment"># ç´¯åŠ å‰ç¼€å’Œ</span><br>            seen[prefix] = cur <span class="hljs-comment"># è®°å½•å‰ç¼€å’Œ</span><br>            cur = cur.<span class="hljs-built_in">next</span><br>        <br>        prefix, cur = <span class="hljs-number">0</span>, dummy<br>        <span class="hljs-keyword">while</span> cur:     <span class="hljs-comment"># å†æ¬¡éå†</span><br>            prefix += cur.val<br>            cur.<span class="hljs-built_in">next</span> = seen[prefix].<span class="hljs-built_in">next</span>   <span class="hljs-comment"># ç§»é™¤ä¸­é—´å’Œä¸º0çš„èŠ‚ç‚¹</span><br>            cur = cur.<span class="hljs-built_in">next</span><br><br>        <span class="hljs-keyword">return</span> dummy.<span class="hljs-built_in">next</span><br></code></pre></td></tr></table></figure><p><strong>C++</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Definition for singly-linked list.</span><br><span class="hljs-comment"> * struct ListNode &#123;</span><br><span class="hljs-comment"> *     int val;</span><br><span class="hljs-comment"> *     ListNode *next;</span><br><span class="hljs-comment"> *     ListNode() : val(0), next(nullptr) &#123;&#125;</span><br><span class="hljs-comment"> *     ListNode(int x) : val(x), next(nullptr) &#123;&#125;</span><br><span class="hljs-comment"> *     ListNode(int x, ListNode *next) : val(x), next(next) &#123;&#125;</span><br><span class="hljs-comment"> * &#125;;</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">ListNode* <span class="hljs-title">removeZeroSumSublists</span><span class="hljs-params">(ListNode* head)</span> </span>&#123;<br>        <span class="hljs-type">int</span> prefix = <span class="hljs-number">0</span>;<br>        ListNode* dummy = <span class="hljs-keyword">new</span> <span class="hljs-built_in">ListNode</span>(<span class="hljs-number">0</span>, head);<br>        unordered_map&lt;<span class="hljs-type">int</span>, ListNode*&gt; seen;<br>        ListNode* cur = dummy;<br>        <span class="hljs-keyword">while</span>(cur)&#123;<br>            prefix += cur-&gt;val;<br>            seen[prefix] = cur;<br>            cur = cur-&gt;next;<br>        &#125;<br><br>        prefix = <span class="hljs-number">0</span>, cur = dummy;<br>        <span class="hljs-keyword">while</span>(cur)&#123;<br>            prefix += cur-&gt;val;<br>            cur-&gt;next = seen[prefix]-&gt;next;<br>            cur = cur-&gt;next;<br>        &#125;<br><br>        ListNode* ans = dummy-&gt;next;<br>        <span class="hljs-keyword">delete</span> dummy;<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åˆ·é¢˜</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ¯å‘¨æ€»ç»“ -- è¿™ä¸€ä»½ä»½çš„é—æ†¾ï¼Œç»ˆå°†é“¸æˆæœ€åçš„é‚£ä»½ç¾å¥½</title>
    <link href="/posts/14769/"/>
    <url>/posts/14769/</url>
    
    <content type="html"><![CDATA[<div align = "center"><H3>æ€»ç»“ &amp; åæ€</div><p><strong>æ—¶é—´ï¼š2024.1.8-2024.1.14</strong></p><p>â€ƒâ€ƒåˆè¿‡å»äº†ä¸€å‘¨äº†å¼ï¼Œè¿™ä¸ªå­¦æœŸä¹Ÿéšç€è¿™å‘¨çš„ç»“æŸè€Œç»“æŸå•¦ã€‚è¿™å‘¨å¯ä»¥è¯´æ˜¯åŸºæœ¬æ²¡æœ‰è¿›è¡Œå­¦ä¹ ï¼Œä½†æ˜¯è¿‡å¾—è¿˜æ˜¯æŒºè½»æ¾çš„ã€‚å­¦ä¹ ä¸Šçš„è¯ï¼Œå¥½åƒæ˜¯çœ‹äº†ä¸€ç¯‡è®ºæ–‡ï¼Œç„¶åçœ‹äº†ä¸€ä¸‹å¦å¤–ä¸€ç¯‡è®ºæ–‡çš„ä»£ç ï¼Œåˆ·é¢˜ä¹Ÿæ²¡æœ‰å¤©å¤©åˆ·ã€‚æœç„¶æ˜¯è¶Šåˆ°æ”¾å‡ï¼Œè¶Šå‹åˆ¶ä¸ä½èºåŠ¨çš„å¿ƒï¼Œå“ˆå“ˆå“ˆå“ˆï½</p><p>â€ƒâ€ƒè¿™å‘¨å¥½åƒæœ‰ç‚¹å¥‡æ€ªï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œåº”è¯¥æ˜¯ä»ä¸Šå‘¨æœ«å¼€å§‹å°±å¼€å§‹å¤±çœ ï¼Œæ™šä¸Šæ€»æ˜¯ä¼šå»æƒ³ä¸€äº›ä¹±ä¸ƒå…«ç³Ÿçš„ä¸œè¥¿ï¼Œå·¥ä½œä¸Šçš„å‘€ã€å­¦ä¹ ä¸Šçš„å‘€ã€æ„Ÿæƒ…ä¸Šçš„å‘€ï¼Œåæ­£æ˜¯å„ç§ç¦»å¥‡çš„ä¸œè¥¿éƒ½æœ‰ï¼Œå¼„å¾—è¿™å‘¨ç²¾ç¥çŠ¶æ€éƒ½ä¸å¥½ï¼Œå®³ã€‚ä½†æ˜¯è¿™å‘¨æœ€å¼€å¿ƒçš„äº‹æƒ…å°±æ˜¯å‘¨æœ«å»äº†æ·±åœ³ï¼Œä¸ä»…çœ‹äº†å¤§æµ·ï¼Œè¿˜å»äº†è…¾è®¯å‚è§‚ï¼Œä½¿å¾—å¿ƒæƒ…å¥½äº†ä¸å°‘ã€‚æ„Ÿè§‰å¤§æµ·ç¡®å®æ˜¯æœ‰ä¸€ç§ç‰¹æ®Šçš„é­”åŠ›ï¼Œåœ¨æµ·è¾¹é€›ç€ï¼Œå¬ç€æµ·æµªçš„å£°éŸ³ï¼Œå¹ç€æµ·è¾¹çš„é£ï¼Œå¯ä»¥è®©æ•´ä¸ªäººéƒ½éå¸¸çš„èˆ’æœï¼Œè€Œä¸”ä¼šè®©ä½ æš‚æ—¶å¿˜è®°æ‰€æœ‰çš„äº‹æƒ…ï¼Œå¤§è„‘æ”¾ç©ºï¼Œä»è€Œä½¿å¾—æ•´ä¸ªäººéå¸¸çš„è½»æ¾ï¼Œè¿™ç§æ„Ÿè§‰çœŸçš„å¾ˆä¸é”™ï¼Œå¸Œæœ›ä»¥åèƒ½å¤Ÿæœ‰æ—¶é—´ï¼Œæœ‰èƒ½åŠ›å»å¤šä½“ä¼šã€‚ç„¶åå°±æ˜¯å»äº†è…¾è®¯æ»¨æµ·å¤§å¦å‚è§‚ï¼Œï¼ˆéå¸¸æ„Ÿè°¢å·¥å¤§çš„æ ¡å‹ï¼‰ï¼Œå¤§å…¬å¸å°±æ˜¯ä¸ä¸€æ ·ï¼Œè™½ç„¶å·¥ä½œæ—¥çš„æ—¶å€™ä¸‹ç­ä¹Ÿå¾—åˆ°7ã€8ç‚¹çš„æ ·å­ï¼Œä½†æ˜¯æœ‰åŒä¼‘ï¼Œè€Œä¸”é‡Œé¢çš„æ°›å›´çœŸçš„éå¸¸ä¸é”™ï¼Œç¯å¢ƒé£æ™¯å•¥çš„éƒ½å¾ˆå¥½ï¼ŒçœŸçš„å°±æ˜¯æˆ‘ç†æƒ³ä¸­åŠå…¬çš„æ ·å­ï¼Œåªæ˜¯ç°åœ¨å»è…¾è®¯ä¸Šç­çœŸçš„æ˜¯å¤ªå›°éš¾äº†ï¼Œå®³ï¼Œå¥½å¥½åŠªåŠ›å­ï¼Œäº‰å–ä¸€ä¸‹ï¼Œå¸Œæœ›æœ‰æœºä¼šå»è…¾è®¯æ‰“å·¥ï¼</p><p>â€ƒâ€ƒæœ€åæ¥å¯¹è¿™ä¸ªå­¦æœŸè¿›è¡Œä¸€ä¸‹æ€»ç»“å­ã€‚è¿™ä¸ªå­¦æœŸåªèƒ½è¯´åˆæ˜¯é—æ†¾å¤šäºæ”¶è·çš„ä¸€ä¸ªå­¦æœŸå§ï¼Œä¹Ÿå¹¶æ²¡æœ‰å®Œæˆè‡ªå·±å½“åˆå®šä¸‹çš„ç›®æ ‡ï¼Œæ²¡æœ‰å­¦åˆ°å¾ˆå¤šçŸ¥è¯†ï¼Œä¹Ÿæ²¡æœ‰æˆåŠŸçš„æŠ•å‡ºå»è®ºæ–‡ã€‚åªä¸è¿‡è®ºæ–‡æˆ‘è‡ªå·±è§‰å¾—åº”è¯¥å¾ˆå¿«äº†ï¼Œå¤§è‡´çš„æ„æ€å·²ç»æœ‰äº†ï¼Œä¸ç®¡å®ƒä¹Ÿæ²¡æœ‰æ•ˆæœï¼Œæˆ‘éƒ½ç›´æ¥å¼€å†™äº†ï¼Œåªæœ‰å¼€å§‹åšï¼Œäº‹æƒ…æ‰æœ‰åšå®Œçš„å¯èƒ½ï¼Œä¸€ç›´æƒ³çš„è¯ï¼Œæ€•æ˜¯æ°¸è¿œéƒ½å®Œä¸æˆäº†ï¼ˆè¦ä¹ˆåˆ«å»æƒ³ï¼Œè¦ä¹ˆå°±å°½ç®¡å»åšï¼‰ã€‚ç„¶åï¼Œè¿™ä¸ªå­¦æœŸæœ€å¤§çš„é—æ†¾å¯èƒ½å°±æ˜¯çˆ±è€Œä¸å¾—äº†å§ï¼Œæ¯æ¬¡æƒ³èµ·æ¥ï¼Œéƒ½ä¼šè§‰å¾—æœ‰ç‚¹æç¬‘ï¼ŒåŒæ—¶ä¹Ÿä¼šæœ‰äº›æ‚²ä¼¤ã€‚è¿™æ¬¡ç»å†è®©æˆ‘çœŸæ­£çš„çŸ¥é“äº†å–œæ¬¢ä¸€ä¸ªäººæ˜¯å¤šä¹ˆçš„å‘å¾®ï¼Œæ˜¯å¤šä¹ˆçš„å°å¿ƒç¿¼ç¿¼ã€‚ä½†æ˜¯æˆ‘å¹¶ä¸ä¼šè§‰å¾—åæ‚”ï¼Œè¿™æ®µç»å†æ€»ä½“æ¥è¯´å¿«ä¹è¿˜æ˜¯è¦å¤šäºéš¾è¿‡çš„ï¼Œèƒ½é‡åˆ°å­¦å¦¹æˆ‘ä¹Ÿè§‰å¾—éå¸¸çš„å¹¸è¿ï¼Œé—æ†¾æœ¬æ¥å°±æ˜¯è´¯ç©¿äººçš„ä¸€ç”Ÿï¼Œæˆ‘ä¹Ÿæ²¡æœ‰å¿…è¦å› ä¸ºè¿™æ¬¡çš„é—æ†¾è€ŒæŠ±æ€¨ä¸å…¬ã€æŠ±æ€¨äººç”Ÿå•¥çš„ã€‚æˆ‘æ›´åº”è¯¥åšçš„æ˜¯å»æå‡è‡ªå·±ï¼Œä½¿å¾—è‡ªå·±å˜å¾—æ›´ä¼˜ç§€ï¼Œå…ˆè®©è‡ªå·±æˆä¸ºè‡ªå·±ç†æƒ³ä¸­çš„æ ·å­ï¼Œæœ‰ç€å–œæ¬¢çš„å·¥ä½œï¼Œåœ¨é—²æš‡ä¹‹æ—¶çŸ¥é“å¦‚ä½•äº«å—ç”Ÿæ´»ã€‚è€Œå…³äºçˆ±æƒ…ï¼Œæˆ‘åªéœ€è¦é™å¿ƒç­‰å¾…å°±å¥½ï¼Œç­‰ä¸‹ä¸‹ä¸€ä¸ªèƒ½ç»™æˆ‘åƒå­¦å¦¹è¿™ç§æ„Ÿè§‰çš„å¥³ç”Ÿï¼Œç„¶åå»æŠ“ä½é‚£æ¬¡æœºä¼šã€‚</p><p>â€ƒâ€ƒæƒ³ä¸€æƒ³è¿˜æœ‰ä»€ä¹ˆæƒ³è¯´çš„å‘¢ï¼Œä¸€ä¸ªå­¦æœŸè¿™ä¹ˆé•¿ï¼Œèƒ½è¯´çš„ç«Ÿç„¶åªæœ‰è¿™ä¹ˆä¸€ç‚¹ç‚¹å˜›ã€‚å…¶å®ï¼Œæˆ‘å‘ç°è‡ªå·±è¿™ä¸ªå­¦æœŸå¥½åƒæ˜¯æ”¹å˜äº†è®¸å¤šï¼Œç›¸å¯¹ä»¥å‰åº”è¯¥æ˜¯æ›´å‹‡æ•¢äº†ï¼Œè€Œä¸”æ²¡æœ‰ä»¥å‰é‚£ä¹ˆæ‹®æ®äº†ï¼Œä¸ä¼šåˆ»æ„çš„å»çœé’±å•¥çš„ï¼Œè€Œæ˜¯æ€ä¹ˆå¼€å¿ƒæ€ä¹ˆæ¥ï¼Œé’±ç”¨äº†å°±ç”¨äº†ï¼Œèƒ½å¤Ÿå’Œæœ‹å‹ä»¬ä¸€èµ·å¼€å¿ƒçš„ç©è€ï¼Œèƒ½å¤Ÿè®©è‡ªå·±å¼€å¿ƒèµ·æ¥ï¼Œå·²ç»æˆä¸ºäº†æˆ‘çš„ç¬¬ä¸€ç›®æ ‡ã€‚æˆ‘è§‰å¾—è¿™æ ·å¾ˆå¥½ï¼Œç›¸å¯¹ä»¥å‰çš„è‡ªå·±ï¼Œæˆ‘æ›´åŠ å–œæ¬¢ç°åœ¨çš„æˆ‘ï¼ˆè‡ªä¿¡ã€æ— ç•ã€æ„Ÿæ€§ã€æ¸´æœ›æå‡è‡ªå·±ã€æ¸´æœ›å±•ç¤ºè‡ªå·±ï¼‰ã€‚å¸Œæœ›ä¹‹åèƒ½å¤Ÿè®©è‡ªå·±è¿‡ä¸Šå¥½æ—¥å­ï¼Œä¹Ÿèƒ½å¤Ÿè®©æˆ‘çš„çˆ¶æ¯è¿‡ä¸Šå¥½æ—¥å­ã€‚ç”Ÿæ´»å‘¢ï¼Œå…¶å®å·²ç»å¾ˆç´¯äº†ï¼Œå°¤å…¶æ˜¯åœ¨ç°åœ¨çš„è¿™ç§ç¤¾ä¼šï¼Œæˆ‘ä»¬ä¹Ÿæ²¡æœ‰å¿…è¦åˆ»æ„ä¸ºäº†è¾¾æˆä¸€äº›ç›®æ ‡æˆ–è€…ä»»åŠ¡ï¼Œå¼ºè¡Œè®©è‡ªå·±å¤„äºå‹æŠ‘ã€éš¾å—çš„çŠ¶æ€ï¼Œä¸æƒ³çœ‹è®ºæ–‡ä¸çœ‹ã€ä¸æƒ³å†™ä»£ç å°±ä¸å†™ã€ä¸æƒ³å­¦ä¹ å‘¢å’±å°±ä¸å­¦ï¼Œå°±åº”è¯¥åšèƒ½å¤Ÿè®©è‡ªå·±å½“æ—¶å¿«ä¹èµ·æ¥çš„äº‹æƒ…ï¼Œåªæœ‰è¿™æ ·ï¼Œå…¶ä»–äº‹æƒ…æ‰èƒ½åšçš„æ›´å¥½ã€‚æˆ‘ç°åœ¨å°±æ˜¯å¤„äºå¯¹ä»€ä¹ˆäº‹æƒ…éƒ½æä¸èµ·å…´è¶£çš„çŠ¶æ€ï¼Œåšä»€ä¹ˆäº‹æƒ…å¿ƒæƒ…ä¸Šéƒ½æ²¡æœ‰å•¥èµ·ä¼ï¼Œå¾ˆå¹³é™ã€‚ä½†æ˜¯è¿™å‘¨æˆ‘å†ä¼˜åŒ–è‡ªå·±ç½‘ç«™çš„æ—¶å€™ï¼Œå‘ç°æˆ‘çš„å¿ƒæƒ…å¥½åƒæœ‰äº›èµ·ä¼ï¼Œä¼šå› ä¸ºæ‰¾ä¸å‡ºbugè€Œçƒ¦æ¼ï¼Œä¹Ÿä¼šå› ä¸ºä¼˜åŒ–æˆåŠŸåå–œæ‚¦ã€‚æˆ‘æƒ³æˆ‘åº”è¯¥è¿˜æ˜¯æ¯”è¾ƒé€‚åˆå»å†™ä¸€äº›å®ç”¨æ€§çš„ä»£ç ï¼Œå°±åƒæˆ‘æœ¬ç§‘ä¸€æ ·ï¼Œæ‰€ä»¥ä¹‹åæˆ‘ä¹Ÿä¼šå°½é‡å¾€è¿™æ–¹é¢å»å­¦ï¼Œè€Œä¸æ˜¯æ•´å¤©å°±æ˜¯çœ‹è®ºæ–‡ï¼Œå¤ç°ä»£ç ã€‚é—æ†¾æ°¸è¿œæ˜¯ä¼šæœ‰çš„ï¼Œè€Œä½ ä¹Ÿæ°¸è¿œæ˜¯æœ€æ£’çš„ï¼Œä»æ¥ä¸æ€€ç–‘ä½ çš„æŠ€æœ¯ï¼Œä¹Ÿä¸ä¼šæ‹…å¿ƒä½ è§£å†³é—®é¢˜çš„èƒ½åŠ›ã€‚åŠ æ²¹ï¼æƒ³ç€ç†æƒ³çš„ç”Ÿæ´»ç»§ç»­åŠªåŠ›ğŸ’ª</p><p><strong>è¿™ä¸€ä»½ä»½çš„é—æ†¾ï¼Œç»ˆå°†é“¸æˆæœ€åçš„é‚£ä»½ç¾å¥½</strong></p>]]></content>
    
    
    <categories>
      
      <category>æ¯å‘¨å›é¡¾</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ€»ç»“&amp;åæ€</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç®—æ³•è®­ç»ƒä¹‹ -- é“¾è¡¨ç†è®ºåŸºç¡€</title>
    <link href="/posts/24066/"/>
    <url>/posts/24066/</url>
    
    <content type="html"><![CDATA[<h3 id="é“¾è¡¨æ¦‚å¿µ">1 é“¾è¡¨æ¦‚å¿µ</h3><p>â€ƒâ€ƒé“¾è¡¨æ˜¯ä¸€ç§é€šè¿‡æŒ‡é’ˆä¸²è”åœ¨ä¸€èµ·çš„çº¿æ€§ç»“æ„ï¼Œæ¯ä¸€ä¸ªèŠ‚ç‚¹ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼Œä¸€ä¸ªæ˜¯æ•°æ®åŸŸä¸€ä¸ªæ˜¯æŒ‡é’ˆåŸŸï¼ˆå­˜æ”¾æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆï¼‰ï¼Œæœ€åä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆåŸŸæŒ‡å‘nullï¼ˆç©ºæŒ‡é’ˆçš„æ„æ€ï¼‰ï¼Œé“¾è¡¨çš„å…¥å£èŠ‚ç‚¹ç§°ä¸ºé“¾è¡¨çš„å¤´ç»“ç‚¹ä¹Ÿå°±æ˜¯headã€‚</p><p><img src="20200806194529815-17048539314822.png" alt="é“¾è¡¨1" style="zoom:80%;" /></p><h3 id="é“¾è¡¨ç±»å‹">2 é“¾è¡¨ç±»å‹</h3><h4 id="å•é“¾è¡¨">1. å•é“¾è¡¨</h4><p>â€ƒâ€ƒå¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œåªæœ‰ä¸€ä¸ªæ–¹å‘ã€‚</p><h4 id="åŒé“¾è¡¨">2. åŒé“¾è¡¨</h4><p>â€ƒâ€ƒå•é“¾è¡¨ä¸­çš„æŒ‡é’ˆåŸŸåªèƒ½æŒ‡å‘èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚åŒé“¾è¡¨ï¼šæ¯ä¸€ä¸ªèŠ‚ç‚¹æœ‰ä¸¤ä¸ªæŒ‡é’ˆåŸŸï¼Œä¸€ä¸ªæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¸€ä¸ªæŒ‡å‘ä¸Šä¸€ä¸ªèŠ‚ç‚¹ï¼ŒåŒé“¾è¡¨æ—¢å¯ä»¥å‘å‰æŸ¥è¯¢ä¹Ÿå¯ä»¥å‘åæŸ¥è¯¢ã€‚</p><p><img src="20200806194559317-17048540722744.png" alt="é“¾è¡¨2" style="zoom:80%;" /></p><h4 id="å¾ªç¯é“¾è¡¨">3. å¾ªç¯é“¾è¡¨</h4><p>â€ƒâ€ƒå¾ªç¯é“¾è¡¨ï¼Œå°±æ˜¯é“¾è¡¨é¦–å°¾ç›¸è¿ã€‚</p><figure><img src="20200806194629603.png" alt="é“¾è¡¨4" /><figcaption aria-hidden="true">é“¾è¡¨4</figcaption></figure><h3 id="é“¾è¡¨çš„å®šä¹‰">3 é“¾è¡¨çš„å®šä¹‰</h3><h4 id="ccå®šä¹‰é“¾è¡¨èŠ‚ç‚¹æ–¹å¼">1. C/C++å®šä¹‰é“¾è¡¨èŠ‚ç‚¹æ–¹å¼</h4><ol type="1"><li>èŠ‚ç‚¹å®šä¹‰</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python">// å•é“¾è¡¨<br>struct ListNode &#123;<br>    <span class="hljs-built_in">int</span> val;  // èŠ‚ç‚¹ä¸Šå­˜å‚¨çš„å…ƒç´ <br>    ListNode *<span class="hljs-built_in">next</span>;  // æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆ<br>    ListNode(<span class="hljs-built_in">int</span> x) : val(x), <span class="hljs-built_in">next</span>(NULL) &#123;&#125;  // èŠ‚ç‚¹çš„æ„é€ å‡½æ•°<br>&#125;;<br></code></pre></td></tr></table></figure><ol start="2" type="1"><li>åˆ›å»ºé“¾è¡¨</li></ol><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">LinkedList</span> &#123;<br><span class="hljs-keyword">private</span>:<br>    ListNode *head;<br><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-built_in">LinkedList</span>() : <span class="hljs-built_in">head</span>(<span class="hljs-literal">nullptr</span>) &#123;&#125;  <span class="hljs-comment">// æ„é€ å‡½æ•°</span><br><br>    ~<span class="hljs-built_in">LinkedList</span>() &#123;<span class="hljs-comment">// ææ„å‡½æ•°</span><br>        ListNode *current = head;<br>        <span class="hljs-keyword">while</span> (current != <span class="hljs-literal">nullptr</span>) &#123;<br>            ListNode *next = current-&gt;next;<br>            <span class="hljs-keyword">delete</span> current;<br>            current = next;<br>        &#125;<br>        head = <span class="hljs-literal">nullptr</span>;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">append</span><span class="hljs-params">(<span class="hljs-type">int</span> data)</span> </span>&#123;<span class="hljs-comment">// æ·»åŠ å‡½æ•°</span><br>        ListNode *newNode = <span class="hljs-keyword">new</span> <span class="hljs-built_in">ListNode</span>(data);<br>        <span class="hljs-keyword">if</span> (head == <span class="hljs-literal">nullptr</span>) &#123;<br>            head = newNode;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            ListNode *current = head;<br>            <span class="hljs-keyword">while</span> (current-&gt;next != <span class="hljs-literal">nullptr</span>) &#123;<br>                current = current-&gt;next;<br>            &#125;<br>            current-&gt;next = newNode;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">print</span><span class="hljs-params">()</span> <span class="hljs-type">const</span> </span>&#123;<span class="hljs-comment">// æ‰“å°é“¾è¡¨</span><br>        ListNode *current = head;<br>        <span class="hljs-keyword">while</span> (current != <span class="hljs-literal">nullptr</span>) &#123;<br>            std::cout &lt;&lt; current-&gt;data &lt;&lt; <span class="hljs-string">&quot; &quot;</span>;<br>            current = current-&gt;next;<br>        &#125;<br>        std::cout &lt;&lt; std::endl;<br>    &#125;<br>&#125;;<br><br></code></pre></td></tr></table></figure><h4 id="pythonå®šä¹‰é“¾è¡¨èŠ‚ç‚¹æ–¹å¼">2. Pythonå®šä¹‰é“¾è¡¨èŠ‚ç‚¹æ–¹å¼</h4><ol type="1"><li>èŠ‚ç‚¹å®šä¹‰ï¼šé¦–å…ˆå®šä¹‰ä¸€ä¸ªèŠ‚ç‚¹ç±»ï¼Œå…¶ä¸­åŒ…å«æ•°æ®å’ŒæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„å¼•ç”¨ã€‚</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ListNode</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, data</span>):<br>        self.data = data<br>        self.<span class="hljs-built_in">next</span> = <span class="hljs-literal">None</span><br></code></pre></td></tr></table></figure><ol start="2" type="1"><li>é“¾è¡¨å®šä¹‰ï¼šç„¶åå¯ä»¥å®šä¹‰ä¸€ä¸ªé“¾è¡¨ç±»ï¼Œå…¶ä¸­åŒ…å«å¯¹é“¾è¡¨å¤´èŠ‚ç‚¹çš„å¼•ç”¨ï¼Œä»¥åŠæ·»åŠ ã€åˆ é™¤å’Œæ‰“å°ç­‰æ“ä½œã€‚</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">LinkedList</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        self.head = <span class="hljs-literal">None</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">append</span>(<span class="hljs-params">self, data</span>):<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> self.head:<br>            self.head = ListNode(data)<br>        <span class="hljs-keyword">else</span>:<br>            current = self.head<br>            <span class="hljs-keyword">while</span> current.<span class="hljs-built_in">next</span>:<br>                current = current.<span class="hljs-built_in">next</span><br>            current.<span class="hljs-built_in">next</span> = ListNode(data)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">print_list</span>(<span class="hljs-params">self</span>):<br>        current = self.head<br>        <span class="hljs-keyword">while</span> current:<br>            <span class="hljs-built_in">print</span>(current.data)<br>            current = current.<span class="hljs-built_in">next</span><br><br>    <span class="hljs-comment"># å…¶ä»–é“¾è¡¨æ“ä½œï¼Œå¦‚åˆ é™¤èŠ‚ç‚¹ã€æŸ¥æ‰¾èŠ‚ç‚¹ç­‰</span><br><br><span class="hljs-comment"># åˆ›å»ºå¯¹è±¡ï¼Œå¹¶æ·»åŠ å…ƒç´ æ‰“å°</span><br>ll = LinkedList()<br>ll.append(<span class="hljs-number">1</span>)<br>ll.append(<span class="hljs-number">2</span>)<br>ll.append(<span class="hljs-number">3</span>)<br><br>ll.print_list()<br></code></pre></td></tr></table></figure><h3 id="é“¾è¡¨çš„æ“ä½œ">4 é“¾è¡¨çš„æ“ä½œ</h3><h4 id="åˆ é™¤èŠ‚ç‚¹">1. åˆ é™¤èŠ‚ç‚¹</h4><p><img src="20200806195114541-20230310121459257.png" alt="é“¾è¡¨-åˆ é™¤èŠ‚ç‚¹" style="zoom:80%;" /></p><p>â€ƒâ€ƒåªè¦å°†CèŠ‚ç‚¹çš„nextæŒ‡é’ˆæŒ‡å‘EèŠ‚ç‚¹å°±å¯ä»¥äº†ã€‚åœ¨C++é‡Œæœ€å¥½æ˜¯å†æ‰‹åŠ¨é‡Šæ”¾è¿™ä¸ªDèŠ‚ç‚¹ï¼Œé‡Šæ”¾è¿™å—å†…å­˜ã€‚å…¶ä»–è¯­è¨€ä¾‹å¦‚Javaã€Pythonï¼Œå°±æœ‰è‡ªå·±çš„å†…å­˜å›æ”¶æœºåˆ¶ï¼Œå°±ä¸ç”¨è‡ªå·±æ‰‹åŠ¨é‡Šæ”¾äº†ã€‚</p><ol type="1"><li>C++ åˆ é™¤èŠ‚ç‚¹</li></ol><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">// åˆ é™¤èŠ‚ç‚¹</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">deleteNode</span><span class="hljs-params">(<span class="hljs-type">int</span> key)</span> </span>&#123;<br>    ListNode *current = head;<br>    ListNode *previous = <span class="hljs-literal">nullptr</span>;<br><br>    <span class="hljs-comment">// æŸ¥æ‰¾è¦åˆ é™¤çš„èŠ‚ç‚¹å’Œå…¶å‰ä¸€ä¸ªèŠ‚ç‚¹</span><br>    <span class="hljs-keyword">while</span> (current != <span class="hljs-literal">nullptr</span> &amp;&amp; current-&gt;data != key) &#123;<br>        previous = current;<br>        current = current-&gt;next;<br>    &#125;<br><br>    <span class="hljs-comment">// å¦‚æœæ‰¾åˆ°äº†è¦åˆ é™¤çš„èŠ‚ç‚¹</span><br>    <span class="hljs-keyword">if</span> (current != <span class="hljs-literal">nullptr</span>) &#123;<br>        <span class="hljs-comment">// å¦‚æœè¦åˆ é™¤çš„æ˜¯å¤´èŠ‚ç‚¹</span><br>        <span class="hljs-keyword">if</span> (previous == <span class="hljs-literal">nullptr</span>) &#123;<br>            head = current-&gt;next;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            previous-&gt;next = current-&gt;next;<br>        &#125;<br>        <span class="hljs-keyword">delete</span> current;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ol start="2" type="1"><li>Python åˆ é™¤èŠ‚ç‚¹</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python">ll = LinkedList()<br>ll.append(<span class="hljs-number">1</span>)<br>ll.append(<span class="hljs-number">2</span>)<br>ll.append(<span class="hljs-number">3</span>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;åŸå§‹é“¾è¡¨:&quot;</span>)<br>ll.print_list()<br><br>ll.delete(<span class="hljs-number">2</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;åˆ é™¤èŠ‚ç‚¹ 2 åçš„é“¾è¡¨:&quot;</span>)<br>ll.print_list()<br></code></pre></td></tr></table></figure><h4 id="æ·»åŠ èŠ‚ç‚¹">2. æ·»åŠ èŠ‚ç‚¹</h4><p><img src="20200806195134331-20230310121503147.png" alt="é“¾è¡¨-æ·»åŠ èŠ‚ç‚¹" style="zoom:80%;" /></p><p>â€ƒâ€ƒé“¾è¡¨çš„å¢æ·»å’Œåˆ é™¤éƒ½æ˜¯O(1)æ“ä½œï¼Œä¹Ÿä¸ä¼šå½±å“åˆ°å…¶ä»–èŠ‚ç‚¹ã€‚ä½†æ˜¯è¦æ³¨æ„ï¼Œè¦æ˜¯åˆ é™¤ç¬¬äº”ä¸ªèŠ‚ç‚¹ï¼Œéœ€è¦ä»å¤´èŠ‚ç‚¹æŸ¥æ‰¾åˆ°ç¬¬å››ä¸ªèŠ‚ç‚¹é€šè¿‡nextæŒ‡é’ˆè¿›è¡Œåˆ é™¤æ“ä½œï¼ŒæŸ¥æ‰¾çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(n)ã€‚æ“ä½œåœ¨ä¸Šé¢çš„å®šä¹‰é“¾è¡¨ä¸­ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åˆ·é¢˜</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>EpiGRAFæºç åˆ†æ</title>
    <link href="/posts/41203/"/>
    <url>/posts/41203/</url>
    
    <content type="html"><![CDATA[<h3 id="generation">1 Generation</h3><h4 id="mapping-network">1. Mapping Network</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">@persistence.persistent_class</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MappingNetwork</span>(torch.nn.Module):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self,</span><br><span class="hljs-params">        z_dim,                         <span class="hljs-comment"># Input latent (Z) dimensionality, 0 = no latent.</span></span><br><span class="hljs-params">        c_dim,                         <span class="hljs-comment"># Conditioning label (C) dimensionality, 0 = no label.</span></span><br><span class="hljs-params">        w_dim,                         <span class="hljs-comment"># Intermediate latent (W) dimensionality.</span></span><br><span class="hljs-params">        num_ws,                        <span class="hljs-comment"># Number of intermediate latents to output, None = do not broadcast.</span></span><br><span class="hljs-params">        num_layers            = <span class="hljs-number">2</span>,        <span class="hljs-comment"># Number of mapping layers.</span></span><br><span class="hljs-params">        embed_features        = <span class="hljs-literal">None</span>,     <span class="hljs-comment"># Label embedding dimensionality, None = same as w_dim.</span></span><br><span class="hljs-params">        layer_features        = <span class="hljs-literal">None</span>,     <span class="hljs-comment"># Number of intermediate features in the mapping layers, </span></span><br><span class="hljs-params">        activation            = <span class="hljs-string">&#x27;lrelu&#x27;</span>,  <span class="hljs-comment"># Activation function: &#x27;relu&#x27;, &#x27;lrelu&#x27;, etc.</span></span><br><span class="hljs-params">        lr_multiplier         = <span class="hljs-number">0.01</span>,     <span class="hljs-comment"># Learning rate multiplier for the mapping layers.</span></span><br><span class="hljs-params">        w_avg_beta            = <span class="hljs-number">0.998</span>,    <span class="hljs-comment"># Decay for tracking the moving average of W during training, </span></span><br><span class="hljs-params">        camera_cond           = <span class="hljs-literal">False</span>,    <span class="hljs-comment"># Camera conditioning</span></span><br><span class="hljs-params">        camera_raw_scalars    = <span class="hljs-literal">False</span>,    <span class="hljs-comment"># Should we use raw camera angles as input or preprocess them with </span></span><br><span class="hljs-params">        camera_cond_drop_p    = <span class="hljs-number">0.0</span>,      <span class="hljs-comment"># Camera conditioning dropout</span></span><br><span class="hljs-params">        camera_cond_noise_std = <span class="hljs-number">0.0</span>,      <span class="hljs-comment"># Camera conditioning noise std.</span></span><br><span class="hljs-params">        mean_camera_pose      = <span class="hljs-literal">None</span>,     <span class="hljs-comment"># Average camera pose for use at test time.</span></span><br><span class="hljs-params">    </span>):<br>        <span class="hljs-built_in">super</span>().__init__()<br>        <span class="hljs-keyword">if</span> camera_cond:<br>            <span class="hljs-keyword">if</span> camera_raw_scalars:<br>                self.camera_scalar_enc = ScalarEncoder1d(coord_dim=<span class="hljs-number">2</span>, x_multiplier=<span class="hljs-number">0.0</span>, const_emb_dim=<span class="hljs-number">0</span>, <br>                                                         use_raw=<span class="hljs-literal">True</span>)<br>            <span class="hljs-keyword">else</span>:<br>                self.camera_scalar_enc = ScalarEncoder1d(coord_dim=<span class="hljs-number">2</span>, x_multiplier=<span class="hljs-number">64.0</span>, const_emb_dim=<span class="hljs-number">0</span>)<br>            c_dim = c_dim + self.camera_scalar_enc.get_dim()<br>            <span class="hljs-keyword">assert</span> self.camera_scalar_enc.get_dim() &gt; <span class="hljs-number">0</span><br>        <span class="hljs-keyword">else</span>:<br>            self.camera_scalar_enc = <span class="hljs-literal">None</span><br><br>        self.z_dim = z_dim<br>        self.c_dim = c_dim<br>        self.w_dim = w_dim<br>        self.num_ws = num_ws<br>        self.num_layers = num_layers<br>        self.w_avg_beta = w_avg_beta<br>        self.camera_cond_drop_p = camera_cond_drop_p<br>        self.camera_cond_noise_std = camera_cond_noise_std<br><br>        <span class="hljs-keyword">if</span> embed_features <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br>            embed_features = w_dim<br>        <span class="hljs-keyword">if</span> self.c_dim == <span class="hljs-number">0</span>:<br>            embed_features = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">if</span> layer_features <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br>            layer_features = w_dim<br>        features_list = [z_dim + embed_features] + [layer_features] * (num_layers - <span class="hljs-number">1</span>) + [w_dim]<br><br>        <span class="hljs-keyword">if</span> self.c_dim &gt; <span class="hljs-number">0</span>:<br>            self.embed = FullyConnectedLayer(self.c_dim, embed_features)<br>        <span class="hljs-keyword">for</span> idx <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(num_layers):<br>            in_features = features_list[idx]<br>            out_features = features_list[idx + <span class="hljs-number">1</span>]<br>            layer = FullyConnectedLayer(in_features, out_features, activation=activation, <br>                                        lr_multiplier=lr_multiplier)<br>            <span class="hljs-built_in">setattr</span>(self, <span class="hljs-string">f&#x27;fc<span class="hljs-subst">&#123;idx&#125;</span>&#x27;</span>, layer)<br><br>        <span class="hljs-keyword">if</span> num_ws <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span> <span class="hljs-keyword">and</span> w_avg_beta <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:<br>            self.register_buffer(<span class="hljs-string">&#x27;w_avg&#x27;</span>, torch.zeros([w_dim]))<br><br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> mean_camera_pose <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br>            self.register_buffer(<span class="hljs-string">&#x27;mean_camera_pose&#x27;</span>, mean_camera_pose)<br>        <span class="hljs-keyword">else</span>:<br>            self.mean_camera_pose = <span class="hljs-literal">None</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, z, c, camera_angles: torch.Tensor=<span class="hljs-literal">None</span>, truncation_psi=<span class="hljs-number">1</span>, truncation_cutoff=<span class="hljs-literal">None</span>, </span><br><span class="hljs-params">                update_emas=<span class="hljs-literal">False</span></span>):<br>        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">not</span> self.camera_scalar_enc <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>) <span class="hljs-keyword">and</span> (<span class="hljs-keyword">not</span> self.training) <span class="hljs-keyword">and</span> (camera_angles <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>):<br>            camera_angles = self.mean_camera_pose.unsqueeze(<span class="hljs-number">0</span>).repeat(<span class="hljs-built_in">len</span>(z), <span class="hljs-number">1</span>) <span class="hljs-comment"># [batch_size, 3]</span><br><br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> self.camera_scalar_enc <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br>            <span class="hljs-comment"># Using only yaw and pitch for conditioning (roll is always zero)</span><br>            camera_angles = camera_angles[:, [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>]] <span class="hljs-comment"># [batch_size, 2]</span><br>            <span class="hljs-keyword">if</span> self.training <span class="hljs-keyword">and</span> self.camera_cond_noise_std &gt; <span class="hljs-number">0</span>:<br>                camera_angles = camera_angles + self.camera_cond_noise_std * torch.randn_like(camera_angles) * <br>                camera_angles.std(dim=<span class="hljs-number">0</span>, keepdim=<span class="hljs-literal">True</span>) <span class="hljs-comment"># [batch_size, 2]</span><br>            <br>            <span class="hljs-comment"># [batch_size, 2]</span><br>            camera_angles = camera_angles.sign() * ((camera_angles.<span class="hljs-built_in">abs</span>() % (<span class="hljs-number">2.0</span> * np.pi)) / (<span class="hljs-number">2.0</span> * np.pi)) <br>            camera_angles_embs = self.camera_scalar_enc(camera_angles) <span class="hljs-comment"># [batch_size, fourier_dim]</span><br>            <br>            <span class="hljs-comment"># [batch_size, fourier_dim]</span><br>            camera_angles_embs = F.dropout(camera_angles_embs, p=self.camera_cond_drop_p, training=self.training) <br>            <br>            <span class="hljs-comment"># [batch_size, c_dim]</span><br>            c = torch.zeros(<span class="hljs-built_in">len</span>(camera_angles_embs), <span class="hljs-number">0</span>, device=camera_angles_embs.device) <span class="hljs-keyword">if</span> c <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span> <span class="hljs-keyword">else</span> c<br>            c = torch.cat([c, camera_angles_embs], dim=<span class="hljs-number">1</span>) <span class="hljs-comment"># [batch_size, c_dim + angle_emb_dim]</span><br><br>        <span class="hljs-comment"># Embed, normalize, and concat inputs.</span><br>        x = <span class="hljs-literal">None</span><br>        <span class="hljs-keyword">with</span> torch.autograd.profiler.record_function(<span class="hljs-string">&#x27;input&#x27;</span>):<br>            <span class="hljs-keyword">if</span> self.z_dim &gt; <span class="hljs-number">0</span>:<br>                misc.assert_shape(z, [<span class="hljs-literal">None</span>, self.z_dim])<br>                x = normalize_2nd_moment(z.to(torch.float32))<br>            <span class="hljs-keyword">if</span> self.c_dim &gt; <span class="hljs-number">0</span>:<br>                misc.assert_shape(c, [<span class="hljs-literal">None</span>, self.c_dim])<br>                y = normalize_2nd_moment(self.embed(c.to(torch.float32)))<br>                x = torch.cat([x, y], dim=<span class="hljs-number">1</span>) <span class="hljs-keyword">if</span> x <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span> <span class="hljs-keyword">else</span> y<br><br>        <span class="hljs-comment"># Main layers.</span><br>        <span class="hljs-keyword">for</span> idx <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(self.num_layers):<br>            layer = <span class="hljs-built_in">getattr</span>(self, <span class="hljs-string">f&#x27;fc<span class="hljs-subst">&#123;idx&#125;</span>&#x27;</span>)<br>            x = layer(x)<br><br>        <span class="hljs-comment"># Update moving average of W.</span><br>        <span class="hljs-keyword">if</span> update_emas <span class="hljs-keyword">and</span> self.w_avg_beta <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:<br>            <span class="hljs-keyword">with</span> torch.autograd.profiler.record_function(<span class="hljs-string">&#x27;update_w_avg&#x27;</span>):<br>                self.w_avg.copy_(x.detach().mean(dim=<span class="hljs-number">0</span>).lerp(self.w_avg, self.w_avg_beta))<br><br>        <span class="hljs-comment"># Broadcast.</span><br>        <span class="hljs-keyword">if</span> self.num_ws <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:<br>            <span class="hljs-keyword">with</span> torch.autograd.profiler.record_function(<span class="hljs-string">&#x27;broadcast&#x27;</span>):<br>                x = x.unsqueeze(<span class="hljs-number">1</span>).repeat([<span class="hljs-number">1</span>, self.num_ws, <span class="hljs-number">1</span>])<br><br>        <span class="hljs-comment"># Apply truncation.</span><br>        <span class="hljs-keyword">if</span> truncation_psi != <span class="hljs-number">1</span>:<br>            <span class="hljs-keyword">with</span> torch.autograd.profiler.record_function(<span class="hljs-string">&#x27;truncate&#x27;</span>):<br>                <span class="hljs-keyword">assert</span> self.w_avg_beta <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span><br>                <span class="hljs-keyword">if</span> self.num_ws <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span> <span class="hljs-keyword">or</span> truncation_cutoff <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br>                    x = self.w_avg.lerp(x, truncation_psi)<br>                <span class="hljs-keyword">else</span>:<br>                    x[:, :truncation_cutoff] = self.w_avg.lerp(x[:, :truncation_cutoff], truncation_psi)<br>        <span class="hljs-keyword">return</span> x<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">extra_repr</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">f&#x27;z_dim=<span class="hljs-subst">&#123;self.z_dim:d&#125;</span>, c_dim=<span class="hljs-subst">&#123;self.c_dim:d&#125;</span>, w_dim=<span class="hljs-subst">&#123;self.w_dim:d&#125;</span>, num_ws=<span class="hljs-subst">&#123;self.num_ws:d&#125;</span>&#x27;</span><br></code></pre></td></tr></table></figure><h4 id="systhesis-network">2. Systhesis network</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-meta">@persistence.persistent_class</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">SynthesisBlocksSequence</span>(torch.nn.Module):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self,</span><br><span class="hljs-params">        w_dim,                      <span class="hljs-comment"># Intermediate latent (W) dimensionality.</span></span><br><span class="hljs-params">        in_resolution,              <span class="hljs-comment"># Which resolution do we start with?</span></span><br><span class="hljs-params">        out_resolution,             <span class="hljs-comment"># Output image resolution.</span></span><br><span class="hljs-params">        in_channels,                <span class="hljs-comment"># Number of input channels.</span></span><br><span class="hljs-params">        out_channels,               <span class="hljs-comment"># Number of input channels.</span></span><br><span class="hljs-params">        channel_base    = <span class="hljs-number">32768</span>,    <span class="hljs-comment"># Overall multiplier for the number of channels.</span></span><br><span class="hljs-params">        channel_max     = <span class="hljs-number">512</span>,      <span class="hljs-comment"># Maximum number of channels in any layer.</span></span><br><span class="hljs-params">        num_fp16_res    = <span class="hljs-number">4</span>,        <span class="hljs-comment"># Use FP16 for the N highest resolutions.</span></span><br><span class="hljs-params">        **block_kwargs,             <span class="hljs-comment"># Arguments for SynthesisBlock.</span></span><br><span class="hljs-params">    </span>):<br>        <span class="hljs-keyword">assert</span> in_resolution == <span class="hljs-number">0</span> <span class="hljs-keyword">or</span> (in_resolution &gt;= <span class="hljs-number">4</span> <span class="hljs-keyword">and</span> math.log2(in_resolution).is_integer())<br>        <span class="hljs-keyword">assert</span> out_resolution &gt;= <span class="hljs-number">4</span> <span class="hljs-keyword">and</span> math.log2(out_resolution).is_integer()<br>        <span class="hljs-keyword">assert</span> in_resolution &lt; out_resolution<br><br>        <span class="hljs-built_in">super</span>().__init__()<br><br>        self.w_dim = w_dim<br>        self.out_resolution = out_resolution<br>        self.in_channels = in_channels<br>        self.out_channels = out_channels<br>        self.num_fp16_res = num_fp16_res<br><br>        in_resolution_log2 = <span class="hljs-number">2</span> <span class="hljs-keyword">if</span> in_resolution == <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> (<span class="hljs-built_in">int</span>(np.log2(in_resolution)) + <span class="hljs-number">1</span>)<br>        out_resolution_log2 = <span class="hljs-built_in">int</span>(np.log2(out_resolution))<br>        self.block_resolutions = [<span class="hljs-number">2</span> ** i <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(in_resolution_log2, out_resolution_log2 + <span class="hljs-number">1</span>)]<br>        out_channels_dict = &#123;res: <span class="hljs-built_in">min</span>(channel_base // res, channel_max) <span class="hljs-keyword">for</span> res <span class="hljs-keyword">in</span> self.block_resolutions&#125;<br>        fp16_resolution = <span class="hljs-built_in">max</span>(<span class="hljs-number">2</span> ** (out_resolution_log2 + <span class="hljs-number">1</span> - num_fp16_res), <span class="hljs-number">8</span>)<br><br>        self.num_ws = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">for</span> block_idx, res <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(self.block_resolutions):<br>            cur_in_channels = out_channels_dict[res // <span class="hljs-number">2</span>] <span class="hljs-keyword">if</span> block_idx &gt; <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> in_channels<br>            cur_out_channels = out_channels_dict[res]<br>            use_fp16 = (res &gt;= fp16_resolution)<br>            is_last = (res == self.out_resolution)<br>            block = SynthesisBlock(cur_in_channels, cur_out_channels, w_dim=w_dim, resolution=res,<br>                img_channels=self.out_channels, is_last=is_last, use_fp16=use_fp16, **block_kwargs)<br>            self.num_ws += block.num_conv<br>            <span class="hljs-keyword">if</span> is_last:<br>                self.num_ws += block.num_torgb<br>            <span class="hljs-built_in">setattr</span>(self, <span class="hljs-string">f&#x27;b<span class="hljs-subst">&#123;res&#125;</span>&#x27;</span>, block)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, ws, x: torch.Tensor=<span class="hljs-literal">None</span>, **block_kwargs</span>):<br>        block_ws = []<br>        <span class="hljs-keyword">with</span> torch.autograd.profiler.record_function(<span class="hljs-string">&#x27;split_ws&#x27;</span>):<br>            misc.assert_shape(ws, [<span class="hljs-literal">None</span>, self.num_ws, self.w_dim])<br>            ws = ws.to(torch.float32)<br>            w_idx = <span class="hljs-number">0</span><br>            <span class="hljs-keyword">for</span> res <span class="hljs-keyword">in</span> self.block_resolutions:<br>                block = <span class="hljs-built_in">getattr</span>(self, <span class="hljs-string">f&#x27;b<span class="hljs-subst">&#123;res&#125;</span>&#x27;</span>)<br>                block_ws.append(ws.narrow(<span class="hljs-number">1</span>, w_idx, block.num_conv + block.num_torgb))<br>                w_idx += block.num_conv<br><br>        img = <span class="hljs-literal">None</span><br>        <span class="hljs-keyword">for</span> res, cur_ws <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(self.block_resolutions, block_ws):<br>            block = <span class="hljs-built_in">getattr</span>(self, <span class="hljs-string">f&#x27;b<span class="hljs-subst">&#123;res&#125;</span>&#x27;</span>)<br>            x, img = block(x, img, cur_ws, **block_kwargs)<br>        <span class="hljs-keyword">return</span> img<br><br></code></pre></td></tr></table></figure><h4 id="tri_plane_renderer-triplanemlp">3. tri_plane_renderer &amp;&amp;TriPlaneMLP</h4><blockquote><p>ä¸‰å¹³é¢æ¸²æŸ“ï¼Œä»¥åŠä¸‰å¹³é¢çš„MLPè§£ç ç½‘ç»œ</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">tri_plane_renderer</span>(<span class="hljs-params">x: torch.Tensor, coords: torch.Tensor, ray_d_world: torch.Tensor, mlp: <span class="hljs-type">Callable</span>, scale: <span class="hljs-built_in">float</span>=<span class="hljs-number">1.0</span></span>) -&gt; torch.Tensor:<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    Computes RGB\sigma values from a tri-plane representation + MLP</span><br><span class="hljs-string"></span><br><span class="hljs-string">    x: [batch_size, feat_dim * 3, h, w]</span><br><span class="hljs-string">    coords: [batch_size, h * w, num_steps, 3]</span><br><span class="hljs-string">    ray_d_world: [batch_size, h * w, 3] --- ray directions in the world coordinate system</span><br><span class="hljs-string">    mlp: additional transform to apply on top of features</span><br><span class="hljs-string">    scale: additional scaling of the coordinates</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">assert</span> x.shape[<span class="hljs-number">1</span>] % <span class="hljs-number">3</span> == <span class="hljs-number">0</span>, <span class="hljs-string">f&quot;We use 3 planes: <span class="hljs-subst">&#123;x.shape&#125;</span>&quot;</span><br>    coords = coords.view(coords.shape[<span class="hljs-number">0</span>], -<span class="hljs-number">1</span>, <span class="hljs-number">3</span>) <span class="hljs-comment"># [batch_size, h * w * num_points, 3]</span><br>    batch_size, raw_feat_dim, h, w = x.shape<br>    num_points = coords.shape[<span class="hljs-number">1</span>]<br>    feat_dim = raw_feat_dim // <span class="hljs-number">3</span><br>    misc.assert_shape(coords, [batch_size, <span class="hljs-literal">None</span>, <span class="hljs-number">3</span>])<br><br>    x = x.view(batch_size * <span class="hljs-number">3</span>, feat_dim, h, w) <span class="hljs-comment"># [batch_size * 3, feat_dim, h, w]</span><br>    coords = coords / scale <span class="hljs-comment"># [batch_size, num_points, 3]</span><br>    coords_2d = torch.stack([<br>        coords[..., [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>]], <span class="hljs-comment"># z/y plane</span><br>        coords[..., [<span class="hljs-number">0</span>, <span class="hljs-number">2</span>]], <span class="hljs-comment"># z/x plane</span><br>        coords[..., [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>]], <span class="hljs-comment"># y/x plane</span><br>    ], dim=<span class="hljs-number">1</span>) <span class="hljs-comment"># [batch_size, 3, num_points, 2]</span><br>    coords_2d = coords_2d.view(batch_size * <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, num_points, <span class="hljs-number">2</span>) <span class="hljs-comment"># [batch_size * 3, 1, num_points, 2]</span><br>    <span class="hljs-comment"># assert ((coords_2d.min().item() &gt;= -1.0 - 1e-8) and (coords_2d.max().item() &lt;= 1.0 + 1e-8))</span><br>    <span class="hljs-comment"># x : [batch_size, 3, feat_dim, num_points]</span><br>    x = F.grid_sample(x, grid=coords_2d, mode=<span class="hljs-string">&#x27;bilinear&#x27;</span>, align_corners=<span class="hljs-literal">True</span>).view(batch_size, <span class="hljs-number">3</span>, feat_dim, <br>                                                                                   num_points) <br>    x = x.permute(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>) <span class="hljs-comment"># [batch_size, 3, num_points, feat_dim]</span><br>    x = mlp(x, coords, ray_d_world) <span class="hljs-comment"># [batch_size, num_points, out_dim]</span><br><br>    <span class="hljs-keyword">return</span> x<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">TriPlaneMLP</span>(nn.Module):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, cfg: DictConfig, out_dim: <span class="hljs-built_in">int</span></span>):<br>        <span class="hljs-built_in">super</span>().__init__()<br>        self.cfg = cfg<br>        self.out_dim = out_dim<br><br>        <span class="hljs-keyword">if</span> self.cfg.tri_plane.mlp.n_layers == <span class="hljs-number">0</span>:<br>            <span class="hljs-keyword">assert</span> self.cfg.tri_plane.feat_dim == (self.out_dim + <span class="hljs-number">1</span>), <br>            <span class="hljs-string">f&quot;Wrong dims: <span class="hljs-subst">&#123;self.cfg.tri_plane.feat_dim&#125;</span>, <span class="hljs-subst">&#123;self.out_dim&#125;</span>&quot;</span><br>            self.model = nn.Identity()<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">if</span> self.cfg.tri_plane.get(<span class="hljs-string">&#x27;posenc_period_len&#x27;</span>, <span class="hljs-number">0</span>) &gt; <span class="hljs-number">0</span>:<br>                self.pos_enc = ScalarEncoder1d(<span class="hljs-number">3</span>, x_multiplier=self.cfg.tri_plane.posenc_period_len, <br>                                               const_emb_dim=<span class="hljs-number">0</span>)<br>            <span class="hljs-keyword">else</span>:<br>                self.pos_enc = <span class="hljs-literal">None</span><br><br>            backbone_input_dim = self.cfg.tri_plane.feat_dim + (<span class="hljs-number">0</span> <span class="hljs-keyword">if</span> self.pos_enc <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span> <span class="hljs-keyword">else</span> <br>                                                                self.pos_enc.get_dim())<br>            backbone_out_dim = <span class="hljs-number">1</span> + (self.cfg.tri_plane.mlp.hid_dim <span class="hljs-keyword">if</span> self.cfg.tri_plane.has_view_cond <span class="hljs-keyword">else</span> <br>                                    self.out_dim)<br>            <span class="hljs-comment"># (n_hid_layers + 2)</span><br>            self.dims = [backbone_input_dim] + [self.cfg.tri_plane.mlp.hid_dim] * (self.cfg.tri_plane.mlp.n_layers <br>                                                                                   - <span class="hljs-number">1</span>) + [backbone_out_dim] <br>            activations = [<span class="hljs-string">&#x27;lrelu&#x27;</span>] * (<span class="hljs-built_in">len</span>(self.dims) - <span class="hljs-number">2</span>) + [<span class="hljs-string">&#x27;linear&#x27;</span>]<br>            <span class="hljs-keyword">assert</span> <span class="hljs-built_in">len</span>(self.dims) &gt; <span class="hljs-number">2</span>, <br>            <span class="hljs-string">f&quot;We cant have just a linear layer here: nothing to modulate. Dims: <span class="hljs-subst">&#123;self.dims&#125;</span>&quot;</span><br>            layers = [FullyConnectedLayer(self.dims[i], self.dims[i+<span class="hljs-number">1</span>], activation=a) <span class="hljs-keyword">for</span> i, a <span class="hljs-keyword">in</span> <br>                      <span class="hljs-built_in">enumerate</span>(activations)]<br>            self.model = nn.Sequential(*layers)<br><br>            <span class="hljs-keyword">if</span> self.cfg.tri_plane.has_view_cond:<br>                self.ray_dir_enc = ScalarEncoder1d(coord_dim=<span class="hljs-number">3</span>, const_emb_dim=<span class="hljs-number">0</span>, x_multiplier=<span class="hljs-number">8</span>, use_cos=<span class="hljs-literal">False</span>, <br>                                                   use_raw=<span class="hljs-literal">True</span>)<br>                self.color_network = nn.Sequential(<br>                    FullyConnectedLayer(backbone_out_dim - <span class="hljs-number">1</span> + self.ray_dir_enc.get_dim(), <span class="hljs-number">32</span>, <br>                                        activation=<span class="hljs-string">&#x27;lrelu&#x27;</span>),<br>                    FullyConnectedLayer(<span class="hljs-number">32</span>, self.out_dim, activation=<span class="hljs-string">&#x27;linear&#x27;</span>),<br>                )<br>            <span class="hljs-keyword">else</span>:<br>                self.ray_dir_enc = <span class="hljs-literal">None</span><br>                self.color_network = <span class="hljs-literal">None</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x: torch.Tensor, coords: torch.Tensor, ray_d_world: torch.Tensor</span>) -&gt; torch.Tensor:<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        Params:</span><br><span class="hljs-string">            x: [batch_size, 3, num_points, feat_dim] --- volumetric features from tri-planes</span><br><span class="hljs-string">            coords: [batch_size, num_points, 3] --- coordinates, assumed to be in [-1, 1]</span><br><span class="hljs-string">            ray_d_world: [batch_size, h * w, 3] --- camera ray&#x27;s view directions</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        batch_size, _, num_points, feat_dim = x.shape<br>        x = x.mean(dim=<span class="hljs-number">1</span>).reshape(batch_size * num_points, feat_dim) <span class="hljs-comment"># [batch_size * num_points, feat_dim]</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> self.pos_enc <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br>            misc.assert_shape(coords, [batch_size, num_points, <span class="hljs-number">3</span>])<br>            <span class="hljs-comment"># pos_embs: [batch_size, num_points, pos_emb_dim]</span><br>            pos_embs = self.pos_enc(coords.reshape(batch_size * num_points, <span class="hljs-number">3</span>)) <br>            x = torch.cat([x, pos_embs], dim=<span class="hljs-number">1</span>) <span class="hljs-comment"># [batch_size, num_points, feat_dim + pos_emb_dim]</span><br>        x = self.model(x) <span class="hljs-comment"># [batch_size * num_points, backbone_out_dim]</span><br>        x = x.view(batch_size, num_points, self.dims[-<span class="hljs-number">1</span>]) <span class="hljs-comment"># [batch_size, num_points, backbone_out_dim]</span><br><br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> self.color_network <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br>            num_pixels, view_dir_emb = ray_d_world.shape[<span class="hljs-number">1</span>], self.ray_dir_enc.get_dim()<br>            num_steps = num_points // num_pixels<br>            ray_dir_embs = self.ray_dir_enc(ray_d_world.reshape(-<span class="hljs-number">1</span>, <span class="hljs-number">3</span>)) <span class="hljs-comment"># [batch_size * h * w, view_dir_emb]</span><br>            <span class="hljs-comment"># ray_dir_embs: [batch_size, h * w, 1, view_dir_emb]</span><br>            ray_dir_embs = ray_dir_embs.reshape(batch_size, num_pixels, <span class="hljs-number">1</span>, view_dir_emb) <br>            ray_dir_embs = ray_dir_embs.repeat(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, num_steps, <span class="hljs-number">1</span>) <span class="hljs-comment"># [batch_size, h * w, num_steps, view_dir_emb]</span><br>            <span class="hljs-comment"># ray_dir_embs: [batch_size, h * w * num_steps, view_dir_emb]</span><br>            ray_dir_embs = ray_dir_embs.reshape(batch_size, num_points, view_dir_emb) <br>            density = x[:, :, [-<span class="hljs-number">1</span>]] <span class="hljs-comment"># [batch_size, num_points, 1]</span><br>            <span class="hljs-comment"># color_feats [batch_size, num_points, backbone_out_dim - 1]</span><br>            color_feats = F.leaky_relu(x[:, :, :-<span class="hljs-number">1</span>], negative_slope=<span class="hljs-number">0.1</span>) <br>            <span class="hljs-comment"># color_feats: [batch_size, num_points, backbone_out_dim - 1 + view_dir_emb]</span><br>            color_feats = torch.cat([color_feats, ray_dir_embs], dim=<span class="hljs-number">2</span>) <br>            <span class="hljs-comment"># color_feats: [batch_size * num_points, backbone_out_dim - 1 + view_dir_emb]</span><br>            color_feats = color_feats.view(batch_size * num_points, self.dims[-<span class="hljs-number">1</span>] - <span class="hljs-number">1</span> + view_dir_emb) <br>            colors = self.color_network(color_feats) <span class="hljs-comment"># [batch_size * num_points, out_dim]</span><br>            colors = colors.view(batch_size, num_points, self.out_dim) <span class="hljs-comment"># [batch_size * num_points, out_dim]</span><br>            y = torch.cat([colors, density], dim=<span class="hljs-number">2</span>) <span class="hljs-comment"># [batch_size, num_points, out_dim + 1]</span><br>        <span class="hljs-keyword">else</span>:<br>            y = x<br><br>        misc.assert_shape(y, [batch_size, num_points, self.out_dim + <span class="hljs-number">1</span>])<br><br>        <span class="hljs-keyword">return</span> y<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>æºç è§£è¯»</category>
      
    </categories>
    
    
    <tags>
      
      <tag>3D GAN</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç®—æ³•è®­ç»ƒä¹‹ -- è“æ¡¥æ¯æŠ€å·§</title>
    <link href="/posts/57631/"/>
    <url>/posts/57631/</url>
    
    <content type="html"><![CDATA[<h3 id="è“æ¡¥æ¯èµ›åˆ¶">1 è“æ¡¥æ¯èµ›åˆ¶</h3><ol type="1"><li>è“æ¡¥æ¯ä¸ºACMèµ›åˆ¶ï¼Œéœ€è¦è‡ªå·±å†™<code>è¾“å…¥ï¼Œè¾“å‡º</code><em>ï¼ˆé‡è¦ï¼‰</em>ï¼Œæ‰€ä»¥éœ€è¦å»å­¦ä¹ ä¸€ä¸‹Pythonçš„è¾“å…¥å‡½æ•°ï¼ŒåŒ…æ‹¬ä¸€ä¸ªå˜é‡çš„è¾“å…¥å’Œå¤šä¸ªå˜é‡çš„è¾“å…¥ã€‚</li><li>å…¨å›½é€‰æ‹”èµ›æ—¶é•¿ï¼š4å°æ—¶ã€‚é¢˜å‹ä¸ºå¡«ç©ºé¢˜+ç¼–ç¨‹å¤§é¢˜ï¼ˆ2+8ï¼‰ï¼Œä¸€å…±10é“é¢˜ç›®ã€‚è™½ç„¶è¯´è§„åˆ™ä¸­çš„ç¼–è¯‘å™¨ä¸ºIDLEï¼Œä½†æ˜¯å®Œå…¨å¯ä»¥ä½¿ç”¨Pycharmï¼Œæ‰€ä»¥ç›´æ¥ä½¿ç”¨Pycharmå°±å¥½äº†ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„é¡¹ç›®å°±è¡Œï¼ŒIDLEå¤ªéš¾ç”¨äº†ã€‚</li><li>è“æ¡¥æ¯æ˜¯æŒ‰ç…§æµ‹è¯•ç‚¹ç»™åˆ†çš„ï¼Œå‡è®¾ä¸€ä¸ªé¢˜ç›®æœ‰10ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œä½ çš„ç¨‹åºå¯¹äº†5ä¸ªå°±å¯ä»¥æ‹¿åˆ°50%çš„åˆ†ï¼Œç„¶åä½ æœ€ç»ˆçš„æ’åæ˜¯æŒ‰ç…§æ€»åˆ†æ¥æ’çš„ã€‚</li></ol><h3 id="ä¸€äº›å¸¸ç”¨çš„æŠ€å·§">2 ä¸€äº›å¸¸ç”¨çš„æŠ€å·§</h3><h4 id="å¡«ç©ºé¢˜">1. å¡«ç©ºé¢˜</h4><p>â€ƒâ€ƒå¡«ç©ºé¢˜åªéœ€è¦ä½ ç›´æ¥æŠŠè®¡ç®—å‡ºæ¥çš„ç­”æ¡ˆå†™åˆ°ç³»ç»Ÿé‡Œé¢å°±å¥½äº†ï¼Œä¸éœ€è¦å¤šåŠ ä¸€äº›å…¶ä»–çš„ä¸œè¥¿ã€‚ï¼Œåªéœ€è¦å¡«ç­”æ¡ˆï¼Œæ‰€ä»¥è¿‡ç¨‹æ˜¯æ€ä¹ˆåšå‡ºæ¥çš„éƒ½å¯ä»¥ï¼Œæ—¥æœŸç±»å¯ä»¥é¦–å…ˆè€ƒè™‘ç”¨è¡¨æ ¼excelåšï¼Œåƒä»€ä¹ˆæ±‚è¿‡äº†å¤šå°‘å¤©ï¼Œæ±‚æ˜¯æ˜ŸæœŸå‡ ï¼Œç”¨excelåšå¾ˆæ–¹ä¾¿ã€‚ä¹Ÿå¯ä»¥æš´åŠ›æšä¸¾ï¼Œæ¯•ç«Ÿç³»ç»Ÿåªè¦ç»“æœï¼Œæœ‰äº›ç›´æ¥ç”¨foråµŒå¥—å°±å¯ä»¥åšå‡ºæ¥ï¼Œä¸ºäº†åšå‡ºç­”æ¡ˆä¸æ‹©æ‰‹æ®µã€‚</p><ol type="1"><li>ä½¿ç”¨Excelè§£å†³é—®é¢˜</li></ol><p>â€‹<strong>æ —å­ï¼š</strong>è®¡ç®—ä¸€ä¸ªæ—¥æœŸåå‡ å¤©çš„çš„æ—¥æœŸï¼Œè®¡ç®—2000å¹´1æœˆ1æ—¥å625å¤©çš„æ—¥æœŸæ˜¯å¤šå°‘ï¼Ÿ</p><p>â€‹ <strong>æ–¹æ³•ï¼š</strong>è¾“å…¥2000/1/1ï¼Œç„¶åä¸‹æ‹‰ã€‚</p><p><img src="2.png" style="zoom:80%;" /></p><ol start="2" type="1"><li>ä½¿ç”¨è®¡ç®—å™¨è§£å†³é—®é¢˜</li></ol><p><strong>æ —å­ï¼š</strong>è®¡ç®—ä¸¤ä¸ªæ—¥æœŸä¸­é—´çš„å¤©æ•°ï¼ˆä½¿ç”¨Excelä¹Ÿèƒ½è§£å†³æ­¤ç±»é—®é¢˜ï¼‰ï¼Œè®¡ç®—2000å¹´1æœˆ1æ—¥å’Œ2000å¹´4æœˆ26æ—¥ä¸­é—´çš„å¤©æ•°</p><p><strong>æ–¹æ³•ï¼š</strong>é¦–å…ˆå¿«é€Ÿè°ƒå‡ºè®¡ç®—å™¨ï¼Œwin+R,è¾“å…¥calc,æ‰“å¼€è®¡ç®—å™¨ï¼Œé€‰æ‹©æ—¥æœŸè®¡ç®—ã€‚</p><p><img src="3.png" style="zoom:80%;" /></p><ol start="3" type="1"><li>è¿˜æœ‰è®¸å¤šçš„ç±»ä¼¼æŠ€å·§ï¼ŒExcelæ˜¯æœ€å¸¸ç”¨çš„æ–¹æ³•ï¼Œå¾ˆæ–¹ä¾¿ï¼Œå¾ˆå¿«æ·ã€‚å¯ä»¥ç»“åˆå®é™…çš„é¢˜ç›®æ¥å­¦ä¹ è¿™ä¸ªæ–¹æ³•ï¼Œåœ¨åˆ·è“æ¡¥æ¯å¡«ç©ºé¢˜çš„æ—¶å€™ï¼Œå¯ä»¥é¡ºä¾¿ç™¾åº¦ä¸€ä¸‹è¿™ä¸ªé¢˜ç›®æœ‰æ²¡æœ‰ç”¨æŠ€å·§è§£å†³çš„æ–¹æ³•ï¼Œå¤šç»ƒå‡ é¢˜å°±èƒ½æ‡‚å¾—å…¶ä¸­çš„é—¨é“äº†ã€‚ï¼ˆå¦‚æœçœŸçš„æ²¡æœ‰åŠæ³•å°±çŒœä¸€ä¸‹å­ï¼Œçœ‹ä½ çš„è¿æ°”å¦‚ä½•ï¼Œä¾‹å¦‚ç›´æ¥å†™å½“å¹´çš„å¹´ä»½å•¥çš„ï¼Œè¯´ä¸å®šå°±å¯¹äº†å‘¢å“ˆå“ˆå“ˆï¼‰</li></ol><h4 id="ç¼–ç¨‹å¤§é¢˜">2. ç¼–ç¨‹å¤§é¢˜</h4><p>â€ƒâ€ƒå¯¹äºå¤§é¢˜ï¼Œä¸»è¦çš„æŠ€å·§å°±æ˜¯æš´åŠ›å’Œæ¨¡æ¿ï¼Œæ¨¡æ¿éœ€è¦å¤šåˆ·é¢˜ç§¯ç´¯äº†ã€‚ç„¶åä¸€å®šéœ€è¦çŸ¥é“Pythonçš„è¾“å…¥è¾“å‡ºå‡½æ•°ï¼Œè¿˜æœ‰ä¸€äº›åŸºæœ¬çš„è®¡ç®—å‡½æ•°ã€‚æ•²ä»£ç ä¹‹å‰å…ˆæŠŠæ‰€æœ‰é¢˜ç›®å’Œåˆ†æ•°éƒ½å¤§è‡´è¿‡ä¸€éï¼Œå…ˆé€‰ç®€å•çš„å†é€‰åˆ†æ•°å¾ˆé«˜ä½†å¾ˆæœ‰æŠŠæ¡çš„å†™ï¼Œå†é€‰éš¾ç‚¹é¢˜ç›®ï¼Œä¸æŒ‰é¢˜å·ä¾æ¬¡é€’è¿›ã€‚</p><ol type="1"><li>æ¨¡æ‹Ÿ + æš´åŠ›</li></ol><p>â€ƒâ€ƒä¸»è¦æ˜¯ç”¨forå¾ªç¯æˆ–è€…æ˜¯æœç´¢æš´åŠ›æ±‚è§£ï¼Œæœ‰äº›é¢˜ç›®ä¼šå‘Šè¯‰ä½ æµ‹è¯•é›†æ˜¯æ€ä¹ˆåˆ†å¸ƒçš„ï¼Œè¿™ç§é¢˜ç›®ï¼Œä½ æ¯ç­”å¯¹ä¸€éƒ¨åˆ†æµ‹è¯•é›†ï¼Œå°±èƒ½æ‹¿ä¸€éƒ¨åˆ†çš„åˆ†ï¼Œå…¨ç­”å¯¹äº†ï¼Œå°±æ»¡åˆ†ã€‚é¢˜ç›®çš„æ ·ä¾‹åªæœ‰30%çš„æƒ…å†µä¸‹n&lt;=2ï¼Œå¯ä»¥æš´åŠ›éª—åˆ†ã€‚</p><p><img src="1.png" /></p><p>â€ƒâ€ƒæ‰€è°“æ¨¡æ‹Ÿï¼Œå°±æ˜¯ç”¨è®¡ç®—æœºç¨‹åºæ¥æ¨¡æ‹Ÿå®é™…çš„äº‹ä»¶ã€‚ä¾‹å¦‚NOIP2012çš„â€œå¯»å®â€ï¼Œå°±æ˜¯å†™ä¸€ä¸ªç¨‹åºæ¥æ¨¡æ‹Ÿå°æ˜ä¸Šè—å®å¡”çš„åŠ¨ä½œã€‚æ¨¡æ‹Ÿä¸»è¦å¯ä»¥åº”ç”¨åœ¨éª—é«˜çº§æ•°æ®ç»“æ„é¢˜ä¸Šçš„åˆ†ï¼Œä¾‹å¦‚çº¿æ®µæ ‘ã€‚</p><ol start="2" type="1"><li>æ‰“è¡¨ï¼ˆé€‚ç”¨äºå°æ•°æ®ï¼‰</li></ol><p>â€ƒâ€ƒæ‰“è¡¨å°±æ˜¯ç›´æ¥è¾“å‡ºï¼Œå¯¹äºæœ‰çš„é¢˜è¾“å…¥çš„æ•°æ®å°ï¼Œå¯¹åº”çš„è¾“å‡ºæ•°æ®ä¹Ÿå°±å›ºå®šäº†ï¼Œå› ä¸ºæ‹¿åˆ†æ‰æ˜¯ç›®çš„ï¼Œç›´æ¥æ‰“å°å‡ºè¾“å‡ºæ•°æ®å°±å¥½äº†~</p><p><strong>æ —å­ï¼š</strong>ç«æŸ´æ£’ç­‰å¼<ahref="https://www.dotcpp.com/oj/problem1279.html">NOIP2008T2]ç«æŸ´æ£’ç­‰å¼- Cè¯­è¨€ç½‘ (dotcpp.com)</a></p><blockquote><p>ç»™ä½ næ ¹ç«æŸ´æ£ï¼Œä½ å¯ä»¥æ‹¼å‡ºå¤šå°‘ä¸ªå½¢å¦‚â€œA+B=Câ€çš„ç­‰å¼ï¼Ÿç­‰å¼ä¸­çš„Aã€Bã€Cæ˜¯ç”¨ç«æŸ´æ£æ‹¼å‡ºçš„æ•´æ•°ï¼ˆè‹¥è¯¥æ•°éé›¶ï¼Œåˆ™æœ€é«˜ä½ä¸èƒ½æ˜¯00ï¼‰ã€‚</p><p>ç”¨ç«æŸ´æ£æ‹¼æ•°å­—0-9çš„å¯¹åº”å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p>0-&gt;6æ ¹ 1-&gt;2æ ¹ 2-&gt;5æ ¹ 3-&gt;5æ ¹ 4-&gt;4æ ¹ 5-&gt;5æ ¹ 6-&gt;6æ ¹7-&gt;3æ ¹ 8-&gt;7æ ¹ 9-&gt;6æ ¹</p><p>å¼€å§‹æ‰“è¡¨ï¼š</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">int</span> ans[<span class="hljs-number">25</span>]=&#123;<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>,<span class="hljs-number">6</span>,<span class="hljs-number">9</span>,<span class="hljs-number">29</span>,<span class="hljs-number">39</span>,<span class="hljs-number">38</span>,<span class="hljs-number">65</span>,<span class="hljs-number">88</span>,<span class="hljs-number">128</span>&#125; <span class="hljs-comment"># å®šä¹‰ä¸€ä¸ªç­”æ¡ˆæ•°ç»„</span><br><br>a = <span class="hljs-built_in">input</span>() <span class="hljs-comment"># è¾“å…¥</span><br><br><span class="hljs-built_in">print</span>(ans[a]) <span class="hljs-comment"># è¾“å‡º</span><br><br></code></pre></td></tr></table></figure><ol start="3" type="1"><li>å…¶ä»–</li></ol><p>â€ƒâ€ƒè¦æ˜¯æ²¡æœ‰æ—¶é—´äº†ï¼Œæˆ–è€…æ˜¯ä¸ä¼šå†™ï¼Œé‚£å°±ç›´æ¥çœ‹ä¸€ä¸‹é¢˜ç›®ï¼Œç„¶åè¾“å‡ºä¸€ä¸ªç‰¹å®šå€¼å•¥çš„ï¼Œä¸€èˆ¬ä¸ºï¼ˆ-1,0,1ï¼‰</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-1&quot;</span>) <span class="hljs-keyword">or</span> <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;0&quot;</span>) <span class="hljs-keyword">or</span> <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;1&quot;</span>)<br></code></pre></td></tr></table></figure><p>PSï¼šè¿™é‡Œåªå†™äº†ä¸€ç‚¹ç‚¹çš„æŠ€å·§ï¼Œä½†æ˜¯æ„Ÿè§‰ä¹Ÿè¶³å¤Ÿç”¨äº†ï¼Œå…¶ä»–ä¸€äº›é«˜é˜¶çš„æŠ€å·§ï¼Œéœ€è¦é«˜é˜¶çš„æŠ€æœ¯ï¼ˆDFSï¼Œæ ‘ç­‰ç­‰ï¼‰ï¼Œæœ‰æ—¶é—´å¯ä»¥å­¦å­¦ã€‚ç„¶åå°±æ˜¯å¤šçœ‹å¤šç»ƒã€‚</p><h4 id="æ³¨æ„äº‹é¡¹">3. æ³¨æ„äº‹é¡¹</h4><p>â€ƒâ€ƒå¯ä»¥é‡å¤æäº¤åŒä¸€é“é¢˜ç›®ï¼Œç³»ç»Ÿä¼šä¿ç•™æœ€åä¸€æ¬¡å†…å®¹ã€‚ä¹Ÿå°±æ˜¯è¯´æœ€åæ—¶é—´ä¸å¤šçš„æ—¶å€™ï¼Œä½ è§‰å¾—ä½ ç°åœ¨è¿™é“é¢˜æ ·ä¾‹å·²ç»å¯ä»¥è¿‡äº†ï¼Œå°±ç®—ä¸å®Œå–„ä¹Ÿå…ˆæŠŠä»£ç æäº¤ä¸€ä¸‹ï¼Œç„¶åå†ç»§ç»­å®Œå–„ä¿®æ”¹ï¼Œå¤§ä¸äº†ç­‰å®Œå–„å¥½äº†å†æäº¤å°±æ˜¯äº†ã€‚å› ä¸ºè¿™æ ·ä¸‡ä¸€æ—¶é—´åˆ°äº†ä½ è¿˜åœ¨ä¿®æ”¹æ²¡æäº¤ï¼Œé‚£ä¹‹å‰æäº¤çš„ä¸å®Œå–„çš„ä»£ç ä¹Ÿæœ‰å¯èƒ½æœ‰ä¸ªä¿åº•çš„å‡ åˆ†ï¼Œè¿™æ ·æ€»æ¯”æ²¡äº¤å¥½ã€‚ï¼ˆä¸€åˆ‡éƒ½æ˜¯ä¸ºäº†å¾—åˆ†ï¼Œè€Œä¸æ˜¯ä¸ºäº†å¾—æ»¡åˆ†ï¼‰</p><p>ä¸€äº›å¸¸ç”¨çš„ç»ƒä¹ ç½‘ç«™ï¼š</p><ol type="1"><li><p><ahref="https://www.dotcpp.com/oj/train/">ç¼–ç¨‹é¢˜åº“é¢˜é›†_è“æ¡¥æ¯çœŸé¢˜_ç¨‹åºè®¾è®¡é¢˜åº“- Cè¯­è¨€ç½‘ (dotcpp.com)</a></p></li><li><p><ahref="https://www.lanqiao.cn/courses/2786/learning/?id=578406&amp;compatibility=false">è“æ¡¥æ¯å¤§èµ›å†å±ŠçœŸé¢˜- Python å¤§å­¦ A ç»„ - è“æ¡¥äº‘è¯¾ (lanqiao.cn)</a></p></li><li><p><a href="https://lx.lanqiao.cn/problemsets.page">â€œè“æ¡¥æ¯â€ç»ƒä¹ ç³»ç»Ÿ(lanqiao.cn)</a></p></li></ol><p>Bç«™ä¸Šupä¸»çš„è®²è§£å’Œä¸€äº›åšå®¢ï¼š</p><ol type="1"><li><p><ahref="https://www.bilibili.com/video/BV1v3411H77X/?vd_source=238e8dadb57d2562b29109c185945ec4">ã€è“æ¡¥æ¯ã€‘é—²è°ˆè“æ¡¥æ¯å¦‚ä½•ä¼˜é›…çš„æ‹¿åˆ†_å“”å“©å“”å“©_bilibili</a></p></li><li><p><ahref="https://blog.csdn.net/m0_46204224/article/details/109049999">pythonè“æ¡¥æ¯(è€ƒå‰ä¸€å®šè¦æŒæ¡çš„å¸¸ç”¨å‡½æ•°åŠé—®é¢˜)_è“æ¡¥æ¯python-CSDNåšå®¢</a></p></li></ol><h3 id="pythonå¸¸ç”¨åº“">3 Pythonå¸¸ç”¨åº“</h3><p>â€ƒâ€ƒç†Ÿæ‚‰ä¸€äº›Pythonå¸¸ç”¨çš„å‡½æ•°å’Œåº“ï¼ˆæ³¨æ„åªèƒ½æ˜¯æ ‡å‡†åº“ï¼Œå°±æ˜¯èƒ½åœ¨Pythonæ‰‹å†Œä¸Šæ‰¾åˆ°çš„ï¼‰ã€‚ç„¶åPythonçš„å®˜æ–¹æ–‡æ¡£å¯ä»¥ç›´æ¥ç”¨çš„ï¼Œæ¯”èµ›çš„æ—¶å€™ï¼Œå¿˜äº†å‡½æ•°æ€ä¹ˆç”¨çš„å°±ç›´æ¥æŸ¥å°±å¥½äº†ï¼Œè¿™ä¸ªä¸‹è½½IDLEçš„æ—¶å€™ä¼šè‡ªå¸¦ä¸‹è½½çš„ã€‚å¦‚ä½•ä¸‹è½½ä½¿ç”¨Pythonè‡ªå¸¦çš„å®˜æ–¹æ–‡æ¡£ï¼Œ<ahref="https://blog.csdn.net/tscaxx/article/details/105446045#:~:text=1.å»pytho,ä»¥ç›´æ¥åŒå‡»æ‰“å¼€ã€‚">å¦‚ä½•æŸ¥ç”¨pythonè‡ªå¸¦çš„.chmå®˜æ–¹æ–‡æ¡£_python3.10chm-CSDNåšå®¢</a>ã€‚</p><h4 id="åŸºæœ¬å¸¸ç”¨å‡½æ•°">1. åŸºæœ¬å¸¸ç”¨å‡½æ•°</h4><ol type="1"><li><p>input()å‡½æ•°ï¼š æ¥å—ç”¨æˆ·è¾“å…¥å¹¶è¿”å›æ‰€è¾“å…¥çš„ string ç±»å‹æ•°æ®</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># 1. ä¸€è¡Œè¾“å…¥</span><br>s = <span class="hljs-built_in">input</span>() <span class="hljs-comment">#è¾“å…¥abcå›è½¦</span><br><span class="hljs-built_in">print</span>(s)<br><br><span class="hljs-comment"># è¾“å‡ºï¼šabc</span><br><br><span class="hljs-comment"># 2. å¤šè¡Œè¾“å…¥ï¼Œä»¥ä¸‹å‡ ç§</span><br>data1 = [<span class="hljs-built_in">int</span>(<span class="hljs-built_in">input</span>()) <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">2</span>)]<br><span class="hljs-built_in">print</span>(data1)<br><br>data1 = [<span class="hljs-built_in">list</span>[<span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>, <span class="hljs-built_in">input</span>().split()) <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">2</span>)]]<br><span class="hljs-built_in">print</span>(data1)<br><br>list3 = []<br>list4 = []<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">2</span>):<br>    m, n = <span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span> ,<span class="hljs-built_in">input</span>().split())<br>    <span class="hljs-keyword">if</span> m &gt; <span class="hljs-number">0</span>:<br>        list3.append(m)<br>    <span class="hljs-keyword">else</span>:<br>        list4.append(n)<br>        <br><span class="hljs-built_in">print</span>(list3)<br><span class="hljs-built_in">print</span>(list4)<br><br><span class="hljs-comment"># çµæ´»è¿ç”¨ï¼Œä¸»è¦å­¦ä¹  map().split() è¿™ç§å½¢å¼</span><br></code></pre></td></tr></table></figure></li><li><p>å ä½ç¬¦ æ ¼å¼åŒ–æ•°æ®</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 1. format()å‡½æ•°ï¼š</span><br><span class="hljs-string">&quot;&#123;&#125; &#123;&#125;&quot;</span>.<span class="hljs-built_in">format</span>(<span class="hljs-string">&quot;hello&quot;</span>, <span class="hljs-string">&quot;world&quot;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&#123;:.2f&#125;&quot;</span>.<span class="hljs-built_in">format</span>(<span class="hljs-number">3.1415926</span>));<br><br><span class="hljs-comment"># è¾“å‡º</span><br><span class="hljs-string">&#x27;hello world&#x27;</span><br><span class="hljs-number">3.14</span><br><br><span class="hljs-comment"># 2. %å¯¹åº”&#123;:&#125;</span><br><br>%s å­—ç¬¦ä¸²  &#123;:s&#125;  <span class="hljs-comment"># &#123;:#x&#125;.format(18)#å°†18ä¿å­˜ä¸º16è¿›åˆ¶çš„æ ¼å¼</span><br>%d æ•´æ•°    &#123;:d&#125;<br>%<span class="hljs-number">.2</span>f æµ®ç‚¹æ•°å­—(ç”¨å°æ•°ç‚¹ç¬¦å·ï¼Œ<span class="hljs-number">4</span>èˆ<span class="hljs-number">5</span>å…¥)   &#123;:<span class="hljs-number">.2</span>f&#125;<br>%<span class="hljs-number">.2</span>e æµ®ç‚¹æ•°å­—(ç§‘å­¦è®¡æ•°æ³•)     &#123;:<span class="hljs-number">.2</span>e&#125;<br>â€˜<span class="hljs-number">12</span>â€™<span class="hljs-number">12</span>åŠ å¼•å·çš„å°±æ˜¯å­—ç¬¦ï¼Œä¸åŠ å°±æ˜¯æ•°å€¼<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æœ€å%s,%så¤©%.2fæ—¶&quot;</span>%(<span class="hljs-string">&#x27;çš„&#x27;</span>,<span class="hljs-number">32</span>,<span class="hljs-number">125.158</span>))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;è¿˜æœ‰&#123;&#125;,&#123;:d&#125;å¤©&#123;:.2f&#125;æ—¶&#x27;</span>.<span class="hljs-built_in">format</span>(<span class="hljs-string">&#x27;æœ€å&#x27;</span>,<span class="hljs-number">32</span>,<span class="hljs-number">123.158</span>))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;&#123;:0&gt;5&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(<span class="hljs-string">&#x27;33&#x27;</span>))<span class="hljs-comment">#ä¸€å…±å¡«å……5ä¸ªæ•°å­—ï¼Œå‰4ä¸ªä¸º0</span><br><br></code></pre></td></tr></table></figure></li><li><p>len()å‡½æ•°ï¼š è¿”å›ä¸€ä¸ªå¯¹è±¡çš„å…ƒç´ æˆ–é¡¹ç›®ä¸ªæ•°</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">len</span>([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>])<br><span class="hljs-comment"># è¾“å‡ºï¼š4</span><br><br><span class="hljs-comment"># äºŒç»´çŸ©é˜µå¤–å±‚ä¸ºè¡Œï¼Œå†…å±‚ä¸ºåˆ—</span><br>array = [[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>],[<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>],[<span class="hljs-number">7</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>]]<br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">len</span>(array)) <span class="hljs-comment"># è¡Œæ•°</span><br><span class="hljs-built_in">print</span>(<span class="hljs-built_in">len</span>(array[<span class="hljs-number">0</span>])) <span class="hljs-comment"># åˆ—æ•°</span><br></code></pre></td></tr></table></figure></li><li><p>è¾“å‡ºå‡½æ•°</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>):<br>    <span class="hljs-built_in">print</span>(i,end=<span class="hljs-string">&#x27;&#x27;</span>)<span class="hljs-comment">#æ‰“å°åœ¨ä¸€è¡Œ</span><br>    <span class="hljs-built_in">print</span>(i,end=<span class="hljs-string">&#x27;\n&#x27;</span>)<span class="hljs-comment">#æ¢è¡Œç¬¦ç»“å°¾</span><br></code></pre></td></tr></table></figure></li><li><p>åˆ‡ç‰‡</p><ul><li><p>åˆ‡ç‰‡å¯ä»¥åˆ‡åˆ—è¡¨ï¼Œå­—ç¬¦ä¸²ï¼Œä¸èƒ½ä¸”intï¼ˆå¯è½¬åŒ–ï¼‰</p></li><li><p>åˆ‡ç‰‡<strong>åŒ…å«èµ·ç‚¹ï¼Œä¸åŒ…å«ç»ˆç‚¹</strong></p></li><li><p>å¯¹äºæœªæŒ‡æ˜èµ·ç‚¹çš„ï¼Œæ­¥é•¿=1ï¼Œä»0å¼€å§‹ï¼Œæ­¥é•¿=-1ï¼Œä»æœ€åä¸€ä½å¼€å§‹</p></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python">a=[<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>]<br><span class="hljs-comment"># 1. å¯¹äºæœªæŒ‡æ˜èµ·ç‚¹çš„ï¼Œæ­¥é•¿=1ï¼Œä»0å¼€å§‹ï¼Œæ­¥é•¿=-1ï¼Œä»æœ€åä¸€ä½å¼€å§‹</span><br><span class="hljs-built_in">print</span>(a[:<span class="hljs-number">3</span>:<span class="hljs-number">1</span>])  <span class="hljs-comment"># --&gt; [0, 1, 2]</span><br><span class="hljs-built_in">print</span>(a[:<span class="hljs-number">3</span>])  <span class="hljs-comment"># --&gt; [0, 1, 2]</span><br><span class="hljs-built_in">print</span>(a[:<span class="hljs-number">3</span>:-<span class="hljs-number">1</span>]) <span class="hljs-comment"># --&gt;  [5, 4]</span><br>    <br><span class="hljs-built_in">print</span>((a[::-<span class="hljs-number">1</span>])) <span class="hljs-comment"># --&gt;[5, 4, 3, 2, 1, 0]</span><br><span class="hljs-built_in">print</span>(a[:<span class="hljs-number">2</span>:-<span class="hljs-number">1</span>])  <span class="hljs-comment"># --&gt; [5, 4, 3]èµ·ç‚¹ä¸ºindex=-1ï¼Œä»åå¾€å‰èµ°ï¼Œä¸åŒ…æ‹¬ç»ˆç‚¹2</span><br><span class="hljs-comment"># 2. ä»èµ·ç‚¹1ï¼Œå€’ç€èµ°åˆ°3ï¼Œè¿”å›ç©º</span><br><span class="hljs-built_in">print</span>(a[<span class="hljs-number">1</span>:<span class="hljs-number">3</span>:-<span class="hljs-number">1</span>]) <span class="hljs-comment"># --&gt; []ä¸ä¼šè¿”å›ï¼Œæ‰€ä»¥ä¸ºç©º</span><br><span class="hljs-built_in">print</span>(a[<span class="hljs-number">3</span>:<span class="hljs-number">1</span>:-<span class="hljs-number">1</span>]) <span class="hljs-comment">#  --&gt; [3, 2]å¯ä»¥</span><br><br></code></pre></td></tr></table></figure></li></ol><h4 id="æ•°å­¦å‡½æ•°">2. æ•°å­¦å‡½æ•°</h4><ol type="1"><li>abs() å‡½æ•°ï¼šå–ç»å¯¹å€¼ <code>print(abs(-10)) --&gt; 10</code></li><li>divmod() å‡½æ•° ï¼šåŒæ—¶å–å•†å’Œä½™æ•°<code>print(divmod(7,2)) --&gt; (3,1)</code></li><li>sum() å‡½æ•° ï¼šæ±‚å’Œè®¡ç®— <code>print(sum([1,2,3])) --&gt; 6</code></li><li>round() å‡½æ•°ï¼š å››èˆäº”å…¥<code>print(round(5.1)) --&gt; 5, print(round(5.5)) --&gt; 6</code></li><li>min() å‡½æ•° ï¼šè·å–æœ€å°å€¼<code>print(min(9,5,2,7)) --&gt; 2</code></li><li>max() å‡½æ•° ï¼šè·å–æœ€å¤§å€¼<code>print(max(9,5,2,7)) --&gt; 9</code></li><li>ceil() å‡½æ•° ï¼šå‘ä¸Šå–æ•´ <code>print(math.ceil(3.1)) --&gt; 4</code>ï¼Œè¦import math</li><li>floor() å‡½æ•° ï¼š å‘ä¸‹å–æ•´<code>print(math.floor(3.1)) --&gt; 3</code></li><li>pow() å‡½æ•° ï¼šè®¡ç®—ä»»æ„Næ¬¡æ–¹å€¼<code>print(math.pow(2,3)) or print(2**3) --&gt; 8  print(math.pow(8, 1/3)) --&gt; 2.0</code></li><li>gcd() å‡½æ•° : ä¸¤ä¸ªæˆ–å¤šä¸ªæ•´æ•°çš„æœ€å¤§å…¬çº¦æ•°<code>print(math.gcd(3, 6)) --&gt; 3</code></li><li>lcm() å‡½æ•° : ä¸¤ä¸ªæˆ–å¤šä¸ªæ•´æ•°çš„æœ€å°å…¬å€æ•°<code>print (math.lcm(3, 6)) --&gt; 6</code></li></ol><h4 id="æ•°æ®è½¬æ¢å‡½æ•°">3. æ•°æ®è½¬æ¢å‡½æ•°</h4><ol type="1"><li>hex() å‡½æ•°ï¼š åè¿›åˆ¶è½¬æ¢æˆåå…­è¿›åˆ¶<code>print(hex(100)) --&gt; 0x64</code></li><li>oct() å‡½æ•°ï¼š åè¿›åˆ¶è½¬æ¢æˆå…«è¿›åˆ¶<code>print(oct(100)) --&gt; 0o144</code></li><li>bin() å‡½æ•° ï¼šåè¿›åˆ¶è½¬æ¢æˆäºŒè¿›åˆ¶<code>print(bin(100)) --&gt; 0b1100100</code></li><li>ord() å‡½æ•° ï¼šè·å–å•ä¸ªå­—ç¬¦çš„ASCIIæ•°å€¼<code>print(ord('A')) --&gt; 65</code>ï¼ŒPSï¼šè¦è®°å¾— 'a' å’Œ 'A'çš„ç¼–ç </li><li>chr() å‡½æ•°ï¼š è½¬æ¢ä¸€ä¸ªæ•´æ•°å¹¶è¿”å›æ‰€å¯¹åº”çš„å­—ç¬¦<code>print(chr(65)) --&gt; A</code></li></ol><h4 id="å¯¹è±¡è¿­ä»£å™¨å‡½æ•°">4. å¯¹è±¡ã€è¿­ä»£å™¨å‡½æ•°</h4><ol type="1"><li><p>open()å‡½æ•°ï¼šæ‰“å¼€æ–‡ä»¶å¹¶è¿”å›æ–‡ä»¶å¯¹è±¡<code>f1 = open('E:\Hello.txt','r')  --&gt; print(f1.readline())</code></p></li><li><p>set()å‡½æ•°ï¼šåˆ›å»ºä¸€ä¸ªæ— åºä¸é‡å¤å…ƒç´ é›†åˆ<code>set([1,2,1,1,3,4,4,6,5]) --&gt; &#123;1, 2, 3, 4, 5, 6&#125;</code></p></li><li><p>sorted() å‡½æ•°ï¼š å¯¹å¯è¿­ä»£å¯¹è±¡è¿›è¡Œæ’åº</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">a = [<span class="hljs-number">3</span>,<span class="hljs-number">1</span>,<span class="hljs-number">4</span>,<span class="hljs-number">2</span>]<br><span class="hljs-built_in">sorted</span>(a)<br><br><span class="hljs-comment"># è¾“å‡ºï¼š [1, 2, 3, 4]</span><br></code></pre></td></tr></table></figure></li><li><p>map()å‡½æ•°ï¼šé€šè¿‡è‡ªå®šä¹‰å‡½æ•°å®ç°å¯¹åºåˆ—çš„å…ƒç´ æ˜ å°„æ“ä½œå¹¶è¿”å›æ“ä½œåçš„ç»“æœ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(<span class="hljs-built_in">int</span>,[<span class="hljs-string">&#x27;1&#x27;</span>,<span class="hljs-string">&#x27;2&#x27;</span>,<span class="hljs-string">&#x27;3&#x27;</span>]))<br><span class="hljs-comment"># è¾“å‡ºï¼š [1, 2, 3]</span><br></code></pre></td></tr></table></figure></li><li><p>dict()å‡½æ•° ï¼šå­—å…¸å‡½æ•°ï¼ˆå¸¸ç”¨ï¼‰ï¼Œä¹Ÿå¯ä»¥è‡ªå·±åˆ›å»ºå­—å…¸</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> collections <span class="hljs-keyword">import</span> defaultdict<br><br>s = [(<span class="hljs-string">&#x27;yellow&#x27;</span>, <span class="hljs-number">1</span>), (<span class="hljs-string">&#x27;blue&#x27;</span>, <span class="hljs-number">2</span>), (<span class="hljs-string">&#x27;yellow&#x27;</span>, <span class="hljs-number">3</span>), (<span class="hljs-string">&#x27;blue&#x27;</span>, <span class="hljs-number">4</span>), (<span class="hljs-string">&#x27;red&#x27;</span>, <span class="hljs-number">1</span>)]<br>d = defaultdict(<span class="hljs-built_in">list</span>)<br><span class="hljs-keyword">for</span> k, v <span class="hljs-keyword">in</span> s:<br>    d[k].append(v)<br>a = d.items()<br><span class="hljs-built_in">print</span>(a)<br>b = <span class="hljs-built_in">sorted</span>(d.items())<br><span class="hljs-built_in">print</span>(b)<br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">è¾“å‡ºï¼š</span><br><span class="hljs-string">dict_items([(&#x27;yellow&#x27;, [1, 3]), (&#x27;blue&#x27;, [2, 4]), (&#x27;red&#x27;, [1])])</span><br><span class="hljs-string">[(&#x27;blue&#x27;, [2, 4]), (&#x27;red&#x27;, [1]), (&#x27;yellow&#x27;, [1, 3])]</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br></code></pre></td></tr></table></figure></li></ol><h4 id="å­—ç¬¦ä¸²æ“ä½œ">5. å­—ç¬¦ä¸²æ“ä½œ</h4><ol type="1"><li>è¿”å› str åœ¨ string é‡Œé¢å‡ºç°çš„æ¬¡æ•°ï¼Œå¦‚æœ beg æˆ–è€… endæŒ‡å®šåˆ™è¿”å›æŒ‡å®šèŒƒå›´å†… str å‡ºç°çš„æ¬¡æ•°ã€‚</li></ol><p>â€‹ â€ƒ<code>string.count(str, beg=0, end=len(string))</code></p><ol start="3" type="1"><li>æ£€æµ‹ str æ˜¯å¦åŒ…å«åœ¨ string ä¸­ï¼Œå¦‚æœ beg å’Œ endæŒ‡å®šèŒƒå›´ï¼Œåˆ™æ£€æŸ¥æ˜¯å¦åŒ…å«åœ¨æŒ‡å®šèŒƒå›´å†…ï¼Œå¦‚æœæ˜¯è¿”å›å¼€å§‹çš„ç´¢å¼•å€¼ï¼Œå¦åˆ™è¿”å›-1ã€‚</li></ol><p>â€‹ â€ƒ<code>string.find(str, beg=0, end=len(string))</code></p><ol start="4" type="1"><li>è·Ÿfind()æ–¹æ³•ä¸€æ ·ï¼Œåªä¸è¿‡å¦‚æœsträ¸åœ¨ stringä¸­ä¼šæŠ¥ä¸€ä¸ªå¼‚å¸¸ã€‚</li></ol><p>â€‹ â€ƒ<code>string.index(str, beg=0, end=len(string))</code></p><ol start="5" type="1"><li>ä»¥ string ä½œä¸ºåˆ†éš”ç¬¦ï¼Œå°† seqä¸­æ‰€æœ‰çš„å…ƒç´ (çš„å­—ç¬¦ä¸²è¡¨ç¤º)åˆå¹¶ä¸ºä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ã€‚</li></ol><p>â€‹ â€ƒ<code>string.join(seq)</code></p><ol start="6" type="1"><li>åœ¨ string ä¸Šæ‰§è¡Œ lstrip()å’Œ rstrip()ã€‚</li></ol><p>â€‹ â€ƒ<code>string.lstrip(), string.rstrip()</code></p><ol start="7" type="1"><li>è½¬æ¢ string ä¸­çš„å°å†™å­—æ¯ä¸ºå¤§å†™ã€‚</li></ol><p>â€‹ â€ƒ<code>string.upper()</code></p><ol start="8" type="1"><li>è½¬æ¢ string ä¸­æ‰€æœ‰å¤§å†™å­—ç¬¦ä¸ºå°å†™ã€‚</li></ol><p>â€‹ â€ƒ<code>string.lower()</code></p><ol start="9" type="1"><li>ç¿»è½¬ string ä¸­çš„å¤§å°å†™ã€‚</li></ol><p>â€‹ â€ƒ<code>string.swapcase()</code></p><ol start="10" type="1"><li>æ€æ ·å°†ä»¥ä¸‹åˆ—è¡¨è½¬åŒ–ä¸ºæ•´æ•°ï¼Ÿ</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python">a=[<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>]<br>b=[<span class="hljs-string">&#x27;4&#x27;</span>, <span class="hljs-string">&#x27;5&#x27;</span>, <span class="hljs-string">&#x27;6&#x27;</span>]<br><br>r1 = <span class="hljs-built_in">int</span>(<span class="hljs-string">&quot;&quot;</span>.join(<span class="hljs-built_in">map</span>(<span class="hljs-built_in">str</span>, a))) <br>r2 = <span class="hljs-built_in">int</span>(<span class="hljs-string">&quot;&quot;</span>.join(<span class="hljs-built_in">map</span>(<span class="hljs-built_in">str</span>, b))) <br><br><span class="hljs-comment"># è¾“å‡ºï¼š</span><br><span class="hljs-comment"># 123</span><br><span class="hljs-comment"># 456</span><br></code></pre></td></tr></table></figure><h3 id="æœ€å">4 æœ€å</h3><p>â€ƒâ€ƒè“æ¡¥æ¯çš„Pythonç»„æƒ³è¦è·å¥–çš„è¯å…¶å®çœŸçš„æŒºå®¹æ˜“çš„ï¼ŒæŠ¥çš„äººæ¯”è¾ƒå°‘ï¼Œæ‰€ä»¥ä½ è¦ç›¸ä¿¡ä½ è‡ªå·±ï¼Œèƒ½åšåˆ°çš„ï¼emmmï¼Œç„¶åå°±æ˜¯æœ‰æ—¶å€™ç«‹flagæ˜¯æŒºå¥½çš„äº‹æƒ…ï¼Œè™½ç„¶æ€»è¯´ç«‹äº†å°±å€’ï¼Œä½†æœ‰æ—¶å€™è¿‡ç¨‹å…¶å®æ¯”ç»“æœæ›´é‡è¦ï¼Œä¸æ˜¯å˜›ï¼Œå°¤å…¶æ˜¯åœ¨å­¦ä¹ ä¸Šé¢ï¼Œå†µä¸”å€’äº†å°±å€’äº†å‘—ï¼Œè²Œä¼¼ä¹Ÿæ²¡å•¥å¯æƒœçš„ï¼Œè€Œä¸”ä¹Ÿä¸ä¼šå¤±å»å•¥ä¸œè¥¿ã€‚æ‰€ä»¥ä¸éœ€è¦æœ‰å•¥å‹åŠ›ï¼Œå¿ƒç†è´Ÿæ‹…å•¥çš„ã€‚æƒ³è¦çš„ä¸œè¥¿å°±åŠªåŠ›å»äº‰å–ï¼Œç„¶åç›¸ä¿¡è‡ªå·±ï¼Œå°½ç®¡å»åšå°±è¡Œäº†ï¼Œå…¶ä»–çš„ï¼Œå°±äº¤ç»™å…¶ä»–å­~ã€‚</p><p><strong>æœ€åï¼Œä¿ä¸‰äº‰äºŒï¼ŒåŠ æ²¹ğŸ’ªï¼ï¼ï¼</strong></p>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åˆ·é¢˜</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ¯å‘¨æ€»ç»“ -- ä¸€ä¸ªäººå¹¶ä¸ä¼šæ„Ÿåˆ°å­¤ç‹¬ï¼Œä¸¤ä¸ªäººæ‰ä¼š</title>
    <link href="/posts/20422/"/>
    <url>/posts/20422/</url>
    
    <content type="html"><![CDATA[<div align = "center"><H3>æ€»ç»“ &amp; åæ€</div><p><strong>æ—¶é—´ï¼š2014.1.1-2024.1.7</strong></p><p>æ–°çš„ä¸€å¹´ï¼Œæ–°çš„æ°”è±¡ï¼Œæ–°çš„å¿ƒæ€ï¼è¿™å‘¨æœ‰ç€è®¸å¤šçš„æ´»åŠ¨ï¼Œé™ªäº†å¤§å­¦åŒå­¦ï¼Œç»™äº²çˆ±çš„å®¤å‹è¿‡ç”Ÿæ—¥ï¼Œè€Œä¸”è€Œä¸”æˆ‘è¿˜å­¦äº†å¾ˆå¤šä¸œè¥¿å‘¢ï¼Œæ˜¯ä¸€ä¸ªä¸é”™çš„å¼€å§‹å“ŸğŸ˜Šã€‚è¿™å‘¨çœ‹çš„è®ºæ–‡æœ‰ï¼š</p><ol type="1"><li>BallGAN: 3D-aware Image Synthesis with a Spherical Background</li><li>VoxGRAF: Fast 3D-Aware Image Synthesis with Sparse Voxel Grids</li><li>EpiGRAF: Rethinking training of 3D GANs</li><li>What You See is What You GAN: Rendering Every Pixel forHigh-Fidelity Geometry in 3D GANs</li></ol><p>æ€»ä½“æ¥è¯´è¿˜æ˜¯ä¸é”™çš„å­~ï¼Œè€Œä¸”åœ¨è¿™ç¯‡è®ºæ–‡ä¸­ä¹Ÿè·å¾—äº†å‡ ä¸ªideaï¼Œç­‰ä¸‹å‘¨å°±å»çœ‹ä¸€ä¸‹æºç ï¼ŒæŠŠæ„Ÿè§‰èƒ½å¤Ÿä½¿ç”¨çš„æ¨¡å—åˆ†å‰²å‡ºæ¥ï¼Œæƒ³èƒ½å¤Ÿå¯¹æˆ‘çš„baselineæœ‰å¸®åŠ©ï¼ç„¶ååœ¨åˆ·é¢˜æ–¹é¢ï¼Œè¿™å‘¨å¥½åƒå¹¶æ²¡æœ‰åˆ·å¾ˆå¤šï¼Œå°±å†™äº†ä¸¤ä¸‰é¢˜ï¼Œä¸‹å‘¨éœ€è¦æ›´åŠ åŠªåŠ›åˆ·é¢˜äº†ï¼Œè€Œä¸”ç­‰æ”¾å‡ä¹‹åï¼Œæ‰¾å·¥ä½œæ–¹é¢éœ€è¦çš„çŸ¥è¯†ä¹Ÿéœ€è¦å°½å¿«è¡¥ä¸Šäº†ï¼Œé“è·¯ä¾æ—§éš¾èµ°å“‡ï¼</p><p>è¿™å‘¨çš„å¿ƒæƒ…è¿˜æŒºä¸é”™çš„ï¼Œå¤©æ°”ä¹Ÿå¾ˆç»™åŠ›ï¼Œä¸å†·ä¸çƒ­çš„ï¼ŒçœŸå¥½~ã€‚è¿™å‘¨åšäº†äº›ä»€ä¹ˆäº‹æƒ…å‘¢ï¼Œæˆ‘æƒ³æƒ³å“ˆï¼Œå…ƒæ—¦çš„æ—¶å€™é€äº†å­¦å¦¹æ–°å¹´ç¤¼ç‰©ï¼Œè¿™å¯æ˜¯æˆ‘ç²¾å¿ƒå‡†å¤‡çš„å¼ï¼Œå¸Œæœ›å¥¹æ–°çš„ä¸€å¹´èƒ½å¤Ÿæ›´è¿›ä¸€æ­¥ï¼Œçªç ´è‡ªå·±ï¼ˆæ›´åŠ è‡ªä¿¡ï¼‰ï¼Œä¹Ÿå¸Œæœ›æˆ‘èƒ½å¤Ÿæ—©æ—¥æ”¾ä¸‹é‚£ä¸€ä»½ç‰¹æ®Šçš„å–œçˆ±ã€‚ç„¶åè¿˜é™ªäº†æˆ‘çš„å¤§å­¦åŒå­¦å®Œæˆäº†å¥¹çš„å¹¿å·ä¹‹æ—…ï¼Œé€›å®Œä¹‹åçœŸçš„æ˜¯ç´¯æ­»æˆ‘äº†ï¼Œæ„Ÿè§‰è…¿éƒ½è¦æ–­äº†ğŸ˜­ï¼Œä½†æ˜¯è¿˜æ˜¯æŒºå¼€å¿ƒçš„ã€‚åœ¨ç»“æŸçƒ­é—¹çš„å…ƒæ—¦å‡æœŸä¹‹åï¼Œä¼‘æ¯äº†ä¸€å¤©ï¼Œç„¶åç”Ÿæ´»ä¹Ÿé€æ¸æ¢å¤åˆ°å¹³æ·¡ï¼Œå¿ƒé‡Œè¿˜æ˜¯éš¾å…ä¼šæœ‰ä¸€ç‚¹ç‚¹ä¼¤å¿ƒçš„ã€‚çƒ­é—¹ä¹‹åçš„å¹³é™ï¼Œæ€»æ˜¯æ˜¾å¾—æ ¼å¤–çš„å¯‚é™å“‡ğŸ˜”ã€‚è¿™å‡ å¤©å¥½åƒæ‡‚å¾—ä¸€ä¸ªé“ç†ï¼Œåœ¨æƒ³ç ”ä¸€çš„æ—¶å€™ï¼Œæ€»æ˜¯ä¸€ä¸ªäººï¼Œä¹Ÿæ€»æœ‰åœ¨è¯´å¾ˆæ— èŠï¼Œå¸Œæœ›èƒ½å¤Ÿæ‰¾ä¸€ä¸ªå¥³æœ‹å‹ï¼Œä½†æ˜¯æˆ‘å¥½åƒå¾ˆå°‘æœ‰è¯´è‡ªå·±å¾ˆå­¤ç‹¬ï¼Œå­¤å•ï¼›åè€Œï¼Œåœ¨å–œæ¬¢å­¦å¦¹ä¹‹åï¼Œæ¯å¤©æœ‰äººé™ªä½ èŠå¤©ï¼Œç¡®å®æ˜¯ä¸æ— èŠäº†ï¼Œä½†æ˜¯è¿™ç§ç”Ÿæ´»æŒç»­çš„æ—¶é—´è¶Šé•¿ï¼Œæˆ‘åè€Œä¼šç»å¸¸è§‰å¾—å­¤å•ï¼ˆé€šå¸¸æ˜¯åœ¨æ²¡æœ‰æ”¶åˆ°æ¶ˆæ¯çš„æ—¶å€™ï¼‰ï¼Œä¸€æ—¦æ”¶ä¸åˆ°å­¦å¦¹çš„æ¶ˆæ¯ï¼Œå°±æ„Ÿè§‰æ•´å¿ƒé‡Œç©ºè¡è¡çš„ï¼Œå°‘äº†ç‚¹ä»€ä¹ˆï¼Œå°±ä¼šæ„Ÿè§‰å¾ˆå­¤ç‹¬ï¼Œå“ˆå“ˆå“ˆå“ˆï¼Œä¸çŸ¥é“è¿™æ˜¯ä¸æ˜¯å–œæ¬¢ä¸€ä¸ªäººéƒ½ä¼šç»å†çš„ã€‚ä½†æ˜¯ç°æ²¡æœ‰å•¥æœŸç›¼ä¹‹åï¼Œé€æ¸çš„å¥½åƒåˆå›åˆ°äº†ç ”ä¸€çš„æ—¶å€™ï¼Œä¼šå¾ˆæ— èŠï¼Œä½†æ˜¯æ²¡æœ‰å‰æ®µæ—¶é—´é‚£ä¹ˆå­¤ç‹¬äº†ï¼ˆå¸Œæœ›å­¤ç‹¬èƒ½å¾ˆå¿«æ¶ˆå¤±å­ï¼‰ã€‚å®³ï¼Œå–œæ¬¢ä¸€ä¸ªäººçœŸçš„ä¼šè®©äººå¾ˆå‘å¾®ï¼Œå¤„å¤„éƒ½è¦å°å¿ƒç¿¼ç¿¼çš„ğŸ˜£ï¼Œæ…¢æ…¢æˆé•¿å­ï¼ŒåŠ æ²¹ï¼</p><p><strong>ä¸€ä¸ªäººå¹¶ä¸ä¼šæ„Ÿåˆ°å­¤ç‹¬ï¼Œä¸¤ä¸ªäººæ‰ä¼š</strong></p>]]></content>
    
    
    <categories>
      
      <category>æ¯å‘¨å›é¡¾</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ€»ç»“&amp;åæ€</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è®ºæ–‡éšè®°ï¼ˆ2024.1.4-1.5ï¼‰</title>
    <link href="/posts/51769/"/>
    <url>/posts/51769/</url>
    
    <content type="html"><![CDATA[<h3 id="ballgan-3d-aware-image-synthesis-with-a-spherical-background">1.BallGAN: 3D-aware Image Synthesis with a Spherical Background</h3><p><img src="image-20240104205338553.png" alt="overview" style="zoom:80%;" /></p><p>BallGANç”Ÿæˆå™¨æ¦‚è¿°å’Œå°„çº¿ç‚¹çš„å®šä¹‰ã€‚æˆ‘ä»¬å°†3Dç©ºé—´ä¸çƒé¢ä¸Šçš„ä¸é€æ˜èƒŒæ™¯ç»‘å®šåœ¨ä¸€èµ·ã€‚ï¼ˆiï¼‰EG3Dä¸åˆ†ç¦»èƒŒæ™¯ã€‚ï¼ˆiiï¼‰GIRAFFE-HDå¯¹å‰æ™¯çš„ç›¸åŒèŒƒå›´å†…çš„èƒŒæ™¯ç‚¹è¿›è¡Œé‡‡æ ·ã€‚ï¼ˆiiiï¼‰StyleNeRFå¯¹è¾¹ç•Œå¤–çš„å¤šä¸ªèƒŒæ™¯ç‚¹è¿›è¡Œé‡‡æ ·ã€‚ï¼ˆivï¼‰æˆ‘ä»¬å¯¹çƒä½“ä¸Šçš„å•ä¸ªèƒŒæ™¯ç‚¹è¿›è¡Œé‡‡æ ·ã€‚å®ƒå¤§å¤§å‡å°‘äº†èƒŒæ™¯ä¸­çš„æ·±åº¦æ¨¡ç³Šæ€§ã€‚</p><ol type="1"><li>é€šè¿‡è®¾è®¡ï¼ŒBallGANåœ¨æ²¡æœ‰é¢å¤–ç›‘ç£çš„æƒ…å†µä¸‹æä¾›äº†æ¸…æ™°çš„å‰æ™¯-èƒŒæ™¯åˆ†ç¦»ã€‚</li><li>å¯¹äºå†…å®¹åˆ›å»ºï¼Œå®ƒå¯ä»¥åœ¨ä¸è¿›è¡Œåå¤„ç†çš„æƒ…å†µä¸‹å°†ç”Ÿæˆçš„3Då‰æ™¯æ’å…¥ä»»æ„è§†ç‚¹ã€‚æˆ‘ä»¬ä½œä¸ºçƒé¢çš„èƒŒæ™¯è¡¨ç¤ºé€šå¸¸é€‚ç”¨äºä»»ä½•ç”Ÿæˆå™¨æ¶æ„æˆ–å‰å°è¡¨ç¤ºã€‚</li><li>BallGANå…è®¸StyleNeRFåœ¨æ›´é«˜åˆ†è¾¨ç‡çš„CompCarsä¸Šè¿›è¡Œè®­ç»ƒï¼Œå¹¶å®ç°å¤§çš„FIDæå‡ï¼Œè¿™ä¸€ç‚¹å€¼å¾—æ³¨æ„ï¼Œå› ä¸ºæ•°æ®é›†ç”±äºå…¶å¤æ‚çš„èƒŒæ™¯è€Œå…·æœ‰æŒ‘æˆ˜æ€§ã€‚</li><li>æ›´é‡è¦çš„æ˜¯ï¼Œä¸EG3Dç›¸æ¯”ï¼ŒBallGANä¸ä»…å¢å¼ºäº†å¤šè§†å›¾ä¸€è‡´æ€§ã€å§¿æ€ç²¾åº¦å’Œæ·±åº¦é‡å»ºï¼Œè€Œä¸”å®ƒè¿˜å¿ å®åœ°æ•æ‰äº†3Dç©ºé—´ä¸­æ˜“äºåœ¨2Då›¾åƒä¸­è¡¨ç¤ºä½†éš¾ä»¥åœ¨3Dä¸­å»ºæ¨¡çš„ç²¾ç»†ç»†èŠ‚</li><li>æˆ‘ä»¬å‡è®¾ç”Ÿæˆæ— è¾¹ç•Œçš„3Dåœºæ™¯è¿‡äºå¤æ‚ï¼Œæ— æ³•ä¾é æœ‰é™çš„æŒ‡å—æ¥ç”Ÿæˆé€¼çœŸçš„2Då›¾åƒã€‚ä¸ºäº†è§£å†³è¿™ä¸€æŒ‘æˆ˜ï¼ŒBallGANå°†åœºæ™¯ç•Œå®šä¸ºä¸€ä¸ªçƒï¼Œå¹¶å°†èƒŒæ™¯è¿‘ä¼¼ä¸ºä¸é€æ˜çš„çƒé¢ã€‚æˆ‘ä»¬å¸Œæœ›å®ƒèƒ½å‡è½»äº§ç”Ÿæ­£ç¡®å½¢çŠ¶èƒŒæ™¯çš„è´Ÿæ‹…ï¼Œå› ä¸ºå½¢çŠ¶æ˜¯å›ºå®šåœ¨çƒä¸Šçš„ã€‚æˆ‘ä»¬çš„ç”Ÿæˆå™¨ç”±å‰æ™¯å’ŒèƒŒæ™¯çš„ä¸¤ä¸ªéª¨å¹²ç½‘ç»œç»„æˆã€‚è¿™äº›ç½‘ç»œçš„è¡¨ç¤ºé€šè¿‡æˆ‘ä»¬ä¿®æ”¹çš„ä½“ç§¯æ¸²æŸ“æ–¹ç¨‹è¿›è¡Œæ¸²æŸ“ï¼Œä»¥åˆæˆå›¾åƒï¼‰ï¼Œå¹¶ä½¿ç”¨GANç›®æ ‡å’Œè¾…åŠ©è§„åˆ™è¿›è¡Œè®­ç»ƒã€‚</li></ol><blockquote><p>å‰åæ™¯åˆ†ç¦»åˆ†åˆ«è®­ç»ƒã€‚å°†èƒŒæ™¯è¡¨ç¤ºä¸ºçƒé¢ï¼Œæˆ‘ä»¬çš„æ–¹æ³•è‡ªç„¶åœ°æä¾›äº†ä»…å‰æ™¯çš„3Dåˆæˆï¼Œä¾¿äºæ›´å®¹æ˜“åœ°åˆ›å»º3Då†…å®¹ã€‚æ­¤å¤–ï¼Œå®ƒè¿˜æé«˜äº†3Dæ„ŸçŸ¥GANsçš„å‰æ™¯å‡ ä½•å½¢çŠ¶å’Œåœ¨å…·æœ‰å¤æ‚èƒŒæ™¯çš„æ•°æ®é›†ä¸Šçš„è®­ç»ƒç¨³å®šæ€§</p></blockquote><hr /><h3 id="epigraf-rethinking-training-of-3d-gans">2. EpiGRAF: Rethinkingtraining of 3D GANs</h3><p><strong>Projectï¼š</strong>https://universome.github.io/epigraf</p><p><img src="image-20240104170131405.png" alt="overview" style="zoom:80%;" /></p><blockquote><p>ç”Ÿæˆå™¨ï¼ˆå·¦ï¼‰å®Œå…¨åŸºäºNeRFï¼Œå¹¶ä½¿ç”¨å¸¦æœ‰StyleGAN2è§£ç å™¨ï¼ˆFï¼‰çš„ä¸‰å¹³é¢ä¸»å¹²ï¼ˆä½†æ²¡æœ‰2Dä¸Šé‡‡æ ·å™¨ï¼‰ã€‚</p><p>é‰´åˆ«å™¨ï¼ˆå³ï¼‰ä¹ŸåŸºäºStyleGAN2ï¼ˆDï¼‰ï¼Œä½†å—å°å—ä½ç½®å’Œæ¯”ä¾‹å‚æ•°çš„è°ƒåˆ¶ã€‚æˆ‘ä»¬å°†é€ç‰‡ä¼˜åŒ–ç”¨äºè®­ç»ƒå’Œæˆ‘ä»¬æå‡ºçš„Betaå°ºåº¦é‡‡æ ·ï¼Œè¿™ä½¿æˆ‘ä»¬çš„æ¨¡å‹æ¯”åŸºäºä¸Šé‡‡æ ·å™¨çš„æ¶æ„æ›´å¿«æ”¶æ•›2-3å€ï¼Œå°½ç®¡ç”Ÿæˆå™¨å»ºæ¨¡å‡ ä½•ç»“æ„ä¸ºå…¨åˆ†è¾¨ç‡ã€‚</p></blockquote><p><strong>1. ç”Ÿæˆå™¨ï¼š</strong>ä½¿ç”¨çº¯ NeRFä½œä¸ºç”Ÿæˆå™¨Gï¼Œå¹¶åˆ©ç”¨ä¸‰å¹³é¢è¡¨ç¤ºä½œä¸ºéª¨å¹²ã€‚</p><p>â€‹ 1ï¼‰mapping network Mï¼šå°†éšæœºå™ªå£°è½¬æ¢ä¸ºæ½œåœ¨å‘é‡ z -&gt; w (512)ã€‚</p><p>â€‹ 2ï¼‰synthesis network Sï¼šå°†æ½œåœ¨å‘é‡ w åˆæˆä¸‰ä¸ª32ç»´åº¦çš„ç‰¹å¾å¹³é¢ Pï¼Œw-&gt; Pã€‚</p><p>â€‹ 3ï¼‰tri-planes decoder network Fï¼šå°†ç©ºé—´åæ ‡ x å’Œä¸‰å¹³é¢ Pä½œä¸ºè¾“å…¥ç”Ÿæˆ RGB é¢œè‰² c å’Œå¯†åº¦ sigmaï¼ˆtiny MLPï¼‰ã€‚</p><p><strong>2. è¾¨åˆ«å™¨ï¼š</strong>å»ºç«‹åœ¨ StyleGAN2ä¹‹ä¸Šï¼Œé‡‡ç”¨è¶…ç½‘æ ¼ï¼ˆHypernetworkï¼‰Hè°ƒåˆ¶é‰´åˆ«å™¨ä½“ç³»ç»“æ„æ¥æ“ä½œå…·æœ‰è¿ç»­ä¸åŒå°ºå¯¸çš„å—ã€‚</p><p>â€‹ 1ï¼‰ä¸¤å±‚MLP-tanhï¼Œè¾“å…¥ä¸ºpatchå°ºåº¦ sä»¥åŠè£å‰ªåç§»é‡ï¼Œè¾“å‡ºä¸ºè°ƒåˆ¶å‚æ•°ï¼Œç„¶åå°†è¿™äº›å‚æ•°ï¼ˆAï¼‰ä¸è¾¨åˆ«å™¨Dç›¸ä¹˜ã€‚</p><p>â€‹ 2ï¼‰æ¯æ¬¡è¿­ä»£ï¼Œè¾“å…¥åˆ†è¾¨ç‡ä¸º r * rçš„éšæœºå°ºåº¦åˆ°è¾¨åˆ«å™¨Dï¼Œå¹¶ä½¿ç”¨éšæœºåç§»æå–å—å›¾åƒã€‚</p><p>â€‹ 3ï¼‰å°†å‡åŒ€å°ºåº¦é‡‡æ ·åˆ†å¸ƒæ›¿æ¢ä¸º Beta å°ºåº¦é‡‡æ ·åˆ†å¸ƒã€‚</p><p><strong>3. é‡ç‚¹:</strong></p><ol type="1"><li><p>é¦–å…ˆï¼Œæˆ‘ä»¬è®¾è®¡äº†ä¸€ä¸ªå¯¹ä½ç½®å’Œå°ºåº¦æ•æ„Ÿçš„é‰´åˆ«å™¨ï¼Œç”¨äºå¤„ç†ä¸åŒæ¯”ä¾‹å’Œç©ºé—´ä½ç½®çš„å›¾åƒå—ã€‚å…¶æ¬¡ï¼Œæˆ‘ä»¬åŸºäºé€€ç«çš„<em>Beta</em> åˆ†å¸ƒä¿®æ”¹äº†å›¾åƒå—é‡‡æ ·ç­–ç•¥ï¼Œä»¥ç¨³å®šè®­ç»ƒå¹¶åŠ é€Ÿæ”¶æ•›ã€‚</p></li><li><p>é€šè¿‡å»é™¤ä¸Šé‡‡æ ·å™¨å¹¶ä½¿ç”¨ä¸€ä¸ªç®€å•çš„é€å—ä¼˜åŒ–æ–¹æ¡ˆï¼Œå¯ä»¥æ„å»ºä¸€ä¸ªå…·æœ‰æ›´å¥½å›¾åƒè´¨é‡ã€æ›´å¿«è®­ç»ƒé€Ÿåº¦ä¸”æ²¡æœ‰ä¸Šè¿°é™åˆ¶çš„3Dç”Ÿæˆå™¨ã€‚ï¼ˆæé«˜ç”Ÿæˆå›¾åƒçš„åˆ†è¾¨ç‡ï¼‰</p></li><li><p>æ”¹è¿›<code>GRAF</code>ä¸­çš„åŸºäºnerfçš„ä½¿ç”¨ <em>patch-wise</em>çš„GANsè®­ç»ƒï¼Œä¸æ˜¯åœ¨å…¨å°ºå¯¸å›¾åƒä¸Šè®­ç»ƒç”Ÿæˆæ¨¡å‹ï¼Œè€Œæ˜¯åœ¨å°å‹éšæœºè£å‰ªä¸Šè®­ç»ƒç”Ÿæˆæ¨¡å‹ã€‚</p></li><li><p><code>EpiGRAF</code>çš„æ”¹è¿›ï¼š</p><ul><li><p>é€šè¿‡ä½¿å…¶æ›´é€‚åˆæ“ä½œå¯å˜å°ºåº¦å’Œä½ç½®çš„å›¾åƒå—æ¥é‡æ–°è®¾è®¡é‰´åˆ«å™¨ï¼Œä½¿ç”¨==è¶…ç½‘ç»œè°ƒåˆ¶==é‰´åˆ«å™¨çš„è¿‡æ»¤å™¨ï¼Œè¯¥ç½‘ç»œé¢„æµ‹ä»ç»™å®šçš„è¡¥ä¸å°ºåº¦å’Œä½ç½®æŠ‘åˆ¶æˆ–å¼ºåŒ–å“ªäº›è¿‡æ»¤å™¨ã€‚</p></li><li><p>å°†éšæœºå°ºåº¦é‡‡æ ·ç­–ç•¥ä»é€€ç«å‡åŒ€æ›´æ”¹ä¸ºé€€ç«çš„ betaåˆ†å¸ƒã€‚ï¼ˆè¿™ç§æ–¹å¼ï¼Œæ¨¡å‹ä»è®­ç»ƒå¼€å§‹å°±ç«‹å³å­¦ä¹ é«˜é¢‘ç»†èŠ‚ï¼Œå¹¶åœ¨â€˜ç”Ÿé•¿â€™ç»“æŸåæ›´åŠ ä¸“æ³¨äºç»“æ„ï¼‰</p></li></ul></li><li><p>åœ¨éšæœºå°ºåº¦ r * r çš„å—ä¸Šè®­ç»ƒæ¨¡å‹ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ R * Rçš„å®Œæ•´å›¾åƒï¼Œå°ºåº¦ <span class="math inline">\(s \in[\frac{r}{R},1]\)</span> ä»æ—¶å˜åˆ†å¸ƒ <span class="math inline">\(s \simp_t(s)\)</span> ä¸­éšæœºé‡‡æ ·ã€‚</p></li><li><p>ä¸ä½¿ç”¨è§†å›¾æ–¹å‘æ¡ä»¶ï¼Œå› ä¸ºå®ƒä¼šæ¶åŒ– GANä¸­çš„å¤šè§†å›¾ä¸€è‡´æ€§ï¼Œè¿™äº›ä¸€è‡´æ€§æ˜¯åœ¨ RGBæ•°æ®é›†ä¸Šè®­ç»ƒçš„ï¼Œæ¯ä¸ªå®ä¾‹éƒ½æœ‰ä¸€ä¸ªè§†å›¾ã€‚</p></li></ol><hr /><h3id="what-you-see-is-what-you-gan-rendering-every-pixel-for-high-fidelity-geometry-in-3d-gans">3.What You See is What You GAN: Rendering Every Pixel for High-FidelityGeometry in 3D GANs</h3><p><img src="image-20240105215427998.png" alt="overview" style="zoom:80%;" /></p><blockquote><p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å±•ç¤ºäº†æˆ‘ä»¬æå‡ºçš„æµç¨‹åŠå…¶ä¸­é—´è¾“å‡ºã€‚ä»ä¸‰ç»´å¹³é¢ Tå¼€å§‹ï¼Œæˆ‘ä»¬è¿½è¸ªå‡åŒ€æ ·æœ¬ä»¥æ¢æµ‹åœºæ™¯ï¼Œäº§ç”Ÿä½åˆ†è¾¨ç‡çš„ <spanclass="math inline">\(I_{128}\)</span> å’Œæƒé‡ <spanclass="math inline">\(P_{128}\)</span>ã€‚è¿™äº›è¢«è¾“å…¥åˆ°ä¸€ä¸ª CNNä¸­ï¼Œäº§ç”Ÿé«˜åˆ†è¾¨ç‡çš„æè®®æƒé‡ <spanclass="math inline">\(\hat{P}_{512}\)</span>ï¼ˆæƒé‡ä»¥å‡åŒ€ç­‰çº§é›†çš„å½¢å¼å¯è§†åŒ–ï¼‰ã€‚æˆ‘ä»¬æ‰§è¡Œç¨³å¥é‡‡æ ·å’Œä½“ç§¯æ¸²æŸ“ï¼Œä»¥å¾—åˆ°æœ€ç»ˆå›¾åƒ<span class="math inline">\(I_{512}\)</span> å’Œè¡¨é¢æ–¹å·® Bã€‚</p></blockquote><p><strong>1.ç»“æ„ï¼š</strong>åˆ©ç”¨StyleGANç”Ÿæˆå›¾åƒï¼Œå¹¶é‡æ„æˆä¸‰å¹³é¢ã€‚ç„¶åé€šè¿‡åˆ†æ®µæ¥æå‡åˆ†è¾¨ç‡ã€‚</p><p>â€‹ 1ï¼‰å¯¹ 3D åœºæ™¯è¿›è¡Œä½åˆ†è¾¨ç‡æ¢æµ‹ã€‚</p><p>â€‹ 2ï¼‰å…¶æ¬¡æ˜¯é«˜åˆ†è¾¨ç‡çš„ CNN æè®®ç½‘ç»œã€‚</p><p>â€‹ 3ï¼‰å¯¹ç»“æœæè®®çš„ç¨³å¥é‡‡æ ·æ–¹æ³•ã€‚</p><p>â€‹ 4ï¼‰æ¥ä¸‹æ¥æè¿°äº†ç¨³å®šè®­ç»ƒçš„è§„èŒƒåŒ–ã€‚</p><p><strong>2. é‡ç‚¹ï¼š</strong></p><ol type="1"><li>High-Resolution Proposal Network</li></ol><p>â€‹1ï¼‰åˆ©ç”¨ä½åˆ†è¾¨ç‡æ¸²æŸ“ï¼Œä»è€Œä»¥ä½æˆæœ¬æ¢æµ‹3Dè¡¨ç¤ºï¼ˆä¸Šå›¾å·¦ä¾§æ‰€ç¤ºï¼‰ï¼Œåœ¨ä½åˆ†è¾¨ç‡ä¸Šï¼ˆ128*128ï¼‰é‡‡æ ·192ä¸ªç²—æ ·æœ¬è®¡ç®—ä½åˆ†è¾¨ç‡RGBå›¾åƒã€‚<spanclass="math inline">\(I_{128} \in \mathbb{R}^{3 \times 128 \times128}\)</span> å’Œæƒé‡å¼ é‡ <span class="math inline">\(P_{128} \in\mathbb{R}^{192 \times 128 \times 128}\)</span> ï¼Œæ¯ä¸ª 192ç»´å‘é‡å¯¹åº”äºå…·æœ‰ CDF Î¦ çš„åˆ†æ®µå¸¸æ•° PDFï¼Œ<span class="math inline">\(ti =Î¦^{âˆ’1}(u_i)\)</span></p><p>â€‹2ï¼‰ä¸€ä½åˆ†è¾¨ç‡æ¢æµ‹ä¸ºæ¡ä»¶ï¼Œåœ¨é«˜åˆ†è¾¨ç‡ï¼ˆ512*512ï¼‰é¢„æµ‹æå‡ºçš„ä½“ç»˜åˆ¶æƒé‡çš„å¼ é‡ï¼š<span class="math display">\[\hat{P}_{512} = Softmax(CNN(P_{128}, I_{128})) âˆˆ R^{192Ã—512Ã—512}\]</span>å…¶ä¸­ï¼ŒCNNæ˜¯ä¸€ä¸ªè½»é‡çº§ç½‘ç»œï¼Œå¯ä»¥å¯¹ä½åˆ†è¾¨ç‡æƒé‡è¿›è¡Œä¸Šé‡‡æ ·ï¼Œsoftmaxæ²¿æ¯æ¡å°„çº¿äº§ç”Ÿç¦»æ•£åˆ†å¸ƒã€‚<code>æ³¨æ„ï¼š</code>åœ¨128*128ä¸Šåˆ†é…192ä¸ªæ ·æœ¬ç›¸å½“äºåœ¨512*512ä¸Šåˆ†é…12ä¸ªæ ·æœ¬ã€‚128*128*192=3145728=512*512*12ã€‚</p><ol start="2" type="1"><li>Supervising the Proposal Network</li></ol><p>ä»512*512çš„å›¾åƒä¸­æ¢æµ‹192ä¸ªç²—ç•¥æ ·æœ¬ï¼Œç”¨äºä¸€ä¸ªå°çš„ 64*64patchï¼Œä»è€Œå¾—åˆ°ä¸€ä¸ªä½“ç§¯æ¸²æŸ“æƒé‡çš„çœŸå®å¼ é‡ <spanclass="math inline">\(P_{patch} \in R^{192 \times 64 \times64}\)</span>ï¼Œç„¶åé¢„æµ‹å‡ºå—çš„æƒé‡ï¼š <span class="math display">\[\bar{P}_{patch} = Normalize(Suppress(Blur(P_{patch})))\]</span> æœ€åé€šè¿‡äº¤å‰ç†µæŸå¤±å‡½æ•°æ¥æ¯”è¾ƒ 64*64 çš„æƒé‡å’Œå®é™… 512*512å›¾åƒä¸­æˆªå–çš„å—çš„æƒé‡æ¥è¿›è¡Œä¼˜åŒ–ï¼š <span class="math display">\[L_{sampler} = CrossEntropy(\bar{P}_{patch},~\hat{P}_{patch})\]</span></p><ol start="3" type="1"><li>Sampling from the Proposal Network</li></ol><p>TODO æš‚æ—¶ä¸å¤ªç†è§£</p>]]></content>
    
    
    <categories>
      
      <category>ç®€è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®€è®°</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>pi-GANæºç åˆ†æ</title>
    <link href="/posts/27470/"/>
    <url>/posts/27470/</url>
    
    <content type="html"><![CDATA[<h3 id="train.py">1. train.py</h3><pre><code class="hljs">1. load_images(images, curriculum, device)ï¼š åŠ è½½å›¾åƒæ•°æ®ï¼Œæ‰¹é‡åŠ è½½ã€‚2. z_sampler(shape, device, dist)ï¼šç”Ÿæˆéšæœºå™ªå£°ï¼Œæ¯æ¬¡ç”Ÿæˆ25å¼ å›¾åƒçš„å™ªå£°ã€‚3. train(rank, world_size, opt)ï¼šå¼€å§‹æ­£å¼è®­ç»ƒ</code></pre><p><strong>1ï¼‰ç”Ÿæˆå™¨å’Œè¾¨åˆ«å™¨çš„åˆå§‹åŒ–ï¼š</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># generator : ImplicitGenerator3d  ç”±generatorsè¿›å…¥generator.py</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">è¿”å›ï¼špixels, torch.cat([pitch, yaw], -1)</span><br><span class="hljs-string">pixels: rgb_final</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br>generator = <span class="hljs-built_in">getattr</span>(generators, metadata[<span class="hljs-string">&#x27;generator&#x27;</span>])(SIREN, metadata[<span class="hljs-string">&#x27;latent_dim&#x27;</span>]).to(device) <span class="hljs-comment"># latent_dim = 256</span><br><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">return: prediction, latent, position</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-comment"># discriminator : ProgressiveEncoderDiscriminator  ç”±discriminatorsè¿›å…¥discriminator.py</span><br>discriminator = <span class="hljs-built_in">getattr</span>(discriminators, metadata[<span class="hljs-string">&#x27;discriminator&#x27;</span>])().to(device) <span class="hljs-comment"># åˆ¤åˆ«å™¨</span><br><br><span class="hljs-comment"># ç”¨äºå¯¹ç”Ÿæˆå™¨ generator çš„å‚æ•°è¿›è¡ŒæŒ‡æ•°ç§»åŠ¨å¹³å‡å¤„ç† </span><br><span class="hljs-comment"># decay: å†³å®šäº†å†å²æƒé‡åœ¨å¹³å‡ä¸­çš„å½±å“å¤§å°</span><br>ema = ExponentialMovingAverage(generator.parameters(), decay=<span class="hljs-number">0.999</span>)<br>ema2 = ExponentialMovingAverage(generator.parameters(), decay=<span class="hljs-number">0.9999</span>)<br></code></pre></td></tr></table></figure><p><strong>2ï¼‰è®­ç»ƒè¾¨åˆ«å™¨ï¼š</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># TRAIN DISCRIMINATOR è®­ç»ƒåˆ¤åˆ«å™¨</span><br><span class="hljs-keyword">with</span> torch.cuda.amp.autocast():<br>    <span class="hljs-comment"># Generate images for discriminator training</span><br>    <span class="hljs-keyword">with</span> torch.no_grad():<br>        <span class="hljs-comment"># éšæœºå™ªå£° z [9, 256]</span><br>        z = z_sampler((real_imgs.shape[<span class="hljs-number">0</span>], metadata[<span class="hljs-string">&#x27;latent_dim&#x27;</span>]), device=device, dist=metadata[<span class="hljs-string">&#x27;z_dist&#x27;</span>]) <br>        logging.info(<span class="hljs-string">f&quot;train discriminator z.shape: <span class="hljs-subst">&#123;z.shape&#125;</span>&quot;</span>) <span class="hljs-comment"># [9, 256]</span><br>        <span class="hljs-comment"># real_imgs.shape[0] == z.shape[0] --&gt; batch_size(9)</span><br>        split_batch_size = z.shape[<span class="hljs-number">0</span>] // metadata[<span class="hljs-string">&#x27;batch_split&#x27;</span>] <br>        gen_imgs_film = []<br>        gen_imgs = []<br>        gen_positions = []<br>        <span class="hljs-keyword">for</span> split <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(metadata[<span class="hljs-string">&#x27;batch_split&#x27;</span>]):   <span class="hljs-comment"># å¾ªç¯ batch_split æ¬¡</span><br>            subset_z = z[split * split_batch_size:(split+<span class="hljs-number">1</span>) * split_batch_size] <span class="hljs-comment"># subset_z [3, 256]</span><br><br>            <span class="hljs-comment"># g_imgs --&gt; pixels [batch_split, 3(RGB), img_size, img_size], </span><br>            <span class="hljs-comment"># g_pos -&gt; torch.cat([pitch, yaw], -1) [batch_size, 2]</span><br>            <span class="hljs-comment"># --&gt; generator.py --&gt; ImplicitGenerator3d --&gt; forward()</span><br>            g_imgs, g_pos = generator_ddp(subset_z, **metadata) <br>            gen_imgs.append(g_imgs)<br>            gen_positions.append(g_pos)<br>            gen_imgs = torch.cat(gen_imgs, axis=<span class="hljs-number">0</span>)  <span class="hljs-comment"># [9, 3, 32, 32] [batch_size, channels, img_size, img_size]</span><br>            gen_positions = torch.cat(gen_positions, axis=<span class="hljs-number">0</span>) <span class="hljs-comment"># [9, 2] [batch_size, 2]</span><br><br>            real_imgs.requires_grad = <span class="hljs-literal">True</span><br><br>            <span class="hljs-comment"># prediction [batch_size, 1]</span><br>            <span class="hljs-comment"># çœŸå®å›¾åƒçš„ é¢„æµ‹ç»“æœ</span><br>            <span class="hljs-comment"># --&gt; discriminator.py --&gt; ProgressiveEncoderDiscriminator --&gt; forward()</span><br>            r_preds, _, _ = discriminator_ddp(real_imgs, alpha, **metadata) <br><br>            <span class="hljs-keyword">if</span> metadata[<span class="hljs-string">&#x27;r1_lambda&#x27;</span>] &gt; <span class="hljs-number">0</span>: <span class="hljs-comment"># æ¢¯åº¦ä¸‹é™</span><br>                <span class="hljs-comment"># Gradient penalty çœŸå®å›¾åƒ æ¢¯åº¦æƒ©ç½š</span><br>                grad_real = torch.autograd.grad(outputs=scaler.scale(r_preds.<span class="hljs-built_in">sum</span>()), inputs=real_imgs, <br>                                                create_graph=<span class="hljs-literal">True</span>) <br>                inv_scale = <span class="hljs-number">1.</span>/scaler.get_scale()<br>                grad_real = [p * inv_scale <span class="hljs-keyword">for</span> p <span class="hljs-keyword">in</span> grad_real][<span class="hljs-number">0</span>] <span class="hljs-comment"># è®¡ç®—æ¢¯åº¦  p [batch_size, 3, img_size, img_size]</span><br><br>                <span class="hljs-keyword">with</span> torch.cuda.amp.autocast():<br>                    <span class="hljs-keyword">if</span> metadata[<span class="hljs-string">&#x27;r1_lambda&#x27;</span>] &gt; <span class="hljs-number">0</span>:<br>                        grad_penalty = (grad_real.view(grad_real.size(<span class="hljs-number">0</span>), -<span class="hljs-number">1</span>).norm(<span class="hljs-number">2</span>, dim=<span class="hljs-number">1</span>) ** <span class="hljs-number">2</span>).mean()<br>                        grad_penalty = <span class="hljs-number">0.5</span> * metadata[<span class="hljs-string">&#x27;r1_lambda&#x27;</span>] * grad_penalty<br>                    <span class="hljs-keyword">else</span>:<br>                        grad_penalty = <span class="hljs-number">0</span><br><br>                        <span class="hljs-comment"># ç”Ÿæˆå™¨ç”Ÿæˆçš„å›¾åƒ gen_imgs</span><br>                        <span class="hljs-comment"># gen_img_prediction [batch_size, 1], latent [batch_size, 256], </span><br>                        <span class="hljs-comment"># position [batch_size, 2]</span><br>                        g_pred_latent_film, g_pred_position_film = <br>                        discriminator_ddp(gen_imgs_film, alpha, **metadata) <br>                        g_preds, g_pred_latent, g_pred_position = discriminator_ddp(gen_imgs, alpha, <br>                                                                                    **metadata) <br>                        <span class="hljs-comment"># ç”Ÿæˆå›¾åƒ æ¢¯åº¦æƒ©ç½š</span><br>                    <span class="hljs-keyword">if</span> metadata[<span class="hljs-string">&#x27;z_lambda&#x27;</span>] &gt; <span class="hljs-number">0</span> <span class="hljs-keyword">or</span> metadata[<span class="hljs-string">&#x27;pos_lambda&#x27;</span>] &gt; <span class="hljs-number">0</span>:<br>                        <span class="hljs-comment"># latent codeæƒ©ç½š</span><br>                        latent_penalty = torch.nn.MSELoss()(g_pred_latent, z) * metadata[<span class="hljs-string">&#x27;z_lambda&#x27;</span>]    <br>                        position_penalty = torch.nn.MSELoss()(g_pred_position, gen_positions) * <br>                        metadata[<span class="hljs-string">&#x27;pos_lambda&#x27;</span>] <span class="hljs-comment"># ä½ç½®ä¿¡æ¯æƒ©ç½š</span><br><br>                        identity_penalty = latent_penalty + position_penalty    <br>                    <span class="hljs-keyword">else</span>:<br>                        identity_penalty=<span class="hljs-number">0</span><br>                        <span class="hljs-comment"># g_preds: ç”Ÿæˆå›¾åƒçš„é¢„æµ‹ç»“æœ r_preds: çœŸå®å›¾åƒçš„é¢„æµ‹ç»“æœ</span><br>                        d_loss = torch.nn.functional.softplus(g_preds).mean() +  <br>                        torch.nn.functional.softplus(-r_preds).mean() + grad_penalty + identity_penalty<br>                        discriminator_losses.append(d_loss.item())<br></code></pre></td></tr></table></figure><p><strong>3ï¼‰è®­ç»ƒç”Ÿæˆå™¨ï¼š</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># TRAIN GENERATOR è®­ç»ƒç”Ÿæˆå™¨</span><br><span class="hljs-comment"># éšæœºå™ªå£° z.shape [batch_size, 256]</span><br>z = z_sampler((imgs.shape[<span class="hljs-number">0</span>], metadata[<span class="hljs-string">&#x27;latent_dim&#x27;</span>]), device=device, dist=metadata[<span class="hljs-string">&#x27;z_dist&#x27;</span>]) <br>split_batch_size = z.shape[<span class="hljs-number">0</span>] // metadata[<span class="hljs-string">&#x27;batch_split&#x27;</span>]<br><br><span class="hljs-keyword">for</span> split <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(metadata[<span class="hljs-string">&#x27;batch_split&#x27;</span>]):<br>    <span class="hljs-keyword">with</span> torch.cuda.amp.autocast():<br>        subset_z = z[split * split_batch_size:(split+<span class="hljs-number">1</span>) * split_batch_size] <span class="hljs-comment"># subset_z [batch_split, 256]</span><br><br>        <span class="hljs-comment"># gen_imgs [batch_split, 3(rgb), img_size, img_size] gen_positions [batch_split, 2]</span><br>        gen_imgs, gen_positions = generator_ddp(subset_z, **metadata)  <span class="hljs-comment"># é€šè¿‡å™ªå£°ç”Ÿæˆå›¾åƒ ä»¥åŠ å§¿æ€ä¿¡æ¯</span><br><br>        <span class="hljs-comment"># g_preds [batch_split, 1] g_pred_latent [batch_split, 256] g_pred_position [batch_split, 2]</span><br>        <span class="hljs-comment"># --&gt; ProgressiveEncoderDiscriminator --&gt; forward()</span><br>        g_preds, g_pred_latent, g_pred_position = discriminator_ddp(gen_imgs, alpha, **metadata) <br>        topk_percentage = <span class="hljs-built_in">max</span>(<span class="hljs-number">0.99</span> ** (discriminator.step/metadata[<span class="hljs-string">&#x27;topk_interval&#x27;</span>]), metadata[<span class="hljs-string">&#x27;topk_v&#x27;</span>]) <br>        <span class="hljs-keyword">if</span> <span class="hljs-string">&#x27;topk_interval&#x27;</span> <span class="hljs-keyword">in</span> metadata <span class="hljs-keyword">and</span> <span class="hljs-string">&#x27;topk_v&#x27;</span> <span class="hljs-keyword">in</span> metadata <span class="hljs-keyword">else</span> <span class="hljs-number">1</span><br><br>        topk_num = math.ceil(topk_percentage * g_preds.shape[<span class="hljs-number">0</span>])<br><br>        g_preds = torch.topk(g_preds, topk_num, dim=<span class="hljs-number">0</span>).values <span class="hljs-comment"># é€‰å–topk_numä¸ªæœ€å¤§å€¼</span><br><br>        <span class="hljs-keyword">if</span> metadata[<span class="hljs-string">&#x27;z_lambda&#x27;</span>] &gt; <span class="hljs-number">0</span> <span class="hljs-keyword">or</span> metadata[<span class="hljs-string">&#x27;pos_lambda&#x27;</span>] &gt; <span class="hljs-number">0</span>:<br>            <span class="hljs-comment"># è¾¨åˆ«å™¨ latent code æƒ©ç½š  ä½ç½®ä¿¡æ¯æƒ©ç½š  ä¿¡ä»»åº¦æƒ©ç½š</span><br>            latent_penalty = torch.nn.MSELoss()(g_pred_latent, subset_z) * metadata[<span class="hljs-string">&#x27;z_lambda&#x27;</span>]<br>            position_penalty = torch.nn.MSELoss()(g_pred_position, gen_positions) * metadata[<span class="hljs-string">&#x27;pos_lambda&#x27;</span>]<br>            identity_penalty = latent_penalty + position_penalty<br>        <span class="hljs-keyword">else</span>:<br>            identity_penalty = <span class="hljs-number">0</span><br><br>            g_loss = torch.nn.functional.softplus(-g_preds).mean() + identity_penalty<br>            generator_losses.append(g_loss.item())<br><br>            scaler.scale(g_loss).backward()<br></code></pre></td></tr></table></figure><h3 id="siren.py">2. siren.py</h3><ol type="1"><li>sine_init(m)ï¼šåˆå§‹åŒ–sineå‡½æ•°</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">sine_init</span>(<span class="hljs-params">m</span>):<br>    <span class="hljs-keyword">with</span> torch.no_grad():<br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(m, nn.Linear):<br>            num_input = m.weight.size(-<span class="hljs-number">1</span>) <span class="hljs-comment"># è¾“å…¥ç‰¹å¾æ•°é‡</span><br>            <span class="hljs-comment"># uniform_() æ–¹æ³•å°†å¼ é‡ä¸­çš„æ¯ä¸ªå…ƒç´ åˆå§‹åŒ–ä¸ºä»å‡åŒ€åˆ†å¸ƒä¸­è·å–çš„å€¼</span><br>            <span class="hljs-comment"># -np.sqrt(6 / num_input) / 30, np.sqrt(6 / num_input) / 30  Heæ­£å¤ªåˆå§‹åŒ–</span><br>            m.weight.uniform_(-np.sqrt(<span class="hljs-number">6</span> / num_input) / <span class="hljs-number">30</span>, np.sqrt(<span class="hljs-number">6</span> / num_input) / <span class="hljs-number">30</span>)<br></code></pre></td></tr></table></figure><ol start="2" type="1"><li>CustomMappingNetworkç±»ï¼šæ˜ å°„ç½‘ç»œï¼Œå°†éšæœºå™ªå£°ç”Ÿæˆé¢‘ç‡å’Œç›¸ä½ã€‚</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># ä¸€æ¬¡æ€§è®¡ç®—å‡ºæ‰€æœ‰å±‚çš„é¢‘ç‡ Î³ å’Œç›¸ä½ Î²</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, z</span>):<br>    frequencies_offsets = self.network(z) <span class="hljs-comment"># [batch_size, 4608] 4608 = (8+1)*256*2</span><br>    frequencies = frequencies_offsets[..., :frequencies_offsets.shape[-<span class="hljs-number">1</span>]//<span class="hljs-number">2</span>] <span class="hljs-comment"># [batch_size, 2304]</span><br>    phase_shifts = frequencies_offsets[..., frequencies_offsets.shape[-<span class="hljs-number">1</span>]//<span class="hljs-number">2</span>:] <span class="hljs-comment"># [batch_size, 2304]</span><br><br>    <span class="hljs-keyword">return</span> frequencies, phase_shifts<br></code></pre></td></tr></table></figure><ol start="3" type="1"><li>FiLMLayerç±»ï¼šéšè—å±‚çš„è®¡ç®—</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">FiLMLayer</span>(nn.Module):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, input_dim, hidden_dim</span>):<br>        <span class="hljs-built_in">super</span>().__init__()<br>        <span class="hljs-comment"># åˆå§‹åŒ–çº¿æ€§å±‚</span><br>        self.layer = nn.Linear(input_dim, hidden_dim)   <span class="hljs-comment"># åˆå§‹åŒ–Linearå±‚ Linear --&gt; FiLMLayer</span><br>    <span class="hljs-comment"># x è¾“å…¥çš„ä½ç½®åæ ‡ä¿¡æ¯ position x</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x, freq, phase_shift</span>):<br>        logging.info(<span class="hljs-string">f&quot;FiLMLayer input_x.shape: <span class="hljs-subst">&#123;x.shape&#125;</span>&quot;</span>)<br>        <span class="hljs-comment"># è®¡ç®—çº¿æ€§å±‚  x.shape [batch_size, num_rays*num_step, hidden_dim]  layer --&gt; Linear FiLMLayer input</span><br>        x = self.layer(x)       <br>        logging.info(<span class="hljs-string">f&quot;FiLMLayer output_x.shape: <span class="hljs-subst">&#123;x.shape&#125;</span>&quot;</span>)<br>        <span class="hljs-comment"># é€šè¿‡æ¿€æ´»å‡½æ•°è®¡ç®— FiLM SIREN sin(Î³x + Î²)</span><br>        freq = freq.unsqueeze(<span class="hljs-number">1</span>).expand_as(x) <span class="hljs-comment">#  freq.shape [batch_size, num_rays*num_step, hidden_dim]</span><br>        <span class="hljs-comment"># phase_shift.shape [batch_size, num_rays*num_step, hidden_dim]</span><br>        phase_shift = phase_shift.unsqueeze(<span class="hljs-number">1</span>).expand_as(x) <br><br>        <span class="hljs-comment"># [batch_size, num_rays*num_step, hidden_dim] FiLM SIREN sin(Î³(wx+b) + Î²)</span><br>        <span class="hljs-keyword">return</span> torch.sin(freq * x + phase_shift) <br></code></pre></td></tr></table></figure><ol start="4" type="1"><li>TALLSIRENæ¨¡å‹ï¼šSIREN-MLPæ¨¡å‹ï¼Œå¾—å‡ºé€šè¿‡MLPçš„ç»“æœ</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">TALLSIREN</span>(nn.Module):<br>    <span class="hljs-string">&quot;&quot;&quot;Primary SIREN  architecture used in pi-GAN generators.&quot;&quot;&quot;</span><br>    <span class="hljs-string">&quot;&quot;&quot; ç”¨äºpi-GAN ç”Ÿæˆå™¨çš„ä¸»è¦SIRENæ¶æ„ã€‚&quot;&quot;&quot;</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, input_dim=<span class="hljs-number">2</span>, z_dim=<span class="hljs-number">100</span>, hidden_dim=<span class="hljs-number">256</span>, output_dim=<span class="hljs-number">1</span>, device=<span class="hljs-literal">None</span></span>):<br>        <span class="hljs-built_in">super</span>().__init__()<br>        self.device = device<br>        self.input_dim = input_dim <span class="hljs-comment"># 3 (x, y, z)å¼ å›¾ç‰‡åˆå§‹åŒ–</span><br>        self.z_dim = z_dim <span class="hljs-comment"># 256</span><br>        self.hidden_dim = hidden_dim <span class="hljs-comment"># 256</span><br>        self.output_dim = output_dim <span class="hljs-comment"># 4   </span><br>        <span class="hljs-comment"># TALLSIREN: input_dim.shape: 3, output_dim.shape: 4</span><br>        logging.info(<span class="hljs-string">f&quot;TALLSIREN: input_dim.shape: <span class="hljs-subst">&#123;input_dim&#125;</span>, output_dim.shape: <span class="hljs-subst">&#123;output_dim&#125;</span>&quot;</span>)<br>        self.network = nn.ModuleList([  <span class="hljs-comment"># 8ä¸ªFiLM SIREN å±‚ [3, 256], [256, 256] ... [256, 256]</span><br>            FiLMLayer(input_dim, hidden_dim),<br>            FiLMLayer(hidden_dim, hidden_dim),<br>            FiLMLayer(hidden_dim, hidden_dim),<br>            FiLMLayer(hidden_dim, hidden_dim),<br>            FiLMLayer(hidden_dim, hidden_dim),<br>            FiLMLayer(hidden_dim, hidden_dim),<br>            FiLMLayer(hidden_dim, hidden_dim),<br>            FiLMLayer(hidden_dim, hidden_dim),<br>        ])<br>        self.final_layer = nn.Linear(hidden_dim, <span class="hljs-number">1</span>) <span class="hljs-comment"># [256, 1] alphaè¾“å‡ºå±‚</span><br><br>        self.color_layer_sine = FiLMLayer(hidden_dim + <span class="hljs-number">3</span>, hidden_dim)   <span class="hljs-comment"># åŠ  ray direction d [256+3, 256]</span><br>        <span class="hljs-comment"># c(x, d) [256, 3] rgbè¾“å‡ºå±‚ æ™®é€šçº¿æ€§å±‚</span><br><br>        self.color_layer_linear = nn.Sequential(nn.Linear(hidden_dim, <span class="hljs-number">3</span>), nn.Sigmoid()) <br>        <br>        <span class="hljs-comment"># mapping network output_dim = (8+1)*256*2</span><br>        self.mapping_network = CustomMappingNetwork(z_dim, <span class="hljs-number">256</span>, (<span class="hljs-built_in">len</span>(self.network) + <span class="hljs-number">1</span>)*hidden_dim*<span class="hljs-number">2</span>) <br><br>        <span class="hljs-comment"># ä¸€æ¬¡ 25 å¼ å›¾ç‰‡åˆå§‹åŒ–</span><br>        self.network.apply(frequency_init(<span class="hljs-number">25</span>)) <span class="hljs-comment"># 8 å±‚ FiLMLayer è¿›è¡Œåˆå§‹åŒ–</span><br>        self.final_layer.apply(frequency_init(<span class="hljs-number">25</span>))  <span class="hljs-comment"># alpha è¾“å‡ºå±‚åˆå§‹åŒ–</span><br>        self.color_layer_sine.apply(frequency_init(<span class="hljs-number">25</span>)) <span class="hljs-comment"># rgb é¢å¤–å±‚åˆå§‹åŒ–</span><br>        self.color_layer_linear.apply(frequency_init(<span class="hljs-number">25</span>))   <span class="hljs-comment"># rgb è¾“å‡ºå±‚åˆå§‹åŒ–</span><br>        self.network[<span class="hljs-number">0</span>].apply(first_layer_film_sine_init) <span class="hljs-comment"># ç¬¬ä¸€å±‚ FiLMLayer è¿›è¡Œåˆå§‹åŒ–</span><br><br>    <span class="hljs-comment"># input -&gt; transformed_points (generator.py -&gt; coarse_output) </span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, <span class="hljs-built_in">input</span>, z, ray_directions, **kwargs</span>):<br>        frequencies, phase_shifts = self.mapping_network(z) <span class="hljs-comment"># ä»mapping networkä¸­è·å–é¢‘ç‡ Î³ å’Œç›¸ä½ Î²</span><br>        <span class="hljs-keyword">return</span> self.forward_with_frequencies_phase_shifts(<span class="hljs-built_in">input</span>, frequencies, phase_shifts, ray_directions, <br>                                                          **kwargs)<br><br>    <span class="hljs-comment"># SIREN MLP ç½‘ç»œ è®¡ç®— SIREN sin(Î³x + Î²) è¾“å‡ºRGB å’Œ alpha</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward_with_frequencies_phase_shifts</span>(<span class="hljs-params">self, <span class="hljs-built_in">input</span>, frequencies, phase_shifts, ray_directions, **kwargs</span>):<br>        <br>        frequencies = frequencies*<span class="hljs-number">15</span> + <span class="hljs-number">30</span><br>        <span class="hljs-comment"># x.shape [batch_size, num_rays*num_steps, 3] input -&gt; points</span><br>        x = <span class="hljs-built_in">input</span><br><br>        <span class="hljs-keyword">for</span> index, layer <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(self.network): <span class="hljs-comment"># 8å±‚éšè—å±‚çš„è®¡ç®—</span><br>            <span class="hljs-comment"># layer == FiLMLayer(i)   FiLM SIREN sin(Î³x + Î²)</span><br>            <span class="hljs-comment"># æ¯æ¬¡å–ä¸€å±‚çš„ Î³ å’Œ Î² (end - start) == 256</span><br>            start = index * self.hidden_dim<br>            end = (index+<span class="hljs-number">1</span>) * self.hidden_dim<br>            <span class="hljs-comment"># x.shape [batch_size, num_rays*num_steps, hidden_dim] </span><br>            x = layer(x, frequencies[..., start:end], phase_shifts[..., start:end]) <span class="hljs-comment"># -&gt; FiLMLayer forward</span><br>        <span class="hljs-comment"># xé€šè¿‡8å±‚ MLPè®¡ç®—å çš„æœ€ç»ˆè¾“å‡ºç»´åº¦ä¸º [batch_size, num_rays*num_steps, hidden_dim]</span><br>        logging.info(<span class="hljs-string">f&quot;forward_with_frequencies_phase_shifts after x.shape: <span class="hljs-subst">&#123;x.shape&#125;</span>&quot;</span>)<br>        sigma = self.final_layer(x) <span class="hljs-comment"># sigma [batch_size, num_rays*num_steps, 1] alpha è¾“å‡ºå±‚</span><br>        <br>        <span class="hljs-comment"># ray_directions d [batch_size, num_rays*num_steps, 3]</span><br>        <br>        <span class="hljs-comment"># æœ€åä¸€å±‚çš„ Î³ å’Œ Î² 259 -&gt; 256</span><br>        rbg = self.color_layer_sine(torch.cat([ray_directions, x], dim=-<span class="hljs-number">1</span>),  <br>                                    frequencies[..., -self.hidden_dim:], phase_shifts[..., -self.hidden_dim:]) <br>        rbg = self.color_layer_linear(rbg) <span class="hljs-comment"># rgb [batch_size, num_rays*num_steps] è¾“å‡ºå±‚ 256 -&gt; 3</span><br><br>        <span class="hljs-comment"># ç”Ÿæˆå›¾ç‰‡çš„æ—¶å€™éœ€è¦å°† alpha å’Œ rgb æ‹¼æ¥åœ¨ä¸€èµ· ç„¶åè¾“å…¥åˆ°volume renderingä¸­æ¸²æŸ“</span><br>        <span class="hljs-keyword">return</span> torch.cat([rbg, sigma], dim=-<span class="hljs-number">1</span>) <span class="hljs-comment"># return [batch_size, num_rays*num_steps, 4] rgb + alpha</span><br></code></pre></td></tr></table></figure><h3 id="generators.py">3. generators.py</h3><ol type="1"><li>ImplicitGenerator3dç±»ï¼šç”Ÿæˆå™¨æ¨¡å‹ï¼Œç”¨æ¥ç”Ÿæˆå›¾åƒ</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># ä¼ å…¥ (SIREN, metadata[&#x27;latent_dim&#x27;])</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">ImplicitGenerator3d</span>(nn.Module):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, siren, z_dim, **kwargs</span>):<br>        <span class="hljs-built_in">super</span>().__init__()<br>        self.z_dim = z_dim <span class="hljs-comment"># 256 (latent_dim)</span><br>        self.siren = siren(output_dim=<span class="hljs-number">4</span>, z_dim=self.z_dim, input_dim=<span class="hljs-number">3</span>, device=<span class="hljs-literal">None</span>) <span class="hljs-comment"># åˆå§‹åŒ– SIREN -&gt; siren.py</span><br>        self.epoch = <span class="hljs-number">0</span><br>        self.step = <span class="hljs-number">0</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">set_device</span>(<span class="hljs-params">self, device</span>):<br>        self.device = device<br>        self.siren.device = device<br><br>        self.generate_avg_frequencies() <span class="hljs-comment"># æ±‚é¢‘ç‡å’Œç›¸ä½çš„å¹³å‡å€¼ [1, 2304] 2304 = 256 * (8 + 1)</span><br>        <br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, z, img_size, fov, ray_start, ray_end, num_steps, </span><br><span class="hljs-params">                h_stddev, v_stddev, h_mean, v_mean, hierarchical_sample, </span><br><span class="hljs-params">                sample_dist=<span class="hljs-literal">None</span>, lock_view_dependence=<span class="hljs-literal">False</span>, **kwargs</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        Generates images from a noise vector, rendering parameters, and camera distribution.</span><br><span class="hljs-string">        Uses the hierarchical sampling scheme described in NeRF.</span><br><span class="hljs-string">        ä» å™ªå£°å‘é‡ï¼Œæ¸²æŸ“å‚æ•°ï¼Œç›¸æœºåˆ†å¸ƒ ç”Ÿæˆå›¾åƒ</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <span class="hljs-comment"># z.shape: (3, 256) [batch_size / batch_split, z_dim], num_rays = img_size * img_size</span><br>        batch_size = z.shape[<span class="hljs-number">0</span>] <br><br>        <span class="hljs-comment"># Generate initial camera rays and sample points. ç”Ÿæˆåˆå§‹ç›¸æœºå°„çº¿å’Œé‡‡æ ·ç‚¹</span><br>        <span class="hljs-comment"># è¿”å›sample points, z_vals, ray directions batch_size, pixels, num_steps, 1</span><br>        <span class="hljs-keyword">with</span> torch.no_grad():<br>            <span class="hljs-comment"># è·å– é‡‡æ ·ç‚¹ï¼Œz_vals(æ·±åº¦)å’Œå…‰çº¿æ–¹å‘ position x</span><br>            points_cam, z_vals, rays_d_cam = get_initial_rays_trig(<br>                batch_size, num_steps, resolution=(img_size, img_size), device=self.device, <br>                fov=fov, ray_start=ray_start, ray_end=ray_end) <br>            <span class="hljs-comment"># points_cam.shape: [batch_size, img_size*img_size, num_steps, 3(RGB)] </span><br>            <span class="hljs-comment"># z_vals.shape:  [batch_size, img_size*img_size, num_steps, 1] </span><br>            <span class="hljs-comment"># rays_d_cam.shape: [batch_size, img_size*img_size, num_steps, 3(xyz)]</span><br><br><br>            <span class="hljs-comment"># transform_sampled_points å¯¹ç›¸æœºä½ç½®è¿›è¡Œé‡‡æ ·ï¼Œå¹¶å°†ç›¸æœºç©ºé—´åæ ‡æ˜ å°„åˆ°ä¸–ç•Œç©ºé—´åæ ‡</span><br>            <span class="hljs-comment"># é‡‡æ ·ç‚¹ï¼Œz_vals(æ·±åº¦)ï¼Œå…‰çº¿æ–¹å‘ï¼Œå…‰çº¿åŸç‚¹ï¼Œä¿¯ä»°è§’ï¼Œåèˆªè§’ è½¬æ¢åçš„åæ ‡ </span><br>            transformed_points, z_vals, transformed_ray_directions, transformed_ray_origins, pitch, yaw = \<br>            transform_sampled_points(points_cam, z_vals, rays_d_cam, h_stddev=h_stddev, v_stddev=v_stddev, <br>                                         h_mean=h_mean, v_mean=v_mean, device=self.device, mode=sample_dist) <br>            <br>            <span class="hljs-comment"># trasformed_points.shape: [batch_size, num_rays, num_steps, 3(RGB)] </span><br>            <span class="hljs-comment"># z_vals.shape: [batch_size, num_rays, num_steps, 1] </span><br>            <span class="hljs-comment"># transformed_ray_directions.shape: [batch_size, num_rays, num_steps, 3(xyz)] </span><br>            <span class="hljs-comment"># transformed_ray_origins.shape: [batch_size, num_rays, num_steps, 3(xyz)] </span><br>            <span class="hljs-comment"># pitch.shape: [batch_size, num_rays, 1] yaw.shape: [batch_size, num_rays, 1]</span><br><br>            <span class="hljs-comment"># åæ ‡ç³»å˜æ¢ ä»ç›¸æœºåæ ‡ç³»åˆ°ä¸–ç•Œåæ ‡ç³»</span><br>            <span class="hljs-comment"># transformed_ray_directions_expanded è½¬æ¢åçš„å°„çº¿æ–¹å‘</span><br>            <br>            <span class="hljs-comment"># [batch_size, num_rays, num_steps, 1, 3]</span><br>            transformed_ray_directions_expanded = torch.unsqueeze(transformed_ray_directions, -<span class="hljs-number">2</span>) <br>            transformed_ray_directions_expanded = transformed_ray_directions_expanded.expand(-<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>, <br>                                                num_steps, -<span class="hljs-number">1</span>) <span class="hljs-comment"># [batch_size, num_rays, num_steps, num_steps, 3]</span><br>            transformed_ray_directions_expanded = transformed_ray_directions_expanded.reshape(batch_size,                                                                                     img_size*img_size*num_steps, <span class="hljs-number">3</span>)<br>            <br>             <span class="hljs-comment"># [batch_size, num_rays*num_steps, 3]</span><br>            transformed_points = transformed_points.reshape(batch_size, img_size*img_size*num_steps, <span class="hljs-number">3</span>)<br><br>            <span class="hljs-keyword">if</span> lock_view_dependence:<br>                transformed_ray_directions_expanded = torch.zeros_like(transformed_ray_directions_expanded)<br>                transformed_ray_directions_expanded[..., -<span class="hljs-number">1</span>] = -<span class="hljs-number">1</span><br><br>        <span class="hljs-comment"># Model prediction on course points MLP éšè—å±‚è®¡ç®— ç²—ç³™é‡‡æ ·</span><br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        è¾“å…¥ï¼štransformed_points [batch_size, num_rays*num_steps, 3(xyz)], z [batch_size, 256], </span><br><span class="hljs-string">         ray_directions  [batch_size, num_rays*num_steps, 3(xyz)]</span><br><span class="hljs-string">        è¾“å‡ºï¼šrgb aplha [batch_size, num_rays*num_steps, 4]</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <span class="hljs-comment"># input siren  # -&gt; siren.py TALLSIREN forward</span><br>        coarse_output = self.siren(transformed_points, z, ray_directions=transformed_ray_directions_expanded)<br>        <br>        <span class="hljs-comment"># [batch_size, num_rays, num_steps, 4] æ¯æ¡å…‰çº¿ä¸Šçš„æ¯ä¸ªé‡‡æ ·ç‚¹</span><br>        coarse_output = coarse_output.reshape(batch_size, img_size * img_size, num_steps, <span class="hljs-number">4</span>) <br><br>        <span class="hljs-comment"># Re-sample fine points alont camera rays, as described in NeRF</span><br>        <span class="hljs-keyword">if</span> hierarchical_sample: <span class="hljs-comment"># åŠçƒé‡‡æ ·</span><br>            <span class="hljs-keyword">with</span> torch.no_grad():<br>                <span class="hljs-comment"># æ¯ä¸ªå…‰çº¿ä¸Šçš„æ¯ä¸ªé‡‡æ ·ç‚¹</span><br>                transformed_points = transformed_points.reshape(batch_size, img_size * img_size, num_steps, <span class="hljs-number">3</span>) <br>                <span class="hljs-comment"># ä» fancy_integration ä¸­è·å– weights æƒé‡ ç”¨æ¥è¿›è¡Œé‡è¦æ€§é‡‡æ ·ï¼ˆç²¾ç»†é‡‡æ ·ï¼‰ </span><br>                <br>                _, _, weights = fancy_integration(coarse_output, z_vals, device=self.device, <br>                                                  clamp_mode=kwargs[<span class="hljs-string">&#x27;clamp_mode&#x27;</span>], <br>                                                  noise_std=kwargs[<span class="hljs-string">&#x27;nerf_noise&#x27;</span>])<br>                weights = weights.reshape(batch_size * img_size * img_size, num_steps) + <span class="hljs-number">1e-5</span><br><br>                <span class="hljs-comment">#### Start new importance sampling é‡è¦æ€§é‡‡æ ·</span><br>                z_vals = z_vals.reshape(batch_size * img_size * img_size, num_steps)<br>                z_vals_mid = <span class="hljs-number">0.5</span> * (z_vals[: ,:-<span class="hljs-number">1</span>] + z_vals[: ,<span class="hljs-number">1</span>:])<br>                z_vals = z_vals.reshape(batch_size, img_size * img_size, num_steps, <span class="hljs-number">1</span>)<br>                <br>                fine_z_vals = sample_pdf(z_vals_mid, weights[:, <span class="hljs-number">1</span>:-<span class="hljs-number">1</span>],<br>                                 num_steps, det=<span class="hljs-literal">False</span>).detach()<br><br>                fine_z_vals = fine_z_vals.reshape(batch_size, img_size * img_size, num_steps, <span class="hljs-number">1</span>)<br><br>                <span class="hljs-comment"># fine_points.shape [batch_size, num_rays, num_steps, 3]</span><br><br>                fine_points = transformed_ray_origins.unsqueeze(<span class="hljs-number">2</span>).contiguous() + \<br>                    transformed_ray_directions.unsqueeze(<span class="hljs-number">2</span>).contiguous() * <br>                    fine_z_vals.expand(-<span class="hljs-number">1</span>,-<span class="hljs-number">1</span>,-<span class="hljs-number">1</span>,<span class="hljs-number">3</span>).contiguous()<br>                <span class="hljs-comment"># ç²¾ç»†ç½‘ç»œ é‡‡æ ·ç‚¹</span><br><br>                <span class="hljs-comment"># [batch_size, num_rays*num_steps, 3]</span><br>                fine_points = fine_points.reshape(batch_size, img_size*img_size*num_steps, <span class="hljs-number">3</span>) <br>                <br><br>                <span class="hljs-keyword">if</span> lock_view_dependence:<br>                    transformed_ray_directions_expanded = torch.zeros_like(transformed_ray_directions_expanded)<br>                    transformed_ray_directions_expanded[..., -<span class="hljs-number">1</span>] = -<span class="hljs-number">1</span><br>                <span class="hljs-comment">#### end new importance sampling</span><br><br>            <span class="hljs-comment"># Model prediction on re-sampled find points ç²¾ç»†é‡‡æ ·åçš„ç‚¹åœ¨è¿›è¡Œé¢„æµ‹</span><br>            <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">            è¾“å…¥ï¼šfine_points [batch_size, num_rays*num_steps, 3], z [batch_size, 246], </span><br><span class="hljs-string">                 ray_directions [batch_size, num_rays*num_steps, 3]</span><br><span class="hljs-string">            è¾“å‡ºï¼šfine_output [batch_size, num_rays, nums_steps, 4](rgb aplha)</span><br><span class="hljs-string">            &quot;&quot;&quot;</span><br>            fine_output = self.siren(fine_points, z, ray_directions=transformed_ray_directions_expanded)<br><span class="hljs-comment"># [batch_size, num_rays, num_steps, 4]</span><br>            fine_output = fine_output.reshape(batch_size, img_size * img_size, num_steps, <span class="hljs-number">4</span>) <br><br>            <span class="hljs-comment"># Combine course and fine points ç»„åˆç²—ç³™é‡‡æ ·å’Œç²¾ç»†é‡‡æ ·</span><br>            <span class="hljs-comment"># æœ€ç»ˆè¾“å‡ºï¼š all_z_vals all_outputs</span><br>            <br><span class="hljs-comment"># [batch_size, num_rays, num_steps*2, 4]</span><br>            all_outputs = torch.cat([fine_output, coarse_output], dim = -<span class="hljs-number">2</span>) <br><br>            all_z_vals = torch.cat([fine_z_vals, z_vals], dim = -<span class="hljs-number">2</span>) <span class="hljs-comment"># [batch_size, num_rays, num_steps*2, 1]</span><br>            <br>            _, indices = torch.sort(all_z_vals, dim=-<span class="hljs-number">2</span>)<br><br><br>            all_z_vals = torch.gather(all_z_vals, -<span class="hljs-number">2</span>, indices) <span class="hljs-comment"># [batch_size, num_rays, num_steps*2, 1]</span><br><br>            <span class="hljs-comment"># [batch_size, num_rays, num_steps*2, 4]</span><br>            all_outputs = torch.gather(all_outputs, -<span class="hljs-number">2</span>, indices.expand(-<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>, <span class="hljs-number">4</span>))<br>        <span class="hljs-keyword">else</span>:<br>            all_outputs = coarse_output<br><br>            all_z_vals_film = z_vals<br>            all_z_vals = z_vals<br><br><br>        <span class="hljs-comment"># Create images with NeRF </span><br>        <span class="hljs-comment"># ä½¿ç”¨ NeRF åˆ›å»ºå›¾åƒ</span><br>        <span class="hljs-comment"># è¾“å‡ºï¼šrgb [batch_size, num_rays, 3], depth [batch_size, num_rays, 1], </span><br>        <span class="hljs-comment">#      weight [batch_size, num_rays, num_stpes*2 1]</span><br><br>        pixels, depth, weights = fancy_integration(all_outputs, all_z_vals, device=self.device, <br>                                                   white_back=kwargs.get(<span class="hljs-string">&#x27;white_back&#x27;</span>, <span class="hljs-literal">False</span>), <br>                                                   last_back=kwargs.get(<span class="hljs-string">&#x27;last_back&#x27;</span>, <span class="hljs-literal">False</span>), <br>                                                   clamp_mode=kwargs[<span class="hljs-string">&#x27;clamp_mode&#x27;</span>], <br>                                                   noise_std=kwargs[<span class="hljs-string">&#x27;nerf_noise&#x27;</span>])<br>        <span class="hljs-comment">#  è¿˜åŸ pixels.shape: [batch_size, img_size, img_size, 3]</span><br>        <br>        pixels = pixels.reshape((batch_size, img_size, img_size, <span class="hljs-number">3</span>))<br>        pixels = pixels.permute(<span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>).contiguous() * <span class="hljs-number">2</span> - <span class="hljs-number">1</span> <span class="hljs-comment"># äº¤æ¢ç»´åº¦ [batch_size, 3, img_size, img_size]</span><br><br>        logging.info(<span class="hljs-string">f&quot;generators forward pixels.shape: <span class="hljs-subst">&#123;pixels.shape&#125;</span>&quot;</span>)<br>        <span class="hljs-comment"># pixels.shape: [batch_size, 3, img_size, img_size] pitch.shape: [batch_size, 1] yaw.shape: [batch_size, 1]</span><br>        <span class="hljs-keyword">return</span> pixels, torch.cat([pitch, yaw], -<span class="hljs-number">1</span>)<br></code></pre></td></tr></table></figure><h3 id="discriminators.py">4. discriminators.py</h3><ol type="1"><li>AddCoordsï¼šé¢å¤–æ·»åŠ åæ ‡çš„ä¿¡æ¯</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># è´Ÿè´£ä¸ºç»™å®šçš„ç‰¹å¾å›¾æ·»åŠ åæ ‡é€šé“</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">AddCoords</span>(nn.Module):    <br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    Source: https://github.com/mkocabas/CoordConv-pytorch/blob/master/CoordConv.py</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, with_r=<span class="hljs-literal">False</span></span>):<br>        <span class="hljs-built_in">super</span>().__init__()<br>        self.with_r = with_r<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, input_tensor</span>):  <span class="hljs-comment"># &lt;-- CoordConv</span><br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        Args:</span><br><span class="hljs-string">            input_tensor --&gt; x shape(batch, channel, img_size, img_size)</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        logging.info(<span class="hljs-string">f&quot;AddCoords input_tensor.shape: <span class="hljs-subst">&#123;input_tensor.shape&#125;</span>&quot;</span>)<br>        batch_size, _, x_dim, y_dim = input_tensor.size()<br><br>        <span class="hljs-comment"># ç”Ÿæˆx, y åæ ‡ç½‘æ ¼</span><br>        xx_channel = torch.arange(x_dim).repeat(<span class="hljs-number">1</span>, y_dim, <span class="hljs-number">1</span>)   <span class="hljs-comment"># [1, img_size, img_size]  </span><br>        yy_channel = torch.arange(y_dim).repeat(<span class="hljs-number">1</span>, x_dim, <span class="hljs-number">1</span>).transpose(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)   <span class="hljs-comment"># [1, img_size, img_size]  </span><br><br>        <span class="hljs-comment"># å½’ä¸€åŒ– [0, 1]</span><br>        xx_channel = xx_channel.<span class="hljs-built_in">float</span>() / (x_dim - <span class="hljs-number">1</span>) <br>        yy_channel = yy_channel.<span class="hljs-built_in">float</span>() / (y_dim - <span class="hljs-number">1</span>)<br><br>        <span class="hljs-comment"># xx_channel: shape(1, img_size, img_size)</span><br>        <span class="hljs-comment"># æ˜ å°„åˆ° [-1, 1]</span><br>        xx_channel = xx_channel * <span class="hljs-number">2</span> - <span class="hljs-number">1</span><br>        yy_channel = yy_channel * <span class="hljs-number">2</span> - <span class="hljs-number">1</span><br><br>        <span class="hljs-comment"># shape: (batch_size, 1, img_size, img_size)</span><br>        xx_channel = xx_channel.repeat(batch_size, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>).transpose(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>)<br>        yy_channel = yy_channel.repeat(batch_size, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>).transpose(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>)<br><br>        ret = torch.cat([<br>            input_tensor,<br>            xx_channel.type_as(input_tensor),<br>            yy_channel.type_as(input_tensor)], dim=<span class="hljs-number">1</span>)<br><br>        <span class="hljs-keyword">if</span> self.with_r:<br>            rr = torch.sqrt(torch.<span class="hljs-built_in">pow</span>(xx_channel.type_as(input_tensor) - <span class="hljs-number">0.5</span>, <span class="hljs-number">2</span>) + <br>                            torch.<span class="hljs-built_in">pow</span>(yy_channel.type_as(input_tensor) - <span class="hljs-number">0.5</span>, <span class="hljs-number">2</span>))<br>            ret = torch.cat([ret, rr], dim=<span class="hljs-number">1</span>)<br>        <br>        <span class="hljs-comment"># ret.shape: [batch_size, channel + (x, y), img_size, img_size] channel --&gt; 256</span><br>        <span class="hljs-keyword">return</span> ret<br></code></pre></td></tr></table></figure><ol start="2" type="1"><li>ProgressiveDiscriminatorï¼šä½¿ç”¨æ¸è¿›å¼è¾¨åˆ«å™¨</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># æ¸è¿›å¼å¢é•¿åˆ¤åˆ«å™¨</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">ProgressiveDiscriminator</span>(nn.Module):<br>    <span class="hljs-string">&quot;&quot;&quot;Implement of a progressive growing discriminator with ResidualCoordConv Blocks&quot;&quot;&quot;</span><br>    <span class="hljs-string">&quot;&quot;&quot; æ¯æ¬¡å¢åŠ æ–°çš„åˆ†è¾¨ç‡çº§åˆ«æ—¶ï¼Œä¼šå¢åŠ æ–°çš„ ResidualCoordConvBlock &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, **kwargs</span>):<br>        <span class="hljs-built_in">super</span>().__init__()<br>        self.epoch = <span class="hljs-number">0</span><br>        self.step = <span class="hljs-number">0</span><br>        self.layers = nn.ModuleList(<br>        [<br>            <span class="hljs-comment"># inplane plane downsample</span><br>            ResidualCoordConvBlock(<span class="hljs-number">16</span>, <span class="hljs-number">32</span>, downsample=<span class="hljs-literal">True</span>),   <span class="hljs-comment"># 512x512 -&gt; 256x256 # æ¯å±‚æœ‰ä¸¤å±‚çš„CoordConv</span><br>            ResidualCoordConvBlock(<span class="hljs-number">32</span>, <span class="hljs-number">64</span>, downsample=<span class="hljs-literal">True</span>),   <span class="hljs-comment"># 256x256 -&gt; 128x128</span><br>            ResidualCoordConvBlock(<span class="hljs-number">64</span>, <span class="hljs-number">128</span>, downsample=<span class="hljs-literal">True</span>),  <span class="hljs-comment"># 128x128 -&gt; 64x64</span><br>            ResidualCoordConvBlock(<span class="hljs-number">128</span>, <span class="hljs-number">256</span>, downsample=<span class="hljs-literal">True</span>), <span class="hljs-comment"># 64x64   -&gt; 32x32</span><br>            ResidualCoordConvBlock(<span class="hljs-number">256</span>, <span class="hljs-number">400</span>, downsample=<span class="hljs-literal">True</span>), <span class="hljs-comment"># 32x32   -&gt; 16x16</span><br>            ResidualCoordConvBlock(<span class="hljs-number">400</span>, <span class="hljs-number">400</span>, downsample=<span class="hljs-literal">True</span>), <span class="hljs-comment"># 16x16   -&gt; 8x8</span><br>            ResidualCoordConvBlock(<span class="hljs-number">400</span>, <span class="hljs-number">400</span>, downsample=<span class="hljs-literal">True</span>), <span class="hljs-comment"># 8x8     -&gt; 4x4</span><br>            ResidualCoordConvBlock(<span class="hljs-number">400</span>, <span class="hljs-number">400</span>, downsample=<span class="hljs-literal">True</span>), <span class="hljs-comment"># 4x4     -&gt; 2x2</span><br>        ])<br><br>        self.fromRGB = nn.ModuleList(<br>        [<br>            <span class="hljs-comment"># output_channels</span><br>            AdapterBlock(<span class="hljs-number">16</span>),<br>            AdapterBlock(<span class="hljs-number">32</span>),<br>            AdapterBlock(<span class="hljs-number">64</span>),<br>            AdapterBlock(<span class="hljs-number">128</span>),<br>            AdapterBlock(<span class="hljs-number">256</span>),<br>            AdapterBlock(<span class="hljs-number">400</span>),<br>            AdapterBlock(<span class="hljs-number">400</span>),<br>            AdapterBlock(<span class="hljs-number">400</span>),<br>            AdapterBlock(<span class="hljs-number">400</span>)<br>        ])<br>        self.final_layer = nn.Conv2d(<span class="hljs-number">400</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<br>        self.img_size_to_layer = &#123;<span class="hljs-number">2</span>:<span class="hljs-number">8</span>, <span class="hljs-number">4</span>:<span class="hljs-number">7</span>, <span class="hljs-number">8</span>:<span class="hljs-number">6</span>, <span class="hljs-number">16</span>:<span class="hljs-number">5</span>, <span class="hljs-number">32</span>:<span class="hljs-number">4</span>, <span class="hljs-number">64</span>:<span class="hljs-number">3</span>, <span class="hljs-number">128</span>:<span class="hljs-number">2</span>, <span class="hljs-number">256</span>:<span class="hljs-number">1</span>, <span class="hljs-number">512</span>:<span class="hljs-number">0</span>&#125;<br><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, <span class="hljs-built_in">input</span>, alpha, instance_noise=<span class="hljs-number">0</span>, **kwargs</span>):<br>        start = self.img_size_to_layer[<span class="hljs-built_in">input</span>.shape[-<span class="hljs-number">1</span>]]<br>        logging.info(<span class="hljs-string">f&quot;ProgressiveDiscriminator input.shape: <span class="hljs-subst">&#123;<span class="hljs-built_in">input</span>.shape&#125;</span>&quot;</span>)<br>        x = self.fromRGB[start](<span class="hljs-built_in">input</span>)<br>        logging.info(<span class="hljs-string">f&quot;ProgressiveDiscriminator x.shape: <span class="hljs-subst">&#123;x.shape&#125;</span>&quot;</span>)<br>        <span class="hljs-keyword">for</span> i, layer <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(self.layers[start:]):<br>            <span class="hljs-keyword">if</span> i == <span class="hljs-number">1</span>:<br>                <span class="hljs-comment"># æ”¹å˜è¾“å…¥æ•°æ®çš„å°ºå¯¸</span><br>                x = alpha * x + (<span class="hljs-number">1</span> - alpha) * self.fromRGB[start+<span class="hljs-number">1</span>](F.interpolate(<span class="hljs-built_in">input</span>, scale_factor=<span class="hljs-number">0.5</span>, <br>                                                                                  mode=<span class="hljs-string">&#x27;nearest&#x27;</span>)) <br>            x = layer(x)<br><br>        x = self.final_layer(x).reshape(x.shape[<span class="hljs-number">0</span>], <span class="hljs-number">1</span>)<br>        logging.info(<span class="hljs-string">f&quot;ProgressiveDiscriminator x_output.shape: <span class="hljs-subst">&#123;x.shape&#125;</span>&quot;</span>)    <br><br>        <span class="hljs-keyword">return</span> x<br></code></pre></td></tr></table></figure><h3 id="volumetirc_rendering.py">5. volumetirc_rendering.py</h3><ol type="1"><li>fancy_integration()ï¼šé¢„æµ‹å‡ºæ¥çš„rgb ç”Ÿæˆæœ€ç»ˆçš„å›¾åƒ</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">fancy_integration</span>(<span class="hljs-params">rgb_sigma, z_vals, device, noise_std=<span class="hljs-number">0.5</span>, last_back=<span class="hljs-literal">False</span>, white_back=<span class="hljs-literal">False</span>, clamp_mode=<span class="hljs-literal">None</span>, fill_mode=<span class="hljs-literal">None</span></span>):<br>    <span class="hljs-string">&quot;&quot;&quot;Performs NeRF volumetric rendering.&quot;&quot;&quot;</span><br>    <span class="hljs-comment"># rgb_sigma.shape: [batch_size, num_rays, num_steps, 4]</span><br>    <span class="hljs-comment"># z_vals.shape: [batch_size, num_rays, num_steps, 1]</span><br><br>    <span class="hljs-comment"># rgb_sigma ç”±sirenç½‘ç»œè®­ç»ƒå¾—åˆ°</span><br>    rgbs = rgb_sigma[..., :<span class="hljs-number">3</span>]   <span class="hljs-comment"># rgb [batch_size, num_rays, num_steps, 3]</span><br>    sigmas = rgb_sigma[..., <span class="hljs-number">3</span>:] <span class="hljs-comment"># sigma [batch_size, num_rays, num_steps, 1]</span><br><br>    <span class="hljs-comment"># deltas ä¸¤ä¸ªé‡‡æ ·ç‚¹ä¹‹é—´çš„è·ç¦» d</span><br>    deltas = z_vals[:, :, <span class="hljs-number">1</span>:] - z_vals[:, :, :-<span class="hljs-number">1</span>] <span class="hljs-comment"># æ¯ä¸¤ä¸ªé‡‡æ ·ç‚¹ä¹‹é—´çš„è·ç¦»</span><br>    delta_inf = <span class="hljs-number">1e10</span> * torch.ones_like(deltas[:, :, :<span class="hljs-number">1</span>]) <span class="hljs-comment"># è¿œå¹³é¢ æ— ç©·è¿œå¤„</span><br>    deltas = torch.cat([deltas, delta_inf], -<span class="hljs-number">2</span>)<br><br>    noise = torch.randn(sigmas.shape, device=device) * noise_std <span class="hljs-comment"># éšæœºå™ªå£° [batch_size, num_rays, num_steps, 1]</span><br><br>    <span class="hljs-comment"># è®¡ç®— alpha</span><br>    <span class="hljs-keyword">if</span> clamp_mode == <span class="hljs-string">&#x27;softplus&#x27;</span>:<br>        alphas = <span class="hljs-number">1</span>-torch.exp(-deltas * (F.softplus(sigmas + noise)))<br>    <span class="hljs-keyword">elif</span> clamp_mode == <span class="hljs-string">&#x27;relu&#x27;</span>:<br>        alphas = <span class="hljs-number">1</span> - torch.exp(-deltas * (F.relu(sigmas + noise)))<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">raise</span> <span class="hljs-string">&quot;Need to choose clamp mode&quot;</span><br><br>    alphas_shifted = torch.cat([torch.ones_like(alphas[:, :, :<span class="hljs-number">1</span>]), <span class="hljs-number">1</span>-alphas + <span class="hljs-number">1e-10</span>], -<span class="hljs-number">2</span>)<br>    <br>    <span class="hljs-comment"># è®¡ç®— NeRF ä¸­çš„ transmittance weights = aplhas * T_i ä½“æ¸²æŸ“å…¬å¼</span><br>    weights = alphas * torch.cumprod(alphas_shifted, -<span class="hljs-number">2</span>)[:, :, :-<span class="hljs-number">1</span>] <span class="hljs-comment"># [batch_size, num_rays, num_steps, 1]</span><br>    weights_sum = weights.<span class="hljs-built_in">sum</span>(<span class="hljs-number">2</span>) <span class="hljs-comment"># [batch_size, num_rays, 1] æ¯æ¡å°„çº¿çš„æƒé‡å’Œ</span><br><br>    <span class="hljs-keyword">if</span> last_back:<br>        weights[:, :, -<span class="hljs-number">1</span>] += (<span class="hljs-number">1</span> - weights_sum)<br><br>    rgb_final = torch.<span class="hljs-built_in">sum</span>(weights * rgbs, -<span class="hljs-number">2</span>) <span class="hljs-comment"># [batch_size, num_rays, 3] æœ€ç»ˆé¢„æµ‹å‡ºæ¥çš„rgb</span><br>    depth_final = torch.<span class="hljs-built_in">sum</span>(weights * z_vals, -<span class="hljs-number">2</span>) <span class="hljs-comment"># [batch_size, num_rays, 1] æœ€ç»ˆé¢„æµ‹å‡ºæ¥çš„æ·±åº¦</span><br><br>    <span class="hljs-keyword">if</span> white_back:<br>        rgb_final = rgb_final + <span class="hljs-number">1</span>-weights_sum<br><br>    <span class="hljs-keyword">if</span> fill_mode == <span class="hljs-string">&#x27;debug&#x27;</span>:<br>        rgb_final[weights_sum.squeeze(-<span class="hljs-number">1</span>) &lt; <span class="hljs-number">0.9</span>] = torch.tensor([<span class="hljs-number">1.</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>], device=rgb_final.device)<br>    <span class="hljs-keyword">elif</span> fill_mode == <span class="hljs-string">&#x27;weight&#x27;</span>:<br>        rgb_final = weights_sum.expand_as(rgb_final)<br><br>    logging.info(<span class="hljs-string">f&quot;fancy_integration output rgb_final.shape: <span class="hljs-subst">&#123;rgb_final.shape&#125;</span>&quot;</span>)<br><br>    <span class="hljs-comment"># æœ€ç»ˆé¢„æµ‹å‡ºæ¥çš„rgb ç”Ÿæˆæœ€ç»ˆçš„å›¾åƒ</span><br>    <span class="hljs-keyword">return</span> rgb_final, depth_final, weights<br></code></pre></td></tr></table></figure><ol start="2" type="1"><li>get_initial_rays_trig()ï¼šè¾“å‡ºé‡‡æ ·ç‚¹ï¼Œé‡‡æ ·é—´éš”ï¼Œç›¸æœºå°„çº¿æ–¹å‘</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_initial_rays_trig</span>(<span class="hljs-params">n, num_steps, device, fov, resolution, ray_start, ray_end</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;Returns sample points, z_vals, and ray directions in camera space.&quot;&quot;&quot;</span><br>    <span class="hljs-string">&quot;&quot;&quot; return: è¿”å›ç›¸æœºç©ºé—´ä¸­çš„é‡‡æ ·ç‚¹ï¼Œz_vals(æ·±åº¦)å’Œå…‰çº¿æ–¹å‘ã€‚</span><br><span class="hljs-string">        ray_start: è¿‘å¹³é¢</span><br><span class="hljs-string">        ray_end: è¿œå¹³é¢</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br><br>    W, H = resolution <span class="hljs-comment"># (img_size, img_size)</span><br>    <span class="hljs-comment"># Create full screen NDC (-1 to +1) coords [x, y, 0, 1].</span><br>    <span class="hljs-comment"># Y is flipped to follow image memory layouts.</span><br>    x, y = torch.meshgrid(torch.linspace(-<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, W, device=device),  <span class="hljs-comment"># (W, H)</span><br>                          torch.linspace(<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>, H, device=device))<br>    x = x.T.flatten() <span class="hljs-comment"># (H*W,) é“ºå¹³</span><br>    y = y.T.flatten()<br>    z = -torch.ones_like(x, device=device) / np.tan((<span class="hljs-number">2</span> * math.pi * fov / <span class="hljs-number">360</span>)/<span class="hljs-number">2</span>) <span class="hljs-comment"># (H*W,) é€è§†æŠ•å½±</span><br><br>    <span class="hljs-comment"># å°„çº¿æ–¹å‘</span><br>    rays_d_cam = normalize_vecs(torch.stack([x, y, z], -<span class="hljs-number">1</span>)) <span class="hljs-comment"># (H*W, 3)</span><br><br><span class="hljs-comment"># (H*W, num_steps, 1)</span><br>    z_vals = torch.linspace(ray_start, ray_end, num_steps, device=device).reshape(<span class="hljs-number">1</span>, num_steps, <span class="hljs-number">1</span>).repeat(W*H, <span class="hljs-number">1</span>, <br>                                                                                                          <span class="hljs-number">1</span>) <br>    points = rays_d_cam.unsqueeze(<span class="hljs-number">1</span>).repeat(<span class="hljs-number">1</span>, num_steps, <span class="hljs-number">1</span>) * z_vals <span class="hljs-comment"># (H*W, num_steps, 3)</span><br><br>    points = torch.stack(n*[points]) <span class="hljs-comment"># (n, H*W, num_steps, 3) n --&gt; batch_size // batch_split</span><br>    z_vals = torch.stack(n*[z_vals])<br>    rays_d_cam = torch.stack(n*[rays_d_cam]).to(device) <span class="hljs-comment"># (n, H*W, 3)</span><br><br>    logging.info(<span class="hljs-string">f&quot;get_initial_rays_trig&#x27;s points.shape: <span class="hljs-subst">&#123;points.shape&#125;</span>, rays_d_cam.shape: <span class="hljs-subst">&#123;rays_d_cam.shape&#125;</span>&quot;</span>)<br><br>    <span class="hljs-keyword">return</span> points, z_vals, rays_d_cam  <span class="hljs-comment">#<span class="hljs-doctag">TODO:</span> debug these dimensions </span><br></code></pre></td></tr></table></figure><ol start="3" type="1"><li>transform_sampled_points()ï¼šé‡‡æ ·ç›¸æœºä½ç½®å¹¶å°†ç›¸æœºç©ºé—´ä¸­çš„ç‚¹æ˜ å°„åˆ°ä¸–ç•Œç©ºé—´</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">transform_sampled_points</span>(<span class="hljs-params">points, z_vals, ray_directions, device, h_stddev=<span class="hljs-number">1</span>, v_stddev=<span class="hljs-number">1</span>, h_mean=math.pi * <span class="hljs-number">0.5</span>, </span><br><span class="hljs-params">                             v_mean=math.pi * <span class="hljs-number">0.5</span>, mode=<span class="hljs-string">&#x27;normal&#x27;</span></span>):<br>    <span class="hljs-string">&quot;&quot;&quot;Samples a camera position and maps points in camera space to world space.&quot;&quot;&quot;</span><br>    <span class="hljs-string">&quot;&quot;&quot; é‡‡æ ·ç›¸æœºä½ç½®å¹¶å°†ç›¸æœºç©ºé—´ä¸­çš„ç‚¹æ˜ å°„åˆ°ä¸–ç•Œç©ºé—´ã€‚ &quot;&quot;&quot;</span><br>    <span class="hljs-comment"># n --&gt; batch_size, num_rays --&gt; H*W(pixels), num_steps --&gt; num_samples</span><br>    n, num_rays, num_steps, channels = points.shape <span class="hljs-comment"># input points.shape: [batch_size, num_rays, num_steps, 3]</span><br><br>    <span class="hljs-comment"># <span class="hljs-doctag">TODO:</span> the points&#x27;s dims</span><br>    points, z_vals = perturb_points(points, z_vals, ray_directions, device)<br><br>    <span class="hljs-comment"># è·å–ç›¸æœºåŸç‚¹ï¼Œæ°´å¹³è§’å’Œä»°è§†è§’ camera_origin.shape: [batch_size, 3], </span><br>    <span class="hljs-comment"># pitch.shape: [batch_size, 1], yaw.shape: [batch_size, 1]</span><br>    camera_origin, pitch, yaw = sample_camera_positions(n=points.shape[<span class="hljs-number">0</span>], r=<span class="hljs-number">1</span>, horizontal_stddev=h_stddev, <br>                                                        vertical_stddev=v_stddev, <br>                                                        horizontal_mean=h_mean, vertical_mean=v_mean, <br>                                                        device=device, mode=mode)<br>    forward_vector = normalize_vecs(-camera_origin)<br><br>    cam2world_matrix = create_cam2world_matrix(forward_vector, camera_origin, device=device)<br><br>    points_homogeneous = torch.ones((points.shape[<span class="hljs-number">0</span>], points.shape[<span class="hljs-number">1</span>], points.shape[<span class="hljs-number">2</span>], points.shape[<span class="hljs-number">3</span>] + <span class="hljs-number">1</span>), <br>                                    device=device)<br>    points_homogeneous[:, :, :, :<span class="hljs-number">3</span>] = points <span class="hljs-comment"># (n, num_rays, num_steps, 4)</span><br><br>    <span class="hljs-comment"># should be n x 4 x 4 , n x r^2 x num_steps x 4 (é‡‡æ ·ç‚¹)</span><br>    transformed_points = torch.bmm(cam2world_matrix, <span class="hljs-comment"># (n, num_rays, num_steps, 4)</span><br>                                   points_homogeneous.reshape(n, -<span class="hljs-number">1</span>, <span class="hljs-number">4</span>).permute(<span class="hljs-number">0</span>,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>)).permute(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <br>                                   <span class="hljs-number">1</span>).reshape(n, num_rays, num_steps, <span class="hljs-number">4</span>)<br><br>    <span class="hljs-comment"># æ²¡æœ‰ä½¿ç”¨é½æ¬¡åæ ‡(å‘é‡çš„å¹³ç§»ä¸å˜æ€§) å°„çº¿æ–¹å‘</span><br>    transformed_ray_directions = torch.bmm(cam2world_matrix[..., :<span class="hljs-number">3</span>, :<span class="hljs-number">3</span>],  <span class="hljs-comment"># (n, num_rays, 3(x,y,z))</span><br>                                           ray_directions.reshape(n, -<span class="hljs-number">1</span>, <span class="hljs-number">3</span>).permute(<span class="hljs-number">0</span>,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>)).permute(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>,<span class="hljs-number">1</span>)<br>    .reshape(n, num_rays, <span class="hljs-number">3</span>)<br><br>    <span class="hljs-comment"># ç‚¹éœ€è¦å¹³ç§»ï¼Œå…ˆè½¬æ¢æˆé½æ¬¡åæ ‡å†ä½œc2m åŸç‚¹</span><br>    homogeneous_origins = torch.zeros((n, <span class="hljs-number">4</span>, num_rays), device=device) <span class="hljs-comment"># (n, 4, num_rays)</span><br>    homogeneous_origins[:, <span class="hljs-number">3</span>, :] = <span class="hljs-number">1</span><br>    transformed_ray_origins = torch.bmm(cam2world_matrix, homogeneous_origins).permute(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>)<br>    .reshape(n, num_rays, <span class="hljs-number">4</span>)[..., :<span class="hljs-number">3</span>] <span class="hljs-comment"># (n, num_rays, 3(x,y,z)))</span><br><br>    <span class="hljs-comment"># è¿”å›è½¬æ¢ä¹‹åçš„é‡‡æ ·ç‚¹ï¼Œæ·±åº¦ï¼Œå…‰çº¿æ–¹å‘ï¼Œç›¸æœºåŸç‚¹ï¼Œä»°è§†è§’ï¼Œæ°´å¹³è§’</span><br>    <span class="hljs-keyword">return</span> transformed_points[..., :<span class="hljs-number">3</span>], z_vals, transformed_ray_directions, transformed_ray_origins, pitch, yaw<br></code></pre></td></tr></table></figure><p class="note note-primary">ğŸ‘‰ è¯¦ç»†ä»£ç ä¸æ³¨é‡Šï¼šhttps://github.com/SeulQxQ/pi-GAN-read</p>]]></content>
    
    
    <categories>
      
      <category>æºç è§£è¯»</category>
      
    </categories>
    
    
    <tags>
      
      <tag>3D GAN</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ¯å‘¨æ€»ç»“ -- å¿ƒå¹³æ°”å’Œï¼Œä¸æ€¥ä¸èº</title>
    <link href="/posts/6012/"/>
    <url>/posts/6012/</url>
    
    <content type="html"><![CDATA[<div align = "center"><H3>æ€»ç»“ &amp; åæ€</div><p><strong>æ—¶é—´ï¼š2023.12.25-2023.12.31</strong></p><p>â€‹çœŸæ˜¯ä¸å¥½çš„å¼€å¤´å“‡ï¼Œè°èƒ½æƒ³åˆ°è¿™è¯¥æ­»çš„æœåŠ¡å™¨è¦è£…è¿™ä¹ˆä¹…å•Šï¼Œå¥”æºƒäº†â”­â”®ï¹â”­â”®ï¼Œè£…äº†æˆ‘ä¸¤å¤©æ‰å¼„å¥½ï¼Œå®³ã€‚è¿™å‘¨å‰ä¸¤å¤©å…¨æµªè´¹äº†ï¼Œè£…ç©æœåŠ¡å™¨å°±å…¨ç”¨æ¥æ‰“æ¸¸æˆäº†ã€‚åé¢å‡ å¤©è¿˜å¥½å­¦äº†ç‚¹ï¼Œæƒ³äº†å‡ ä¸ªå®éªŒçš„ç‚¹å­ï¼ŒåŠ åˆ°<code>pi-GAN</code>ä¸Šå»äº†ï¼Œç­‰å¾…å®ƒçš„ç»“æœå­ï¼Œè¯´å®è¯æœ‰ç‚¹ä¸æƒ³å¼„äº†ã€‚ã€‚ã€‚è¿™å‘¨é™¤äº†åˆ·é¢˜ï¼Œå‰©ä¸‹çš„æ—¶é—´å¥½åƒå…¨ç”¨æ¥çœ‹é‚£ä¸ª<code>Mip-NeRF</code>çš„ä»£ç äº†ï¼Œæœ‰ç‚¹éš¾çœ‹æ‡‚ï¼Œè€Œä¸”æˆ‘è¿˜éšçº¦æ„Ÿè§‰è¿™ä¸ªæ¨¡å—æ²¡å•¥ç”¨ã€‚</p><p>â€‹è¿™å‘¨æˆ‘çš„å¸ˆå§è¿˜ç»™æˆ‘ç®—äº†ä¸€ä¸‹å‘½ï¼Œå“ˆå“ˆå“ˆã€‚è¯´æˆ‘ä»Šå¹´æœ‰ç‚¹æ¡ƒèŠ±ï¼Œéš¾æ€ªè¿™æ®µæ—¶é—´é‡åˆ°è¿™ä¹ˆå¤šæ„Ÿæƒ…ä¸Šçš„äº‹æƒ…ï¼Œåˆæ˜¯å­¦å¦¹ï¼Œåˆæ˜¯é«˜ä¸­ç™½æœˆå…‰ï¼Œè¿™å‘¨æœ«è¿˜æœ‰ä¸€ä¸ªå¤§å­¦åŒå­¦è¦æ¥æ‰¾æˆ‘ç©ï¼Œç¡®å®æ˜¯æœ‰ç‚¹ï¼ˆä½†æ˜¯å…¨æ˜¯æ¡ƒèŠ±åŠ«ï¼Œç¬‘æ­»ï¼‰ã€‚è¿™å‘¨æ˜¯2023å¹´çš„æœ€åä¸€å‘¨äº†å“ˆï¼Œå›æƒ³ä¸€ä¸‹ä»Šå¹´å¥½åƒå¹¶æ²¡æœ‰å¹²ä»€ä¹ˆäº‹æƒ…ï¼Œä»ç ”ä¸€ä¸‹å­¦æœŸå¼€å­¦ç®—èµ·ï¼Œå¥½åƒå°±å‰åŠå­¦æœŸæœ‰å¥½å¥½å­¦ä¹ ï¼Œçœ‹äº†ä¸€äº›è®ºæ–‡ï¼Œå†™äº†ä¸€ä¸ªä¸“åˆ©ï¼ˆä½†æ˜¯å¸ˆå…„ä¸è®©æˆ‘å‘ï¼Œæ°”æ­»æˆ‘äº†ï¼‰ï¼Œç„¶åååŠå­¦æœŸå°±æ²¡å¹²å•¥äº†ã€‚æš‘å‡å›å»å°±è€ƒäº†ä¸€ä¸ªç§‘ä¸€ï¼ˆè¿™ä¸ªçœŸæ˜¯è£‚å¼€äº†ï¼Œå¤±ç®—äº†ï¼Œå®³ï¼‰ã€‚ç ”äºŒå¼€å­¦å€’ä¹Ÿçœ‹äº†ç‚¹è®ºæ–‡ï¼Œå­¦äº†ç‚¹ä¸œè¥¿ï¼Œä½†æ˜¯å¤§éƒ¨åˆ†æ—¶é—´å¥½åƒéƒ½èŠ±åœ¨å­¦å¦¹èº«ä¸Šäº†ï¼Œå“ˆå“ˆå“ˆå“ˆï¼Œé­”å¹»çš„ä¸€å­¦æœŸï¼Œä½†æ˜¯å‰ä¸¤ä¸‰ä¸ªæœˆç¡®å®æ˜¯å®å®åœ¨åœ¨åœ°æŒºå¼€å¿ƒçš„ã€‚</p><p>â€‹å¥½çš„ï¼Œå›å½’åˆ°è¿™å‘¨æ¥ï¼Œå‘¨æœ«å¤§éƒ¨åˆ†æ—¶é—´éƒ½é…æˆ‘å¤§å­¦åŒå­¦å»é€›å»äº†ï¼Œä¹Ÿä¸çŸ¥é“ä¸ºä»€ä¹ˆå¥¹çªç„¶ä¼šæ¥åˆ°å¹¿å·ç©è€ã€‚è¯¥é™ªçš„è¿˜æ˜¯å¾—é™ªçš„ï¼Œè®©äººå®¶ä¸€ä¸ªå¥³å­©å­å¤§è€è¿œçš„ä¸€ä¸ªäººè·‘è¿‡æ¥ï¼Œä¸€ä¸ªäººç©ç¡®å®ä¹Ÿä¸æ˜¯å¾ˆå¥½æ„æ€ã€‚å°±é™ªç€å¥¹ç©äº†ä¸¤å¤©ï¼Œæˆ–è®¸æ˜¯æˆ‘çš„é”™è§‰ï¼Œæœ‰é‚£ä¹ˆä¸€ç‚¹ç‚¹æ„Ÿè§‰åˆ°å¥¹å¯¹æˆ‘æœ‰ç‚¹æ„æ€ï¼Œä½†æ˜¯åªèƒ½è¯´ä¸€å¥æŠ±æ­‰äº†ï¼Œæˆ‘ç°åœ¨è¿™ä¸ªæ ·å­ç¡®å®ä¸é€‚åˆæ‹çˆ±ï¼Œç°åœ¨çš„æˆ‘å·²ç»è¿›å…¥äº†ä¸€ç§è´¤è€…çš„çŠ¶æ€äº†ï¼Œå¯¹ä»€ä¹ˆä¸œè¥¿éƒ½æä¸èµ·å…´è¶£ï¼ˆå®³ï¼‰ã€‚å¸Œæœ›å¥¹èƒ½å¤Ÿæ‰¾åˆ°ä¸€ä¸ªè®©å¥¹å¼€å¿ƒã€å¹¸ç¦çš„ç”·ç”Ÿå“‡ï¼Œè¿™ä¹ˆå¥½çš„ä¸€ä¸ªå¥³å­©å­ï¼Œå€¼å¾—ä¸€ä¸ªæ›´å¥½çš„ç”·ç”Ÿæ¥ç…§é¡¾å¥¹ã€‚å¥½çš„ï¼Œè¿™å‘¨å°±åˆ°è¿™å’¯ï¼Œä»Šå¹´ä¹Ÿå°±åˆ°è¿™å•¦ã€‚æ–°å¹´å¿«ä¹å“‡ï¼Œæ–°çš„ä¸€å¹´ä¹Ÿè¦å¤©å¤©å¼€å¿ƒï¼Œç»§ç»­åŠªåŠ›ãƒ¾(â—Â°âˆ‡Â°â—)ï¾‰ï¾ï¼ï¼ï¼</p><p><strong>å¿ƒå¹³æ°”å’Œï¼Œä¸æ€¥ä¸èº</strong></p>]]></content>
    
    
    <categories>
      
      <category>æ¯å‘¨å›é¡¾</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ€»ç»“&amp;åæ€</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å°è®ºæ–‡å®éªŒç»“æœ</title>
    <link href="/posts/64309/"/>
    <url>/posts/64309/</url>
    
    <content type="html"><![CDATA[<h4 id="è¡¨æ ¼-1-carlaæ•°æ®é›†-fid-å¯¹æ¯”">è¡¨æ ¼ 1ï¼š CARLAæ•°æ®é›† FID å¯¹æ¯”</h4><table><thead><tr class="header"><th style="text-align: center;">æ”¹è¿›æ–¹æ³•</th><th style="text-align: center;">å›¾åƒå¤§å°ï¼š32*32</th><th style="text-align: center;">å›¾åƒå¤§å°ï¼š64*64</th><th style="text-align: center;">å›¾åƒå¤§å°ï¼š128*128</th><th style="text-align: center;">å›¾åƒå¤§å°ï¼š256*256</th><th>æ‰€ç”¨æ—¶é—´</th></tr></thead><tbody><tr class="odd"><td style="text-align: center;">åŸå§‹ pi-GAN</td><td style="text-align: center;">8å±‚ï¼š67.0546</td><td style="text-align: center;">8å±‚ï¼š28.2993</td><td style="text-align: center;">8å±‚ï¼š22.5844(22.5183)</td><td style="text-align: center;"></td><td>6d 16h 40m 45s</td></tr><tr class="even"><td style="text-align: center;">ç”Ÿæˆå™¨é‡‡ç”¨æ¸è¿›å¼</td><td style="text-align: center;">6å±‚ï¼š65.8039</td><td style="text-align: center;">7å±‚ï¼š26.9490</td><td style="text-align: center;">8å±‚ï¼š23.5520(22.5516)</td><td style="text-align: center;"></td><td>5d 17h 08m 41s</td></tr><tr class="odd"><td style="text-align: center;">ç”Ÿæˆå™¨é‡‡ç”¨æ¸è¿›å¼</td><td style="text-align: center;">5å±‚ï¼š81.9882</td><td style="text-align: center;">6å±‚ï¼š33.0013</td><td style="text-align: center;">7å±‚ï¼š24.3084(22.9033)</td><td style="text-align: center;"></td><td>5d 6h 18m 8s</td></tr><tr class="even"><td style="text-align: center;">æ¸è¿›å¼+4å±‚mapping</td><td style="text-align: center;">6å±‚ï¼š</td><td style="text-align: center;">7å±‚ï¼š</td><td style="text-align: center;">8å±‚ï¼š</td><td style="text-align: center;"></td><td></td></tr></tbody></table><h4 id="è¡¨æ ¼-2celebaæ•°æ®é›†-fid-å¯¹æ¯”">è¡¨æ ¼ 2ï¼šCelebAæ•°æ®é›† FID å¯¹æ¯”</h4><table><thead><tr class="header"><th style="text-align: center;">æ”¹è¿›æ–¹æ³•</th><th style="text-align: center;">å›¾åƒå¤§å°ï¼š32*32</th><th style="text-align: center;">å›¾åƒå¤§å°ï¼š64*64</th><th style="text-align: center;">å›¾åƒå¤§å°ï¼š128*128</th><th style="text-align: center;">å›¾åƒå¤§å°ï¼š256*256</th><th>æ‰€ç”¨æ—¶é—´</th></tr></thead><tbody><tr class="odd"><td style="text-align: center;">åŸå§‹ pi-GAN</td><td style="text-align: center;">46.0439</td><td style="text-align: center;">23.4342</td><td style="text-align: center;">25.2026(24.7541)</td><td style="text-align: center;"></td><td></td></tr><tr class="even"><td style="text-align: center;">4å±‚mapping</td><td style="text-align: center;">48.3732</td><td style="text-align: center;">21.7708</td><td style="text-align: center;">26.4395(25.6343)</td><td style="text-align: center;"></td><td></td></tr><tr class="odd"><td style="text-align: center;">4å±‚mapping+æ¸è¿›å¼</td><td style="text-align: center;">6å±‚ï¼š50.7096</td><td style="text-align: center;">7å±‚ï¼š22.2125</td><td style="text-align: center;">8å±‚ï¼š27.2701(26.9076)</td><td style="text-align: center;"></td><td></td></tr><tr class="even"><td style="text-align: center;"></td><td style="text-align: center;"></td><td style="text-align: center;"></td><td style="text-align: center;"></td><td style="text-align: center;"></td><td></td></tr><tr class="odd"><td style="text-align: center;"></td><td style="text-align: center;"></td><td style="text-align: center;"></td><td style="text-align: center;"></td><td style="text-align: center;"></td><td></td></tr></tbody></table><h3 id="baseline">1 Baseline</h3><p>baselineä¸º <code>pi-gan</code></p><h4 id="celeba-æ•°æ®é›†">1. CelebA æ•°æ®é›†</h4><figure><img src="image-20240115120840481.png" alt="image-20240115120840481" /><figcaption aria-hidden="true">image-20240115120840481</figcaption></figure><p>â€‹ <img src="image-20240115120944197.png"alt="image-20240115120944197" /><img src="image-20240115120953692.png"alt="image-20240115120953692" /></p><h4 id="carlaæ•°æ®é›†">2. CARLAæ•°æ®é›†</h4><figure><img src="image-20240115121226447.png" alt="image-20240115121226447" /><figcaption aria-hidden="true">image-20240115121226447</figcaption></figure><p>â€‹ <img src="image-20240115121238748.png" /><imgsrc="image-20240115121259569.png" alt="2" /></p><h3 id="æ”¹è¿›ä¸€">2 æ”¹è¿›ä¸€ï¼š</h3>]]></content>
    
    
    <categories>
      
      <category>ç®€è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®€è®°</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>3Dæ„ŸçŸ¥å•è§†å›¾å›¾åƒåˆæˆ</title>
    <link href="/posts/20173/"/>
    <url>/posts/20173/</url>
    
    <content type="html"><![CDATA[<div align="center"><H3>3Dæ„ŸçŸ¥å•è§†å›¾å›¾åƒåˆæˆ</div><h3 id="abstract">Abstract</h3><ol type="1"><li>ä¸åŸºäºä½“ç´ çš„è¡¨ç¤ºç›¸æ¯”ï¼Œè¾å°„åœºä¸é™äº 3Dç©ºé—´çš„ç²—ç•¥ç¦»æ•£åŒ–ï¼Œä½†å…è®¸åœ¨é‡å»ºæ­§ä¹‰å­˜åœ¨çš„æƒ…å†µä¸‹ä¼˜é›…åœ°é™çº§ç›¸æœºå’Œåœºæ™¯å±æ€§ã€‚</li><li>ç„¶è€Œï¼Œç°æœ‰çš„æ–¹æ³•è¦ä¹ˆäº§ç”Ÿä½å›¾åƒåˆ†è¾¨ç‡ï¼Œè¦ä¹ˆåœ¨è§£å¼€ç›¸æœºå’Œåœºæ™¯å±æ€§æ–¹é¢ä¸è¶³ï¼Œä¾‹å¦‚ï¼Œå¯¹è±¡èº«ä»½å¯èƒ½ä¼šå› è§†ç‚¹è€Œå¼‚ã€‚</li><li>é€šè¿‡æ¸è¿›å¼è®­ç»ƒç”Ÿæˆå™¨å’Œè¾¨åˆ«å™¨ï¼Œä»è€ŒåŠ å¿«è®­ç»ƒçš„é€Ÿåº¦ï¼›é‡‡ç”¨patchçš„æ–¹æ³•è¿›è¡Œè®­ç»ƒï¼Œæé«˜GANè®­ç»ƒçš„ç¨³å®šæ€§ï¼ŒåŒæ—¶å‡å°‘å†…å­˜çš„æ¶ˆè€—ã€‚</li><li>é€šè¿‡å¢åŠ é‡‡æ ·å…‰çº¿çš„æ–¹æ³•æ¥æé«˜ç”Ÿæˆå›¾åƒçš„åˆ†è¾¨ç‡ï¼Œä¿è¯ç”Ÿæˆå›¾åƒçš„è§†å›¾ä¸€è‡´æ€§ã€‚</li><li>åœ¨å¼€å§‹æ—¶ç¼©æ”¾ç›¸æœºå†…åœ¨å‡½æ•°ä»¥æœ€å¤§åŒ–æ„Ÿå—é‡å¹¶é€æ­¥å°†å…¶å¢åŠ åˆ°åŸå§‹å€¼ä»¥ä¸“æ³¨äºç²¾ç»†ç»†èŠ‚ã€‚å…·ä½“é€šè¿‡å½“å‰patch/img_sizeæ¥è°ƒèŠ‚ç„¦è·å¤§å°ï¼Œä»è€Œå®ç°æ„Ÿå—é‡çš„æ”¹å˜ã€‚</li></ol><h3 id="introduction">1 Introduction</h3><h3 id="related-work">2 Related Work</h3><h4 id="a.-neural-radiance-representations">A. Neural RadianceRepresentations</h4><h4 id="b.-3d-aware-image-synthesis">B. 3D-Aware Image Synthesis</h4><h4 id="c.">C.</h4><h3 id="methods">3 Methods</h3><h4 id="a.">A.</h4><h4 id="b.">B.</h4><h4 id="c.-1">C.</h4><h3 id="experiments-and-results">4 Experiments and Results</h3><h4 id="a.-1">A.</h4><h4 id="b.-1">B.</h4><h4 id="c.-2">C.</h4><h3 id="conclutions">5 Conclutions</h3><h3 id="references">References</h3><h3 id="idea">Idea</h3><ol type="1"><li>ç”Ÿæˆå™¨ä¹Ÿé‡‡ç”¨å¢é•¿å‹æ¶æ„</li></ol>]]></content>
    
    
    <categories>
      
      <category>è®ºæ–‡ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>3D</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç®—æ³•è®­ç»ƒä¹‹ -- èºæ—‹çŸ©é˜µ</title>
    <link href="/posts/52933/"/>
    <url>/posts/52933/</url>
    
    <content type="html"><![CDATA[<h3 id="èºæ—‹çŸ©é˜µ">èºæ—‹çŸ©é˜µ</h3><h4 id="æ€è·¯">1. æ€è·¯</h4><p>â€‹ é¢˜ç›®ï¼šç»™ä½ ä¸€ä¸ªæ­£æ•´æ•° <code>n</code> ï¼Œç”Ÿæˆä¸€ä¸ªåŒ…å« <code>1</code> åˆ°<code>n2</code> æ‰€æœ‰å…ƒç´ ï¼Œä¸”å…ƒç´ æŒ‰é¡ºæ—¶é’ˆé¡ºåºèºæ—‹æ’åˆ—çš„<code>n x n</code> æ­£æ–¹å½¢çŸ©é˜µ <code>matrix</code> ã€‚<ahref="https://leetcode.cn/problems/spiral-matrix-ii/description/">59.èºæ—‹çŸ©é˜µ II - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p><blockquote><p><strong>æ€è·¯ï¼š</strong></p><p>åˆå§‹åŒ–ä¸€ä¸ª nÃ—n å¤§å°çš„çŸ©é˜µresï¼Œç„¶åæ¨¡æ‹Ÿæ•´ä¸ªå‘å†…ç¯ç»•çš„å¡«å…¥è¿‡ç¨‹ï¼šå¡«å……ä¸Šè¡Œä»å·¦åˆ°å³ï¼Œå¡«å……å³åˆ—ä»ä¸Šåˆ°ä¸‹ï¼Œå¡«å……ä¸‹è¡Œä»å³åˆ°å·¦ï¼Œå¡«å……å·¦åˆ—ä»ä¸‹åˆ°ä¸Š</p><ol type="1"><li>å®šä¹‰å½“å‰å·¦å³ä¸Šä¸‹è¾¹ç•Œ left,right,top,bottomï¼Œåˆå§‹å€¼ num =1ï¼Œè¿­ä»£ç»ˆæ­¢å€¼ tar = n * nï¼›</li><li>å½“ num &lt;= tar æ—¶ï¼Œå§‹ç»ˆæŒ‰ç…§ ä»å·¦åˆ°å³ ä»ä¸Šåˆ°ä¸‹ ä»å³åˆ°å·¦ ä»ä¸‹åˆ°ä¸Šå¡«å…¥é¡ºåºå¾ªç¯ï¼Œæ¯æ¬¡å¡«å…¥åï¼š<ul><li>æ‰§è¡Œ num += 1ï¼šå¾—åˆ°ä¸‹ä¸€ä¸ªéœ€è¦å¡«å…¥çš„æ•°å­—ï¼›</li><li>æ›´æ–°è¾¹ç•Œï¼šä¾‹å¦‚ä»å·¦åˆ°å³å¡«å®Œåï¼Œä¸Šè¾¹ç•Œ top += 1ï¼Œç›¸å½“äºä¸Šè¾¹ç•Œå‘å†…ç¼©1ã€‚</li></ul></li><li>ä½¿ç”¨num &lt;= tar æˆ–è€… left &lt;= right &amp;&amp; top &lt;bottomä½œä¸ºè¿­ä»£æ¡ä»¶ã€‚</li><li>æœ€ç»ˆè¿”å› res å³å¯ã€‚</li></ol><p>PSï¼šä¸€å®šè¦æ³¨æ„åŒºé—´çš„å¼€åˆï¼Œå››ä¸ªæ–¹å‘çš„å¡«å……ä½¿ç”¨åŒæ ·çš„å¼€åˆæ–¹å¼ï¼</p></blockquote><h4 id="è§£æ³•">2. è§£æ³•</h4><p><strong>Python</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">generateMatrix</span>(<span class="hljs-params">self, n: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]]:<br>        ans = [[<span class="hljs-number">0</span>]*n <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n)]<br>        top, bottom, left, right = <span class="hljs-number">0</span>, n-<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, n-<span class="hljs-number">1</span><br>        num = <span class="hljs-number">1</span><span class="hljs-comment"># ä» 1 å¼€å§‹</span><br>        <span class="hljs-keyword">while</span> num &lt;= n*n:<br>            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(left, right+<span class="hljs-number">1</span>): <span class="hljs-comment"># é‡‡ç”¨å·¦é—­å³é—­çš„æ–¹å¼ï¼Œrightéœ€è¦ +1ã€‚</span><br>                ans[top][i] = num<br>                num += <span class="hljs-number">1</span><br>            top += <span class="hljs-number">1</span><br>            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(top, bottom+<span class="hljs-number">1</span>):<br>                ans[i][right] = num<br>                num += <span class="hljs-number">1</span><br>            right -= <span class="hljs-number">1</span><br>            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(right, left-<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>):<br>                ans[bottom][i] = num<br>                num += <span class="hljs-number">1</span><br>            bottom -= <span class="hljs-number">1</span><br>            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(bottom, top-<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>): <span class="hljs-comment"># åŒæ ·çš„ range()æ˜¯é»˜è®¤å³å¼€åŒºé—´ï¼Œæ‰€ä»¥topéœ€è¦ -1ã€‚</span><br>                ans[i][left] = num<br>                num += <span class="hljs-number">1</span><br>            left += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> ans<br><br></code></pre></td></tr></table></figure><p><strong>C++</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt; <span class="hljs-built_in">generateMatrix</span>(<span class="hljs-type">int</span> n) &#123;<br>        vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt; <span class="hljs-built_in">res</span>(n,<span class="hljs-built_in">vector</span>&lt;<span class="hljs-type">int</span>&gt;(n,<span class="hljs-number">0</span>));<br>        <span class="hljs-type">int</span> left = <span class="hljs-number">0</span>, top = <span class="hljs-number">0</span>, right = n - <span class="hljs-number">1</span>, bottom = n - <span class="hljs-number">1</span>;<br>        <span class="hljs-type">int</span> num = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">while</span>(left&lt;=right &amp;&amp; top&lt;= bottom)&#123;<span class="hljs-comment">// ä½¿ç”¨å¦å¤–ä¸€ç§åˆ¤æ–­ç»“æŸçš„æ¡ä»¶</span><br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=left; i&lt;= right; i++)<span class="hljs-comment">// åŒæ ·é‡‡ç”¨å·¦é—­å³é—­çš„æ–¹å¼</span><br>                res[top][i] = num++;<br>            top++;<br>            <span class="hljs-keyword">if</span>(left&gt;right || top&gt;bottom)<span class="hljs-comment">// è®¾ç½®ä¸€ä¸ªæå‰è·³å‡ºå¾ªç¯çš„åˆ¤æ–­ï¼ˆå¦‚æœæœ‰éœ€è¦çš„è¯ï¼‰</span><br>                <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=top; i&lt;=bottom; i++)<br>                res[i][right] = num++;<br>            right--;<br>            <span class="hljs-keyword">if</span>(left&gt;right || top&gt;bottom)<br>                <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=right; i&gt;=left; i--)<br>                res[bottom][i] = num++;<br>            bottom--;<br>            <span class="hljs-keyword">if</span>(left&gt;right || top&gt;bottom)<br>                <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=bottom; i&gt;=top; i--)<br>                res[i][left] = num++;<br>            left++;<br>            <span class="hljs-keyword">if</span>(left&gt;right || top&gt;bottom)<br>                <span class="hljs-keyword">break</span>;<br>        &#125;<br>        <span class="hljs-keyword">return</span> res;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h4 id="å˜ç§">3. å˜ç§</h4><p><strong>(1) é¢˜ç›®ï¼š</strong>ç»™ä½ ä¸€ä¸ª <code>m</code> è¡Œ <code>n</code>åˆ—çš„çŸ©é˜µ <code>matrix</code> ï¼Œè¯·æŒ‰ç…§ <strong>é¡ºæ—¶é’ˆèºæ—‹é¡ºåº</strong>ï¼Œè¿”å›çŸ©é˜µä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚<ahref="https://leetcode.cn/problems/spiral-matrix/description/">54.èºæ—‹çŸ©é˜µ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p><blockquote><p><strong>æ€è·¯ï¼š</strong>å¯ä»¥å°†çŸ©é˜µçœ‹æˆè‹¥å¹²å±‚ï¼Œé¦–å…ˆè¾“å‡ºæœ€å¤–å±‚çš„å…ƒç´ ï¼Œå…¶æ¬¡è¾“å‡ºæ¬¡å¤–å±‚çš„å…ƒç´ ï¼Œç›´åˆ°è¾“å‡ºæœ€å†…å±‚çš„å…ƒç´ ã€‚ï¼ˆå’Œä¸Šé¢çš„é‚£ä¸ªç›¸åï¼‰</p><p>å¯¹äºæ¯å±‚ï¼Œä»å·¦ä¸Šæ–¹å¼€å§‹ä»¥é¡ºæ—¶é’ˆçš„é¡ºåºéå†æ‰€æœ‰å…ƒç´ ã€‚å‡è®¾å½“å‰å±‚çš„å·¦ä¸Šè§’ä½äº(top,left)ï¼Œå³ä¸‹è§’ä½äº(bottom,right)ï¼ŒæŒ‰ç…§å¦‚ä¸‹é¡ºåºéå†å½“å‰å±‚çš„å…ƒç´ ã€‚</p><ol type="1"><li><p>ä»å·¦åˆ°å³éå†ä¸Šä¾§å…ƒç´ ï¼Œä¾æ¬¡ä¸º (top,left) åˆ° (top,right)ã€‚</p></li><li><p>ä»ä¸Šåˆ°ä¸‹éå†å³ä¾§å…ƒç´ ï¼Œä¾æ¬¡ä¸º (top,right) åˆ°(bottom+1,right)ã€‚</p></li><li><p>ä»å³åˆ°å·¦éå†ä¸‹ä¾§å…ƒç´ ï¼Œä¾æ¬¡ä¸º (bottom, right) åˆ° (bottom,left-1)</p></li><li><p>ä»ä¸‹åˆ°ä¸Šéå†å·¦ä¾§å…ƒç´ ï¼Œä¾æ¬¡ä¸º (bottom, left) åˆ° (top-1,left)</p></li><li><p>æ¯æ¬¡éå†å®Œéƒ½åˆ¤æ–­ä¸€ä¸‹ (l &gt; r or t &gt;b)ï¼Œæ¥å†³å®šæ˜¯å¦ç»“æŸå¾ªç¯ã€‚</p></li></ol><p>PSï¼šä¹Ÿéœ€è¦æ³¨æ„åŒºé—´å¼€åˆï¼Œä»¥åŠç»“æŸæ¡ä»¶ï¼ˆæ­¤é¢˜çš„çŸ©é˜µä¸ä¸€å®šä¸ºæ­£æ–¹å½¢ï¼‰</p></blockquote><p><strong>Python</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">spiralOrder</span>(<span class="hljs-params">self, matrix: <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]]</span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]:<br>        n = <span class="hljs-built_in">len</span>(matrix[<span class="hljs-number">0</span>])<br>        m = <span class="hljs-built_in">len</span>(matrix)<br>        l, t = <span class="hljs-number">0</span>, <span class="hljs-number">0</span><br>        r, b = n - <span class="hljs-number">1</span>, m - <span class="hljs-number">1</span><br>        ans = []<br>        <span class="hljs-keyword">while</span> l&lt;=r <span class="hljs-keyword">and</span> t &lt;=b:<br>            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(l, r+<span class="hljs-number">1</span>):<span class="hljs-comment"># éå† ä»å·¦åˆ°å³</span><br>                ans.append(matrix[t][i])<span class="hljs-comment"># å­˜å‚¨å…ƒç´ </span><br>            t += <span class="hljs-number">1</span><span class="hljs-comment"># åŒºé—´å‡å°</span><br>            <span class="hljs-keyword">if</span> l &gt; r <span class="hljs-keyword">or</span> t &gt; b:<span class="hljs-comment"># åˆ¤æ–­æ˜¯å¦ç»“æŸå¾ªç¯ ï¼ˆå¾ˆé‡è¦ï¼å¦åˆ™åœ¨n!=mæ—¶ï¼Œè¡Œæˆ–åˆ—ä¼šå¤šéå†ä¸€æ¬¡ï¼‰</span><br>                <span class="hljs-keyword">break</span><br>            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(t, b+<span class="hljs-number">1</span>):<br>                ans.append(matrix[i][r])<br>            r -= <span class="hljs-number">1</span><br>            <span class="hljs-keyword">if</span> l &gt; r <span class="hljs-keyword">or</span> t &gt; b:<br>                <span class="hljs-keyword">break</span><br>            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(r, l-<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>):<br>                ans.append(matrix[b][i])<br>            b -= <span class="hljs-number">1</span><br>            <span class="hljs-keyword">if</span> l &gt; r <span class="hljs-keyword">or</span> t &gt; b:<br>                <span class="hljs-keyword">break</span><br>            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(b, t-<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>):<br>                ans.append(matrix[i][l])<br>            l += <span class="hljs-number">1</span><br>            <span class="hljs-keyword">if</span> l &gt; r <span class="hljs-keyword">or</span> t &gt; b:<br>                <span class="hljs-keyword">break</span><br>        <span class="hljs-keyword">return</span> ans<br></code></pre></td></tr></table></figure><p><strong>C++</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">spiralOrder</span><span class="hljs-params">(vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt;&amp; matrix)</span> </span>&#123;<br>        <span class="hljs-type">int</span> l = <span class="hljs-number">0</span>, r = matrix[<span class="hljs-number">0</span>].<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>, t = <span class="hljs-number">0</span>, b = matrix.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>;<br>        vector&lt;<span class="hljs-type">int</span>&gt; ans;<br>        <span class="hljs-keyword">while</span>(l &lt;= r &amp;&amp; t &lt;= b)&#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=l; i&lt;=r; i++)<br>                ans.<span class="hljs-built_in">push_back</span>(matrix[t][i]);<br>            t++;<br>            <span class="hljs-comment">// if(l &gt; r || t &gt; b)</span><br>                <span class="hljs-comment">// break;</span><br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=t; i&lt;=b; i++)<br>                ans.<span class="hljs-built_in">push_back</span>(matrix[i][r]);<br>            r--;<br>            <span class="hljs-keyword">if</span>(l &gt; r || t &gt; b)<br>                <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=r; i&gt;=l; i--)<br>                ans.<span class="hljs-built_in">push_back</span>(matrix[b][i]);<br>            b--;<br>            <span class="hljs-comment">// if(l &gt; r || t &gt; b)</span><br>                <span class="hljs-comment">// break;</span><br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=b; i&gt;=t; i--)<br>                ans.<span class="hljs-built_in">push_back</span>(matrix[i][l]);<br>            l++;<br>            <span class="hljs-comment">// if(l &gt; r || t &gt; b)</span><br>            <span class="hljs-comment">//     break;</span><br>        &#125;<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>&#125;;<br><br></code></pre></td></tr></table></figure><p><strong>(2) é¢˜ç›®ï¼š</strong>ç»™å®šä¸€ä¸ªäºŒç»´æ•°ç»„<code>array</code>ï¼Œè¯·è¿”å›ã€Œ<strong>èºæ—‹éå†</strong>ã€è¯¥æ•°ç»„çš„ç»“æœã€‚èºæ—‹éå†ï¼šä»å·¦ä¸Šè§’å¼€å§‹ï¼ŒæŒ‰ç…§<strong>å‘å³</strong>ã€<strong>å‘ä¸‹</strong>ã€<strong>å‘å·¦</strong>ã€<strong>å‘ä¸Š</strong>çš„é¡ºåº <strong>ä¾æ¬¡</strong>æå–å…ƒç´ ï¼Œç„¶åå†è¿›å…¥å†…éƒ¨ä¸€å±‚é‡å¤ç›¸åŒçš„æ­¥éª¤ï¼Œç›´åˆ°æå–å®Œæ‰€æœ‰å…ƒç´ <ahref="https://leetcode.cn/problems/shun-shi-zhen-da-yin-ju-zhen-lcof/description/">LCR146. èºæ—‹éå†äºŒç»´æ•°ç»„ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p><blockquote><p><strong>æ€è·¯ï¼š</strong>èºæ—‹çŸ©é˜µçš„é¢˜ç›®å¥½åƒéƒ½æ²¡å•¥å·®åˆ«ï¼Œæ²¡æœ‰å¾ˆå¤§çš„æ”¹å˜ï¼Œè®°ä½ä¸€ä¸ªæ¨¡æ¿å°±è¡Œäº†ã€‚è¿˜æœ‰ä¸€ç§éå†åˆ°çŸ©é˜µä¸­é—´çš„ä½ç½®ï¼Œä½†æ˜¯ç”¨å¤æ‚åº¦æ²¡æœ‰å¾ˆå¤§å·®åˆ«ï¼Œæ²¡å¿…è¦ç‰¹æ„ç”¨ã€‚æ³¨æ„ä¸€äº›ç»†èŠ‚å°±å¥½äº†ï¼Œå°¤å…¶æ˜¯è¾¹ç•Œä½ç½®ï¼Œæ²¡å¾ˆå¤§æ„æ€ã€‚</p></blockquote><p><strong>Python</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># å’Œä¸Šé¢çš„åŒä¸€ä¸ªæ¨¡æ¿</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">spiralArray</span>(<span class="hljs-params">self, array: <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]]</span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]:<br>        ans = []<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> array <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> array[<span class="hljs-number">0</span>]:<br>            <span class="hljs-keyword">return</span> ans<br>        m, n = <span class="hljs-built_in">len</span>(array), <span class="hljs-built_in">len</span>(array[<span class="hljs-number">0</span>])<br>        l, r, t, b = <span class="hljs-number">0</span>, n-<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, m-<span class="hljs-number">1</span><br>        <span class="hljs-keyword">while</span> l&lt;=r <span class="hljs-keyword">and</span> t&lt;=b:<br>            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(l, r+<span class="hljs-number">1</span>):<br>                ans.append(array[t][i])<br>            t += <span class="hljs-number">1</span><br>            <span class="hljs-keyword">if</span> l &gt; r <span class="hljs-keyword">or</span> t &gt; b:<br>                <span class="hljs-keyword">break</span><br>            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(t, b+<span class="hljs-number">1</span>):<br>                ans.append(array[i][r])<br>            r -= <span class="hljs-number">1</span><br>            <span class="hljs-keyword">if</span> l &gt; r <span class="hljs-keyword">or</span> t &gt; b:<br>                <span class="hljs-keyword">break</span><br>            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(r, l-<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>):<br>                ans.append(array[b][i])<br>            <span class="hljs-keyword">if</span> l &gt; r <span class="hljs-keyword">or</span> t &gt; b:<br>                <span class="hljs-keyword">break</span><br>            b -= <span class="hljs-number">1</span><br>            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(b, t-<span class="hljs-number">1</span>, -<span class="hljs-number">1</span>):<br>                ans.append(array[i][l])<br>            l += <span class="hljs-number">1</span><br>            <span class="hljs-keyword">if</span> l &gt; r <span class="hljs-keyword">or</span> t &gt; b:<br>                <span class="hljs-keyword">break</span>       <br>        <span class="hljs-keyword">return</span> ans<br><br><span class="hljs-comment"># éå†åˆ°çŸ©é˜µä¸­é—´</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">spiralArray</span>(<span class="hljs-params">self, array: <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]]</span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]:<br>        res = []<br>        h = <span class="hljs-built_in">len</span>(array)<br>        <span class="hljs-keyword">if</span> h == <span class="hljs-number">0</span>:<br>            <span class="hljs-keyword">return</span> res<br>        w = <span class="hljs-built_in">len</span>(array[<span class="hljs-number">0</span>])<br>        <span class="hljs-keyword">for</span> offset <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">min</span>(h, w)//<span class="hljs-number">2</span>):<br>            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(offset, w-<span class="hljs-number">1</span>-offset):<br>                res.append(array[offset][i])<br>            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(offset, h-<span class="hljs-number">1</span>-offset):<br>                res.append(array[i][w-<span class="hljs-number">1</span>-offset])<br>            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(w-<span class="hljs-number">1</span>-offset, offset, -<span class="hljs-number">1</span>):<br>                res.append(array[h-<span class="hljs-number">1</span>-offset][i])<br>            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(h-<span class="hljs-number">1</span>-offset, offset, -<span class="hljs-number">1</span>):<br>                res.append(array[i][offset])<br>        <span class="hljs-keyword">if</span> h &gt;= w:<br>            <span class="hljs-keyword">if</span> w%<span class="hljs-number">2</span> == <span class="hljs-number">1</span>:<br>                <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(w//<span class="hljs-number">2</span>, h-w//<span class="hljs-number">2</span>):<br>                    res.append(array[i][w//<span class="hljs-number">2</span>])<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">if</span> h%<span class="hljs-number">2</span> == <span class="hljs-number">1</span>:<br>                <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(h//<span class="hljs-number">2</span>, w-h//<span class="hljs-number">2</span>):<br>                    res.append(array[h//<span class="hljs-number">2</span>][i])<br>        <span class="hljs-keyword">return</span> res<br></code></pre></td></tr></table></figure><p><strong>C++</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">spiralOrder</span><span class="hljs-params">(vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt;&amp; matrix)</span> </span>&#123;<br>        vector&lt;<span class="hljs-type">int</span>&gt; ans;<br>        <span class="hljs-keyword">if</span>(matrix.<span class="hljs-built_in">empty</span>())&#123;<br>            <span class="hljs-keyword">return</span> ans;<br>        &#125;<br>        <span class="hljs-type">int</span> l = <span class="hljs-number">0</span>, t = <span class="hljs-number">0</span>;<br>        <span class="hljs-type">int</span> r = matrix[<span class="hljs-number">0</span>].<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span> ; <span class="hljs-comment">// åˆ—</span><br>        <span class="hljs-type">int</span> b = matrix.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>;    <span class="hljs-comment">// è¡Œ</span><br>        <span class="hljs-keyword">while</span>(<span class="hljs-literal">true</span>)&#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=l; i&lt;=r; i++) ans.<span class="hljs-built_in">push_back</span>(matrix[t][i]);<br>            t++;<br>            <span class="hljs-keyword">if</span>(t&gt;b) <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=t; i&lt;=b; i++) ans.<span class="hljs-built_in">push_back</span>(matrix[i][r]);<br>            r--;<br>            <span class="hljs-keyword">if</span>(l&gt;r) <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=r; i&gt;=l; i--) ans.<span class="hljs-built_in">push_back</span>(matrix[b][i]);<br>            b--;<br>            <span class="hljs-keyword">if</span>(t&gt;b) <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=b; i&gt;=t; i--) ans.<span class="hljs-built_in">push_back</span>(matrix[i][l]);<br>            l++;<br>            <span class="hljs-keyword">if</span>(l&gt;r) <span class="hljs-keyword">break</span>;<br>        &#125;<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åˆ·é¢˜</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å°è®ºæ–‡æ–¹æ³•</title>
    <link href="/posts/52414/"/>
    <url>/posts/52414/</url>
    
    <content type="html"><![CDATA[<h4 id="pi-gan">pi-GAN</h4><figure><img src="image-20231219205002454.png" alt="image-20231219205002454" /><figcaption aria-hidden="true">image-20231219205002454</figcaption></figure><figure><img src="image-20231221113745085.png" alt="image-20231221113745085" /><figcaption aria-hidden="true">image-20231221113745085</figcaption></figure><h3id="learning-dense-correspondence-for-nerf-based-face-reenactment">1.Learning Dense Correspondence for NeRF-Based Face Reenactment</h3><p><strong>é¡¹ç›®åœ°å€ï¼š</strong>https://songlin1998.github.io/planedict/ï¼ˆè¿˜æ²¡æœ‰å¼€æºï¼‰</p><figure><img src="pipeline.png" alt="img" /><figcaption aria-hidden="true">img</figcaption></figure><ol type="1"><li>å¯å°è¯•æ·»åŠ æ¨¡å—ï¼Œcanonical Tri-Planesè§„èŒƒä¸‰å¹³é¢ï¼Œsuperresolutionè¶…åˆ†è¾¨ç‡ï¼ˆæé«˜å›¾åƒåˆ†è¾¨ç‡ä¸è´¨é‡ï¼‰</li></ol><h3 id="eg3d">2. EG3D</h3><figure><img src="image-20231219154538508.png" alt="image-20231219154538508" /><figcaption aria-hidden="true">image-20231219154538508</figcaption></figure><ol type="1"><li>Fourier featureencodingï¼ˆå‚…é‡Œå¶ç‰¹å¾ç¼–ç ï¼‰ï¼ŒåŠ å…¥åˆ°MLPç½‘ç»œä¸­ï¼Œä»ä½é¢‘çš„å›¾åƒä¸­å­¦ä¹ é«˜é¢‘ä¿¡æ¯ã€‚</li><li>ä¸‰å¹³é¢è¡¨ç¤ºçš„ç‰¹å¾å¹³é¢å¯ä»¥ä½¿ç”¨ç°æˆçš„åŸºäº2DCNNçš„ç”Ÿæˆå™¨ç”Ÿæˆï¼ˆä¾‹å¦‚StyleGAN1 2 3ï¼‰</li><li>tri-plane decoderï¼Œè½»é‡è§£ç å™¨ï¼Œé‡‡ç”¨å°å‹MLPç½‘ç»œã€‚</li><li>2D CNN-base super-resolution moduleè¿›è¡Œä¸Šé‡‡æ ·å¹¶ä¸”æ”¹å–„RGBå›¾åƒçš„ç‰¹å¾å›¾ã€‚ï¼ˆç”¨äºæå‡åˆ†è¾¨ç‡ï¼‰</li></ol><h3 id="fenerf">3. FENERF</h3><figure><img src="image-20231224170922298.png" alt="image-20231224170922298" /><figcaption aria-hidden="true">image-20231224170922298</figcaption></figure><ol type="1"><li><p>é‡‡ç”¨äº†ä¸¤ä¸ªæ˜ å°„ç½‘ç»œ <span class="math inline">\(Z_s,Z_t\)</span>ï¼Œä¸Šé¢çš„é‚£ä¸ªè¾“å…¥åˆ°MLPç½‘ç»œä¸­ç”¨æ¥ç”Ÿæˆï¼Œä¸‹é¢è¿™ä¸ªè¾“å…¥åˆ°é¢œè‰²è¾“å‡ºåˆ†æ”¯æ¥è¿›è¡Œçº¹ç†è°ƒèŠ‚ã€‚</p><p>train.py</p></li></ol><p><img src="image-20231224202622064.png" alt="image-20231224202622064" style="zoom:80%;" /></p><ol type="1"><li>æ·»åŠ ä¸€ä¸ªé¢å¤–çš„å¯å­¦ä¹ ç‰¹å¾ç½‘æ ¼ï¼Œç”¨æ¥è¡¥å¿é«˜é¢‘å›¾åƒç»†èŠ‚</li></ol><blockquote><ol type="1"><li><p>é‡‡ç”¨ <spanclass="math inline">\(Z_t\)</span>ï¼Œä¹ŸåŠ å…¥åˆ°pi-GANçš„é¢œè‰²è¾“å‡ºåˆ†æ”¯ï¼Œå½¢æˆä¸€ä¸ªæ–°çš„æŸå¤±å‡½æ•°ã€‚éœ€è¦æ·»åŠ å‚æ•°</p><pre><code class="hljs">siren.pyself.geo_mapping_network = CustomMappingNetwork(z_geo_dim, 256, len(self.network)*hidden_dim*2)self.app_mapping_network = CustomMappingNetwork(z_app_dim, 256, len(self.color_layer_sine)*hidden_dim*2)generator.pyfrequencies_geo, phase_shifts_geo = self.siren.geo_mapping_network(z_geo)frequencies_app, phase_shifts_app = self.siren.app_mapping_network(z_app)</code></pre></li><li><p>å°†å¯å­¦ä¹ ç‰¹å¾ç½‘æ ¼ä¸€åŒåŠ å…¥</p></li></ol></blockquote><h3id="d-aware-image-synthesis-via-learning-structural-and-textural-representations-httpsgenforce.github.iovolumegan">4.3D-aware Image Synthesis via Learning Structural and TexturalRepresentations https://genforce.github.io/volumegan</h3><ol type="1"><li>maps 3D coordinates to pixel values, as a 3D priorã€‚</li></ol><h3 id="epigraf-rethinking-training-of-3d-gans">5. EpiGRAF: Rethinkingtraining of 3D GANs</h3><p><strong>å…·ä½“ç»†èŠ‚å‰å¾€ è®ºæ–‡éšè®°ï¼ˆ2024.1.4-1.5ï¼‰<ahref="https://seulqxq.top/posts/51769/">è®ºæ–‡éšè®°ï¼ˆ2024.1.4-1.5ï¼‰ - Seul(seulqxq.top)</a></strong></p><p>é‡‡ç”¨æ‰¹å—æ–¹æ³•è®­ç»ƒç”Ÿæˆå™¨ï¼Œå¹¶ä¸”æ¯æ¬¡è¾“å…¥åˆ°è¾¨åˆ«å™¨çš„å›¾åƒéƒ½æ˜¯é€šè¿‡å¿«æ¥å®ç°ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>ç®€è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®€è®°</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ¯å‘¨æ€»ç»“ -- è§£é“ƒè¿˜é¡»ç³»é“ƒäºº</title>
    <link href="/posts/46941/"/>
    <url>/posts/46941/</url>
    
    <content type="html"><![CDATA[<div align = "center"><H3>æ€»ç»“ &amp; åæ€</div><p><strong>æ—¶é—´ï¼š2023.12.18-2023.12.24</strong></p><p>â€‹è¿™å‘¨ç»ˆäºå®Œæˆäº†å¼€é¢˜ç­”è¾©äº†ï¼Œè¿™ä¸ªç­”è¾©çœŸçš„æ˜¯è¦ç¬‘æ­»æˆ‘äº†ï¼Œä¹Ÿå¤ªæ°´äº†å­~ï¼Œæˆ‘è¿˜ä»¥ä¸ºä¼šæ­£å¼ä¸€ç‚¹çš„å‘¢ï¼Œç¬¬ä¸€æ¬¡è§è¦å­¦ç”Ÿå‚¬è€å¸ˆé—®é—®é¢˜çš„ç­”è¾©ï¼Œå“ˆå“ˆå“ˆå“ˆå“ˆï¼Œç­”è¾©å®Œå’¯ï¼Œå¥½å¥½çš„ç©äº†ä¸€å¤©ã€‚ç­”è¾©å®Œåï¼Œå°±å¼€å§‹äº†çœ‹è®ºæ–‡æ”¹ä»£ç çš„æ—¶å€™äº†ï¼Œå®³ã€‚çœ‹äº†ä¸€ä¸‹<code>Mip-NeRF</code>çš„è®ºæ–‡å’Œä»£ç ï¼Œæ„Ÿè§‰å¯ä»¥æŠŠå®ƒä½ç½®ç¼–ç çš„éƒ¨åˆ†ç»™åŠ åˆ°<code>pi-GAN</code>ä¸Šå»ï¼Œä¹Ÿä¸çŸ¥é“èƒ½ä¸èƒ½è¡Œï¼Œè¯•è¯•å­ã€‚è¿™å‘¨çš„å‰å‡ å¤©è¿˜æ˜¯æ¯”è¾ƒæ­£å¸¸çš„ï¼Œä¹Ÿæœ‰åœ¨æ¯å¤©åˆ·é¢˜ï¼Œæœ€è¿‘å¥½åƒè¿˜æ¯”è¾ƒç†Ÿç»ƒäº†ï¼Œçº¯é è‡ªå·±ä¹Ÿèƒ½å¤ŸæŠŠé¢˜ç›®åšå‡ºæ¥äº†ï¼Œä½†æ˜¯é€Ÿåº¦æœ‰ç‚¹æ…¢ï¼Œè¿˜æœ‰è®¸å¤šè¿›æ­¥çš„ç©ºé—´ï¼Œç»§ç»­åŠ æ²¹åŠªåŠ›ï¼ç„¶åæœ€æ°”äººçš„å°±æ˜¯æœåŠ¡å™¨è¢«æ”»å‡»äº†ï¼Œå¥½å¥½çš„å‘¨æœ«è¦æˆ‘å»é‡è£…æœåŠ¡å™¨ï¼Œæ°”æ­»æˆ‘äº†ğŸ˜¡ã€‚</p><p>â€‹ç„¶åå°±æ˜¯è¿™å‘¨ä¹Ÿè®¸å› ä¸ºæ˜¯æœ‰ç‚¹å¿™ï¼Œæ‰€ä»¥åœ¨æ€å¿µå­¦å¦¹ä¸Šæ²¡æœ‰é‚£ä¹ˆå¼ºçƒˆäº†ï¼Œä½†è¿˜æ˜¯ä¼šåœ¨é—²ä¸‹æ¥çš„æ—¶å€™ï¼Œå‘å‘†çš„æ—¶å€™æƒ³åˆ°å¥¹ï¼Œå®³ï¼Œæœç„¶æ˜¯åˆ»å…¥è„‘æµ·æ·±å¤„çš„äººäº†å“‡ã€‚ä½†èµ·ç ç”Ÿæ´»è¿˜æ˜¯åœ¨ç»§ç»­ï¼Œä¹Ÿåœ¨æ…¢æ…¢çš„å›å½’åˆ°ä»¥å‰çš„æ ·å­ï¼Œæ²¡æœ‰å¿…è¦å¿˜è®°ï¼Œä¹Ÿä¸æƒ³å¿˜è®°ï¼Œæ¯•ç«Ÿè¿™æ®µæ—¶é—´å¼€å¿ƒçš„æ—¥å­ç›¸æ¯”éš¾è¿‡çš„æ—¥å­è¿˜æ˜¯å¤šå¾ˆå¤šçš„ï¼Œä»¥åå›æƒ³çš„æ—¶å€™ï¼Œä¹Ÿèƒ½å¤Ÿå†å¼€å¿ƒå¼€å¿ƒï¼Œé‚£ä¸ªæ—¶å€™åº”è¯¥ä¼šæ›´å¤šæ„Ÿè°¢å¥¹æœ‰å‡ºç°è¿‡åœ¨æˆ‘çš„ç”Ÿæ´»ä¸­ï¼Œè€Œä¸æ˜¯ï¼Œå¤šä¹ˆå¸Œæœ›å¥¹æ²¡æœ‰å‡ºç°è¿‡ã€‚</p><p>â€‹å…¶æ¬¡å°±æ˜¯åœ¨å‘¨å…­çš„æ—¶å€™ï¼Œåœ¨æ—¥æœ¬è¯»ä¹¦çš„å¥½æœ‹å‹æ”¾å‡å›å›½äº†ï¼Œç„¶åé‚€è¯·æˆ‘ä¸€èµ·åƒé¥­ï¼Œä½†æ˜¯æˆ‘æ²¡æœ‰æƒ³åˆ°å¥¹ä¹Ÿä¼šå«ä¸Šæˆ‘é«˜ä¸­å–œæ¬¢çš„å¥³å­©å­ã€‚æ—¶éš”5å¹´å¤šæˆ‘åˆå†ä¸€æ¬¡è§åˆ°äº†æˆ‘é«˜ä¸­æ—¶å€™çš„ç™½æœˆå…‰å“‡ï¼ŒçœŸçš„æ²¡æœ‰æƒ³åˆ°è¿˜èƒ½å¤Ÿå†è§åˆ°å¥¹ï¼Œå¾ˆæ„Ÿè°¢æˆ‘çš„å¥½æœ‹å‹è®©æˆ‘å†è§åˆ°å¥¹ã€‚ä¹Ÿè®¸ç¡®å®æ—¶é—´ä¼šæ¶ˆæ•£ä¸€åˆ‡ï¼Œæˆ–è€…æ˜¯åŸ‹è—ä¸€åˆ‡ï¼Œè¿™æ¬¡è§åˆ°å¥¹ï¼Œå¹¶æ²¡æœ‰äº†æˆ‘é«˜ä¸­æ—¶å€™çš„å†²åŠ¨ï¼Œæ²¡æœ‰äº†é‚£ç§æ„Ÿè§‰ï¼ˆä¹Ÿè®¸æ˜¯å­¦å¦¹ç»™çš„åˆºæ¿€å¤ªå¤§äº†ï¼Œå“ˆå“ˆå“ˆï¼‰ã€‚æˆ‘æœ‰å†å¾ˆå°½åŠ›å°è¯•å»å’Œå¥¹èŠå¤©ï¼Œä½†æ˜¯å¥½åƒæˆ‘ä»¬å¹¶æ²¡æœ‰è®¸å¤šçš„å…±åŒè¯é¢˜ï¼Œå½“ç„¶æˆ‘ä»¬å½“å¤©è¿˜æ˜¯ç©å¾—æŒºå¼€å¿ƒçš„ã€‚å½“å¤©ç»“æŸåï¼Œæˆ‘å¥½åƒå¹¶æ²¡æœ‰é‚£ç§å¯¹å¥¹ä¾ä¾ä¸èˆçš„æ„Ÿè§‰ï¼Œæ›´å¤šçš„æ˜¯é‚£ç§å¾ˆä¹…æœªè§çš„æœ‹å‹ï¼ŒçŸ­æš‚ç›¸èšååˆåˆ†åˆ«çš„é‚£ç§ä¸èˆçš„æ„Ÿè§‰ï¼ˆå¯¹å¥¹ä»¬ä¸¤ä¸ªï¼‰ã€‚æˆ‘æƒ³è¿™åº”è¯¥å°±ç®—æ˜¯ä¸€ç§è‡ªæˆ‘çš„é‡Šæ€€å­ï¼Œä»ä¸€ç§å–œæ¬¢è½¬å˜æˆå¦ä¸€ç§æœ‹å‹ä¹‹é—´çš„å–œæ¬¢ã€‚å¤šå¹´ä¹‹åæˆ‘ä¹Ÿè®¸ä¹Ÿä¼šå¯¹å­¦å¦¹æ˜¯è¿™ç§æ„Ÿè§‰å§ã€‚æœ€åï¼Œå¸Œæœ›å¥¹ä»¬éƒ½å¼€å¼€å¿ƒå¿ƒçš„ï¼Œç„¶åé¡ºé£é¡ºæ°´çš„å§ã€‚</p><p><strong>è§£é“ƒè¿˜é¡»ç³»é“ƒäºº</strong></p>]]></content>
    
    
    <categories>
      
      <category>æ¯å‘¨å›é¡¾</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ€»ç»“&amp;åæ€</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Mip-NeRF - A Multiscale Representation for Anti-Aliasing Neural Radiance Fields</title>
    <link href="/posts/29490/"/>
    <url>/posts/29490/</url>
    
    <content type="html"><![CDATA[<figure><img src="image-20231222110226139.png" alt="image-20231222110226139" /><figcaption aria-hidden="true">image-20231222110226139</figcaption></figure><p>å›¾ 1ï¼šNeRF (a) æ²¿ä»æ¯ä¸ªåƒç´ çš„æŠ•å½±ä¸­å¿ƒè·Ÿè¸ªçš„å…‰çº¿é‡‡æ ·ç‚¹xï¼Œç„¶åä½¿ç”¨ä½ç½®ç¼–ç  (PE) Î³ å¯¹è¿™äº›ç‚¹è¿›è¡Œç¼–ç ä»¥äº§ç”Ÿç‰¹å¾ Î³(x)ã€‚Mip-NeRF (b)è€Œæ˜¯æ¨ç†ç”±ç›¸æœºåƒç´ å®šä¹‰çš„ 3D é”¥å½¢æˆªé”¥ã€‚ç„¶åä½¿ç”¨æˆ‘ä»¬çš„é›†æˆä½ç½®ç¼–ç  (IPE)å¯¹è¿™äº›åœ†é”¥æˆªé”¥è¿›è¡Œç‰¹å¾åŒ–ï¼Œè¯¥ç¼–ç çš„å·¥ä½œåŸç†æ˜¯ç”¨å¤šå…ƒé«˜æ–¯é€¼è¿‘æˆªé”¥ï¼Œç„¶ååœ¨é«˜æ–¯å†…åæ ‡çš„ä½ç½®ç¼–ç ä¸Šè®¡ç®—ï¼ˆå°é—­å½¢å¼ï¼‰ç§¯åˆ†E[Î³(x)]ã€‚</p><ol type="1"><li>è§£å†³ä¼ªå½±ï¼šmipmapè¡¨ç¤ºä¸€ç»„ä¸åŒç¦»æ•£ä¸‹é‡‡æ ·å°ºåº¦ä¸‹çš„ä¿¡å·(é€šå¸¸æ˜¯å›¾åƒæˆ–çº¹ç†æ˜ å°„)ï¼Œå¹¶æ ¹æ®åƒç´ è¶³è¿¹æŠ•å½±åˆ°è¯¥å°„çº¿ç›¸äº¤çš„å‡ ä½•å›¾å½¢ä¸Šé€‰æ‹©é€‚å½“çš„å°ºåº¦ç”¨äºå°„çº¿ã€‚è¿™ç§ç­–ç•¥è¢«ç§°ä¸ºé¢„è¿‡æ»¤ï¼Œå› ä¸ºæŠ—é”¯é½¿çš„è®¡ç®—è´Ÿæ‹…ä»æ¸²æŸ“æ—¶é—´(å¦‚æš´åŠ›è¶…é‡‡æ ·è§£å†³æ–¹æ¡ˆ)è½¬ç§»åˆ°é¢„è®¡ç®—é˜¶æ®µâ€”â€”mipmapåªéœ€è¦ä¸ºç»™å®šçš„çº¹ç†åˆ›å»ºä¸€æ¬¡ï¼Œè€Œä¸ç®¡çº¹ç†æ¸²æŸ“çš„æ¬¡æ•°å¦‚ä½•ã€‚</li><li>mip-NeRF(multum in parvo NeRF)ï¼Œæ‰©å±•äº† NeRFä»¥åŒæ—¶è¡¨ç¤ºè¿ç»­å°ºåº¦ç©ºé—´çš„é¢„è¿‡æ»¤è¾å°„åœºã€‚mip-NeRF çš„è¾“å…¥æ˜¯ä¸€ä¸ª 3Dé«˜æ–¯ï¼Œå®ƒè¡¨ç¤ºåº”è¯¥é›†æˆè¾å°„åœºçš„åŒºåŸŸã€‚</li><li>Integrated positional encoding(IPE) é›†æˆä½ç½®ç¼–ç ã€‚ä½œç”¨ï¼šç‰¹å¾è¡¨ç¤ºï¼Œè¿™æ˜¯ NeRF çš„ä½ç½®ç¼–ç  (PE)çš„æ¨å¹¿ï¼Œå®ƒå…è®¸å°†ç©ºé—´åŒºåŸŸç´§å‡‘åœ°ç‰¹å¾åŒ–ï¼Œè€Œä¸æ˜¯ç©ºé—´ä¸­çš„å•ä¸ªç‚¹ã€‚</li></ol><blockquote><p>IPEç‰¹å¾ä½œä¸ºè¾“å…¥ä¼ é€’ç»™MLPä»¥äº§ç”Ÿå¯†åº¦ <spanclass="math inline">\(Ï„_k\)</span> å’Œé¢œè‰² <spanclass="math inline">\(c_k\)</span>ï¼Œå¦‚å…¬å¼1æ‰€ç¤ºã€‚mip-NeRFä¸­çš„æ¸²æŸ“éµå¾ªå…¬å¼2ã€‚ <span class="math display">\[âˆ€t_k âˆˆ t, [Ï„_k, c_k] = MLP(Î³(r(t_k)); Î˜)\]</span></p><p><span class="math display">\[\begin{array}{c}\mathbf{C}(\mathbf{r} ; \Theta, \mathrm{t})=\sum_{k} T_{k}\left(1-\exp\left(-\tau_{k}\left(t_{k+1}-t_{k}\right)\right)\right) \mathbf{c}_{k},\\\text { with } \quad T_{k}=\exp \left(-\sum_{k^{\prime}&lt;k}\tau_{k^{\prime}}\left(t_{k^{\prime}+1}-t_{k^{\prime}}\right)\right),\end{array}\]</span></p></blockquote><ol start="4" type="1"><li><p>Mip-NeRFçš„ç‰¹ç‚¹ï¼šMip-NeRFçš„å°ºåº¦æ„ŸçŸ¥ç»“æ„è¿˜å…è®¸æˆ‘ä»¬å°†NeRFç”¨äºåˆ†å±‚é‡‡æ ·çš„ç‹¬ç«‹â€œç²—â€å’Œâ€œç»†â€MLPåˆå¹¶ä¸ºä¸€ä¸ªMLPã€‚å› æ­¤ï¼Œmip-NeRFç•¥å¿«äº NeRFï¼ˆ~7%ï¼‰ï¼Œå‚æ•°æ•°é‡å‡åŠã€‚</p></li><li><p>Mip-NeRFé€šè¿‡ä»æ¯ä¸ªåƒç´ æŠ•å°„ä¸€ä¸ªæ¤ä½“æ”¹å–„æ··å çš„é—®é¢˜ã€‚</p></li></ol>]]></content>
    
    
    <categories>
      
      <category>è®ºæ–‡ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>3D</tag>
      
      <tag>ç•¥è¯»</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç®—æ³•è®­ç»ƒä¹‹ -- æ»‘åŠ¨çª—å£</title>
    <link href="/posts/60655/"/>
    <url>/posts/60655/</url>
    
    <content type="html"><![CDATA[<h3 id="æ»‘åŠ¨çª—å£">æ»‘åŠ¨çª—å£</h3><h4 id="æ€è·¯">1. æ€è·¯</h4><p>â€‹é¢˜ç›®ï¼šç»™å®šä¸€ä¸ªå«æœ‰<code>n</code>ä¸ªæ­£æ•´æ•°çš„æ•°ç»„å’Œä¸€ä¸ªæ­£æ•´æ•°<code>s</code>ï¼Œæ‰¾å‡ºè¯¥æ•°ç»„ä¸­æ»¡è¶³å…¶å’Œ<code>â‰¥s</code>çš„é•¿åº¦æœ€å°çš„è¿ç»­å­æ•°ç»„ï¼Œå¹¶è¿”å›å…¶é•¿åº¦ã€‚å¦‚æœä¸å­˜åœ¨ç¬¦åˆæ¡ä»¶çš„å­æ•°ç»„ï¼Œè¿”å›<code>0</code>ã€‚<ahref="https://leetcode.cn/problems/minimum-size-subarray-sum/">é•¿åº¦æœ€å°çš„å­æ•°ç»„</a></p><p>è¾“å…¥ï¼šs = 7, nums = [2,3,1,2,4,3] è¾“å‡ºï¼š2 è§£é‡Šï¼šå­æ•°ç»„ [4,3]æ˜¯è¯¥æ¡ä»¶ä¸‹çš„é•¿åº¦æœ€å°çš„å­æ•°ç»„ã€‚</p><blockquote><p><strong>æ€è·¯</strong>ï¼šæ‰€è°“æ»‘åŠ¨çª—å£ï¼Œ<strong>å°±æ˜¯ä¸æ–­çš„è°ƒèŠ‚å­åºåˆ—çš„èµ·å§‹ä½ç½®å’Œç»ˆæ­¢ä½ç½®ï¼Œä»è€Œå¾—å‡ºæˆ‘ä»¬è¦æƒ³çš„ç»“æœ</strong>ã€‚åœ¨æš´åŠ›è§£æ³•ä¸­ï¼Œæ˜¯ä¸€ä¸ªforå¾ªç¯æ»‘åŠ¨çª—å£çš„èµ·å§‹ä½ç½®ï¼Œä¸€ä¸ªforå¾ªç¯ä¸ºæ»‘åŠ¨çª—å£çš„ç»ˆæ­¢ä½ç½®ï¼Œç”¨ä¸¤ä¸ªforå¾ªç¯å®Œæˆäº†ä¸€ä¸ªä¸æ–­æœç´¢åŒºé—´çš„è¿‡ç¨‹ã€‚å…¶å®ä»åŠ¨ç”»ä¸­å¯ä»¥å‘ç°æ»‘åŠ¨çª—å£ä¹Ÿå¯ä»¥ç†è§£ä¸ºåŒæŒ‡é’ˆæ³•çš„ä¸€ç§ï¼åªä¸è¿‡è¿™ç§è§£æ³•æ›´åƒæ˜¯ä¸€ä¸ªçª—å£çš„ç§»åŠ¨ï¼Œæ‰€ä»¥å«åšæ»‘åŠ¨çª—å£æ›´é€‚åˆä¸€äº›ã€‚</p><p>æ»‘åŠ¨çª—å£çš„æ–¹æ³•ï¼š<code>i</code>ä¸ºæ»‘åŠ¨çª—å£çš„ç»ˆæ­¢ä½ç½®ï¼Œ<code>j</code>ä¸ºæ»‘åŠ¨çª—å£çš„èµ·å§‹ä½ç½®ï¼Œ<code>Sum</code>è®°å½•å½“å‰<code>j-&gt;i</code>è¿ç»­å­æ•°ç»„çš„å’Œï¼Œ<code>i-j+1</code>ä¸ºå½“å‰è¿ç»­å­æ•°ç»„çš„é•¿åº¦ã€‚</p><p>PSï¼šæ»‘åŠ¨çª—å£æœ€é‡è¦çš„æ˜¯åˆ¤æ–­ å·¦è¾¹çš„ æŒ‡é’ˆä»€ä¹ˆæ—¶å€™å¼€å§‹æ»‘åŠ¨</p></blockquote><h4 id="è§£æ³•">2. è§£æ³•</h4><p><strong>Pythonï¼š</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">minSubArrayLen</span>(<span class="hljs-params">self, target: <span class="hljs-built_in">int</span>, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        l = Sum = <span class="hljs-number">0</span><br>        Len =  <span class="hljs-built_in">float</span>(<span class="hljs-string">&quot;inf&quot;</span>)<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(nums)):<br>            Sum += nums[i]  <span class="hljs-comment"># Sumä¸ºå½“å‰å­æ•°ç»„çš„å’Œ</span><br>            <span class="hljs-keyword">while</span> Sum &gt;= target: <br>                Len = <span class="hljs-built_in">min</span>(Len, i - l + <span class="hljs-number">1</span>)    <span class="hljs-comment"># æœ‰æœ€å° æœ€å¤§è¦æ±‚ å°±éœ€è¦è¿›è¡Œæ¯”è¾ƒ</span><br>                Sum -= nums[l]              <span class="hljs-comment"># Sumå‡å»å½“å‰å­æ•°ç»„çš„èµ·å§‹å…ƒç´ </span><br>                l += <span class="hljs-number">1</span><br>        Len = <span class="hljs-number">0</span> <span class="hljs-keyword">if</span> Len == <span class="hljs-built_in">float</span>(<span class="hljs-string">&quot;inf&quot;</span>) <span class="hljs-keyword">else</span> Len <span class="hljs-comment"># å¦‚æœLenæ²¡æœ‰è¢«èµ‹å€¼ï¼Œè¯´æ˜æ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„å­æ•°ç»„ï¼Œè¿”å›0</span><br>        <span class="hljs-keyword">return</span> Len<br></code></pre></td></tr></table></figure><p><strong>C++</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">minSubArrayLen</span><span class="hljs-params">(<span class="hljs-type">int</span> target, vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums)</span> </span>&#123;<br>        <span class="hljs-type">int</span> l=<span class="hljs-number">0</span>, r = <span class="hljs-number">0</span>, sum = <span class="hljs-number">0</span>, len = INT_MAX;<br>        <span class="hljs-keyword">for</span>(r=<span class="hljs-number">0</span>; r &lt; nums.<span class="hljs-built_in">size</span>(); r++)&#123; <span class="hljs-comment">//æ»‘åŠ¨çª—å£</span><br>            sum += nums[r];<br>            <span class="hljs-keyword">while</span>(sum &gt;= target)&#123;<br>                len = <span class="hljs-built_in">min</span>(len, r-l+<span class="hljs-number">1</span>); <span class="hljs-comment">//è®°å½•æœ€å°é•¿åº¦</span><br>                sum -= nums[l++]; <span class="hljs-comment">//ç¼©å°çª—å£</span><br>            &#125; <br>        &#125;<br>        <span class="hljs-keyword">return</span> len == INT_MAX ? <span class="hljs-number">0</span> : len;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h4 id="å˜ç§">3. å˜ç§</h4><p><strong>â˜†â˜†ï¼ˆ1ï¼‰é¢˜ç›®ï¼š</strong>ä½ æ­£åœ¨æ¢è®¿ä¸€å®¶å†œåœºï¼Œå†œåœºä»å·¦åˆ°å³ç§æ¤äº†ä¸€æ’æœæ ‘ã€‚è¿™äº›æ ‘ç”¨ä¸€ä¸ªæ•´æ•°æ•°ç»„<code>fruits</code> è¡¨ç¤ºï¼Œå…¶ä¸­ <code>fruits[i]</code> æ˜¯ç¬¬<code>i</code> æ£µæ ‘ä¸Šçš„æ°´æœ <strong>ç§ç±»</strong>ã€‚ä½ æƒ³è¦å°½å¯èƒ½å¤šåœ°æ”¶é›†æ°´æœã€‚ç„¶è€Œï¼Œå†œåœºçš„ä¸»äººè®¾å®šäº†ä¸€äº›ä¸¥æ ¼çš„è§„çŸ©ï¼Œä½ å¿…é¡»æŒ‰ç…§è¦æ±‚é‡‡æ‘˜æ°´æœï¼š</p><ul><li>ä½ åªæœ‰ <strong>ä¸¤ä¸ª</strong> ç¯®å­ï¼Œå¹¶ä¸”æ¯ä¸ªç¯®å­åªèƒ½è£…<strong>å•ä¸€ç±»å‹</strong>çš„æ°´æœã€‚æ¯ä¸ªç¯®å­èƒ½å¤Ÿè£…çš„æ°´æœæ€»é‡æ²¡æœ‰é™åˆ¶ã€‚</li><li>ä½ å¯ä»¥é€‰æ‹©ä»»æ„ä¸€æ£µæ ‘å¼€å§‹é‡‡æ‘˜ï¼Œä½ å¿…é¡»ä» <strong>æ¯æ£µ</strong>æ ‘ï¼ˆåŒ…æ‹¬å¼€å§‹é‡‡æ‘˜çš„æ ‘ï¼‰ä¸Š <strong>æ°å¥½æ‘˜ä¸€ä¸ªæ°´æœ</strong>ã€‚é‡‡æ‘˜çš„æ°´æœåº”å½“ç¬¦åˆç¯®å­ä¸­çš„æ°´æœç±»å‹ã€‚æ¯é‡‡æ‘˜ä¸€æ¬¡ï¼Œä½ å°†ä¼šå‘å³ç§»åŠ¨åˆ°ä¸‹ä¸€æ£µæ ‘ï¼Œå¹¶ç»§ç»­é‡‡æ‘˜ã€‚</li><li>ä¸€æ—¦ä½ èµ°åˆ°æŸæ£µæ ‘å‰ï¼Œä½†æ°´æœä¸ç¬¦åˆç¯®å­çš„æ°´æœç±»å‹ï¼Œé‚£ä¹ˆå°±å¿…é¡»åœæ­¢é‡‡æ‘˜ã€‚</li></ul><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>fruits</code> ï¼Œè¿”å›ä½ å¯ä»¥æ”¶é›†çš„æ°´æœçš„<strong>æœ€å¤§</strong> æ•°ç›®ã€‚<ahref="https://leetcode.cn/problems/fruit-into-baskets/description/">904.æ°´æœæˆç¯® - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p><blockquote><p><strong>æ€è·¯ï¼š</strong>æœ¬é¢˜ç­‰ä»·äº<code>åœ¨ä¸€ä¸ªçª—å£ä¸­æ‰¾åˆ°æœ€é•¿çš„ åªåŒ…å«ä¸¤ä¸ªä¸åŒå…ƒç´ çš„æœ€é•¿å­ä¸²åºåˆ—ï¼ˆä¸åŒçš„å…ƒç´ ä¸éœ€è¦è¿ç»­ï¼‰</code></p><p>ä½¿ç”¨æ»‘åŠ¨çª—å£è§£å†³æœ¬é¢˜ï¼Œleft å’Œ rightåˆ†åˆ«è¡¨ç¤ºæ»¡è¶³è¦æ±‚çš„çª—å£çš„å·¦å³è¾¹ç•Œï¼ŒåŒæ—¶æˆ‘ä»¬ä½¿ç”¨å“ˆå¸Œè¡¨å­˜å‚¨è¿™ä¸ªçª—å£å†…çš„æ•°ä»¥åŠå‡ºç°çš„æ¬¡æ•°ã€‚</p><ul><li><p>æ¯æ¬¡å°† right ç§»åŠ¨ä¸€ä¸ªä½ç½®ï¼Œå¹¶å°† fruits[right]åŠ å…¥å“ˆå¸Œè¡¨ã€‚</p></li><li><p>å¦‚æœæ­¤æ—¶å“ˆå¸Œè¡¨ä¸æ»¡è¶³è¦æ±‚ï¼ˆå³å“ˆå¸Œè¡¨ä¸­å‡ºç°è¶…è¿‡ä¸¤ä¸ªé”®å€¼å¯¹ï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦ä¸æ–­ç§»åŠ¨leftï¼Œå¹¶å°† fruits[left]ä»å“ˆå¸Œè¡¨ä¸­ç§»é™¤ï¼Œç›´åˆ°å“ˆå¸Œè¡¨æ»¡è¶³è¦æ±‚ä¸ºæ­¢ã€‚</p></li><li><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå°† fruits[left] ä»å“ˆå¸Œè¡¨ä¸­é€æ­¥å‡å°‘åï¼Œå¦‚æœfruits[left]åœ¨å“ˆå¸Œè¡¨ä¸­çš„å‡ºç°æ¬¡æ•°å‡å°‘ä¸º0ï¼Œéœ€è¦å°†å¯¹åº”çš„é”®å€¼å¯¹ä»å“ˆå¸Œè¡¨ä¸­ç§»é™¤ã€‚</p></li></ul><p>PSï¼šæ»‘åŠ¨çª—å£çš„é‡ç‚¹åœ¨äºå¦‚ä½• <code>åˆ›å»ºçª—å£ å’Œ æ›´æ–°çª—å£</code></p></blockquote><p><strong>Python</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">totalFruit</span>(<span class="hljs-params">self, fruits: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        cnt = Counter() <span class="hljs-comment"># ç”¨å­—å…¸å­˜å‚¨å“ˆå¸Œè¡¨</span><br>        l = maxlen = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">for</span> r <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(fruits)):<br>            cnt[fruits[r]] += <span class="hljs-number">1</span><span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªçª—å£</span><br>            <span class="hljs-keyword">while</span> <span class="hljs-built_in">len</span>(cnt) &gt; <span class="hljs-number">2</span>:<span class="hljs-comment"># ç¼©å°çª—å£ ä»è€Œæ›´æ–°çª—å£</span><br>                cnt[fruits[l]] -= <span class="hljs-number">1</span><br>                <span class="hljs-keyword">if</span> cnt[fruits[l]] == <span class="hljs-number">0</span>:<br>                    cnt.pop(fruits[l])<br>                l += <span class="hljs-number">1</span><br><br>            maxlen = <span class="hljs-built_in">max</span>(maxlen, r-l+<span class="hljs-number">1</span>)<br>        <br>        <span class="hljs-keyword">return</span> maxlen<br><br></code></pre></td></tr></table></figure><p><strong>C++</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">totalFruit</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; fruits)</span> </span>&#123;<br>        <span class="hljs-type">int</span> l=<span class="hljs-number">0</span>, maxlen = <span class="hljs-number">0</span>;<br>        unordered_map&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt; cnt;    <span class="hljs-comment">// åˆ›å»ºmapå­—å…¸</span><br><br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> r=<span class="hljs-number">0</span>; r&lt;fruits.<span class="hljs-built_in">size</span>(); r++)&#123;<br>            cnt[fruits[r]]++;           <span class="hljs-comment">// åˆ›å»ºçª—å£</span><br>            <span class="hljs-keyword">while</span>(cnt.<span class="hljs-built_in">size</span>() &gt; <span class="hljs-number">2</span>)&#123;<br>                <span class="hljs-keyword">auto</span> it = cnt.<span class="hljs-built_in">find</span>(fruits[l]);  <span class="hljs-comment">// åœ¨å­—å…¸ä¸­æŸ¥æ‰¾å…ƒç´ </span><br>                it-&gt;second--;       <br>                <span class="hljs-keyword">if</span>(it-&gt;second == <span class="hljs-number">0</span>)     <span class="hljs-comment">// ç ´åçª—å£</span><br>                    cnt.<span class="hljs-built_in">erase</span>(it);<br>            l++;                        <span class="hljs-comment">// çª—å£å·¦ç§»ç¼©å° ä»è€Œæ›´æ–°</span><br>            &#125;   <br>            maxlen = <span class="hljs-built_in">max</span>(maxlen, r-l+<span class="hljs-number">1</span>);<br>        &#125;<br>        <span class="hljs-keyword">return</span> maxlen;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p><strong>â˜†â˜†â˜† (2) é¢˜ç›®ï¼š</strong>ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² <code>s</code>ã€ä¸€ä¸ªå­—ç¬¦ä¸² <code>t</code> ã€‚è¿”å› <code>s</code> ä¸­æ¶µç›– <code>t</code>æ‰€æœ‰å­—ç¬¦çš„æœ€å°å­ä¸²ã€‚å¦‚æœ <code>s</code> ä¸­ä¸å­˜åœ¨æ¶µç›– <code>t</code>æ‰€æœ‰å­—ç¬¦çš„å­ä¸²ï¼Œåˆ™è¿”å›ç©ºå­—ç¬¦ä¸² <code>""</code> ã€‚<ahref="https://leetcode.cn/problems/minimum-window-substring/description/">76.æœ€å°è¦†ç›–å­ä¸² - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p><blockquote><p><strong>æ€è·¯ï¼š</strong>ç”¨i,jè¡¨ç¤ºæ»‘åŠ¨çª—å£çš„å·¦è¾¹ç•Œå’Œå³è¾¹ç•Œï¼Œé€šè¿‡æ”¹å˜i,jæ¥æ‰©å±•å’Œæ”¶ç¼©æ»‘åŠ¨çª—å£ï¼Œå¯ä»¥æƒ³è±¡æˆä¸€ä¸ªçª—å£åœ¨å­—ç¬¦ä¸²ä¸Šæ¸¸èµ°ï¼Œå½“è¿™ä¸ªçª—å£åŒ…å«çš„å…ƒç´ æ»¡è¶³æ¡ä»¶ï¼Œå³åŒ…å«å­—ç¬¦ä¸²Tçš„æ‰€æœ‰å…ƒç´ ï¼Œè®°å½•ä¸‹è¿™ä¸ªæ»‘åŠ¨çª—å£çš„é•¿åº¦j-i+1ï¼Œè¿™äº›é•¿åº¦ä¸­çš„æœ€å°å€¼å°±æ˜¯è¦æ±‚çš„ç»“æœã€‚</p><ul><li>ä¸æ–­å¢åŠ <code>j</code>ä½¿æ»‘åŠ¨çª—å£å¢å¤§ï¼Œç›´åˆ°çª—å£åŒ…å«äº†Tçš„æ‰€æœ‰å…ƒç´ </li><li>ä¸æ–­å¢åŠ iä½¿æ»‘åŠ¨çª—å£ç¼©å°ï¼Œå› ä¸ºæ˜¯è¦æ±‚æœ€å°å­—ä¸²ï¼Œæ‰€ä»¥å°†ä¸å¿…è¦çš„å…ƒç´ æ’é™¤åœ¨å¤–ï¼Œä½¿é•¿åº¦å‡å°ï¼Œç›´åˆ°ç¢°åˆ°ä¸€ä¸ªå¿…é¡»åŒ…å«çš„å…ƒç´ ï¼Œè¿™ä¸ªæ—¶å€™ä¸èƒ½å†æ‰”äº†ï¼Œå†æ‰”å°±ä¸æ»¡è¶³æ¡ä»¶äº†ï¼Œè®°å½•æ­¤æ—¶æ»‘åŠ¨çª—å£çš„é•¿åº¦ï¼Œå¹¶ä¿å­˜æœ€å°å€¼</li><li>è®©<code>i</code>å†å¢åŠ ä¸€ä¸ªä½ç½®ï¼Œè¿™ä¸ªæ—¶å€™æ»‘åŠ¨çª—å£è‚¯å®šä¸æ»¡è¶³æ¡ä»¶äº†ï¼Œé‚£ä¹ˆç»§ç»­ä»<strong>æ­¥éª¤ä¸€</strong>å¼€å§‹æ‰§è¡Œï¼Œå¯»æ‰¾æ–°çš„æ»¡è¶³æ¡ä»¶çš„æ»‘åŠ¨çª—å£ï¼Œå¦‚æ­¤åå¤ï¼Œç›´åˆ°<code>j</code>è¶…å‡ºäº†å­—ç¬¦ä¸²SèŒƒå›´ã€‚</li></ul><p>PSï¼šæ€è·¯è®²è§£<ahref="https://leetcode.cn/problems/minimum-window-substring/solutions/258513/tong-su-qie-xiang-xi-de-miao-shu-hua-dong-chuang-k/">æœ¬é¢˜æ€è·¯è®²è§£</a></p></blockquote><p><strong>Python</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">minWindow</span>(<span class="hljs-params">self, s: <span class="hljs-built_in">str</span>, t: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:<br>        <span class="hljs-comment"># cnt = Counter(t)# ä½¿ç”¨ä¸‹é¢çš„å­—å…¸æ–¹æ³•é€Ÿåº¦æ›´å¿«</span><br>        cnt = collections.defaultdict(<span class="hljs-built_in">int</span>)<span class="hljs-comment"># ä½¿ç”¨å­—å…¸å­˜å‚¨ t ä¸­çš„å…ƒç´ åŠå…¶ä¸ªæ•°</span><br>        <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> t:<br>            cnt[c] += <span class="hljs-number">1</span><br>        cntLen = <span class="hljs-built_in">len</span>(t)<br>        left = <span class="hljs-number">0</span><br>        ans = (<span class="hljs-number">0</span>, <span class="hljs-built_in">float</span>(<span class="hljs-string">&#x27;inf&#x27;</span>))<br>        <span class="hljs-comment"># for right in range(len(s)):# ä½¿ç”¨enumå‡½æ•°ç›´æ¥å–å…ƒç´ ï¼Œ æ¯”é€šè¿‡ç´¢å¼•æŸ¥è¯¢å­—ç¬¦ä¸²ä¸­çš„å…ƒç´ è¦å¿«</span><br>        <span class="hljs-comment">#     c = s[right]</span><br>        <span class="hljs-keyword">for</span> idx, c <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(s):<span class="hljs-comment"># ä» s å­—ç¬¦ä¸²ä¸­å–å…ƒç´ </span><br>            <span class="hljs-keyword">if</span> cnt[c] &gt; <span class="hljs-number">0</span>:<br>                cntLen -= <span class="hljs-number">1</span><span class="hljs-comment"># å¦‚æœå½“å‰å…ƒç´ æ˜¯ t ä¸­å…ƒç´ ï¼Œ é•¿åº¦ -1</span><br>            cnt[c] -= <span class="hljs-number">1</span><span class="hljs-comment"># æ›´æ–°å­—å…¸ï¼Œå­—å…¸ä¸­å¯¹åº”çš„ c å…ƒç´  -1ï¼ˆå¦‚æœåœ¨tä¸­ä¸å­˜åœ¨ï¼Œå€¼åˆ™ä¸º-1ï¼‰</span><br>            <span class="hljs-keyword">if</span> cntLen == <span class="hljs-number">0</span>:<span class="hljs-comment"># å¦‚æœ t æ€»é•¿åº¦ä¸º0ï¼Œ åˆ™è¯´æ˜å½“å‰çª—å£ä¸­å·²ç»åŒ…å«äº†æ‰€æœ‰çš„ t ä¸­çš„å…ƒç´ ï¼Œå‡†å¤‡ç¼©å°çª—å£</span><br>                <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>                    <span class="hljs-keyword">if</span> cnt[s[left]] == <span class="hljs-number">0</span>:<span class="hljs-comment"># å¦‚æœå½“å‰å…ƒç´ ä¸º t ä¸­çš„å…ƒç´ ï¼Œè·³å‡ºå¾ªç¯ï¼ˆçª—å£ä¸­éœ€è¦åŒ…å« t ä¸­çš„å…ƒç´ ï¼‰</span><br>                        <span class="hljs-keyword">break</span><br>                    cnt[s[left]] += <span class="hljs-number">1</span><span class="hljs-comment"># æ›´æ–°å­—å…¸ï¼Œå½“å‰å…ƒç´ å€¼ +1</span><br>                    left += <span class="hljs-number">1</span><span class="hljs-comment"># ç¼©å°çª—å£</span><br>                <span class="hljs-keyword">if</span> idx - left &lt; ans[<span class="hljs-number">1</span>] - ans[<span class="hljs-number">0</span>]:<span class="hljs-comment"># è¿›è¡Œæ¯”è¾ƒï¼Œæ›´æ–°æœ€å°å­ä¸² </span><br>                    ans = (left, idx)<br>                cnt[s[left]] += <span class="hljs-number">1</span><span class="hljs-comment"># ä¸‹é¢è¿™ä¸‰è¡Œæ˜¯å› ä¸º s[left] in tï¼Œå½“å‰çª—å£çš„ç¬¬ä¸€ä¸ªå…ƒç´ å½“å¥½åœ¨ t ä¸­</span><br>                cntLen += <span class="hljs-number">1</span><span class="hljs-comment"># ä»ä¸Šé¢çš„ if ä¸­ break å‡ºæ¥äº†ï¼Œæ‰€ä»¥éœ€è¦å¯¹å…¶è¿›è¡Œ +1 æ“ä½œ</span><br>                left += <span class="hljs-number">1</span><span class="hljs-comment"># åŒæ—¶ t çš„æ€»é•¿åº¦å°±ä¹Ÿéœ€è¦å¯¹åº”çš„ +1ï¼Œä»è€Œä½¿å¾—çª—å£ç»§ç»­æ»‘åŠ¨</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&#x27;</span> <span class="hljs-keyword">if</span> ans[<span class="hljs-number">1</span>] &gt; <span class="hljs-built_in">len</span>(s) <span class="hljs-keyword">else</span> s[ans[<span class="hljs-number">0</span>]:ans[<span class="hljs-number">1</span>]+<span class="hljs-number">1</span>]<br>    <br></code></pre></td></tr></table></figure><p><strong>C++</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">string <span class="hljs-title">minWindow</span><span class="hljs-params">(string s, string t)</span> </span>&#123;<br>        unordered_map&lt;<span class="hljs-type">char</span>, <span class="hljs-type">int</span>&gt; cnt;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">const</span> <span class="hljs-type">char</span>&amp; c : t)&#123;<br>            cnt[c]++;<br>        &#125;<br>        <span class="hljs-type">int</span> cntLen = t.<span class="hljs-built_in">length</span>();<br>        <span class="hljs-type">int</span> left = <span class="hljs-number">0</span>, start = <span class="hljs-number">0</span>, end = INT_MAX;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> right=<span class="hljs-number">0</span>; right&lt;s.<span class="hljs-built_in">length</span>(); right++)&#123;<br>            <span class="hljs-keyword">if</span>(cnt[s[right]] &gt; <span class="hljs-number">0</span>)<br>                cntLen--;<br>            cnt[s[right]]--;<br>            <span class="hljs-keyword">if</span>(cntLen == <span class="hljs-number">0</span>)&#123;<br>                <span class="hljs-keyword">while</span>(<span class="hljs-literal">true</span>)&#123;<br>                    <span class="hljs-keyword">if</span>(cnt[s[left]] == <span class="hljs-number">0</span>)<br>                        <span class="hljs-keyword">break</span>;<br>                    cnt[s[left++]]++;<br>                &#125;<br>                <span class="hljs-keyword">if</span>(right - left + <span class="hljs-number">1</span> &lt; end)&#123;<br>                    start = left<br>                    end = right - left + <span class="hljs-number">1</span>;<br>                &#125;<br>                cnt[s[left++]]++;<br>                cntLen++;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> end == INT_MAX ? <span class="hljs-string">&quot;&quot;</span> : s.<span class="hljs-built_in">substr</span>(start, end);  <span class="hljs-comment">// substr(start_idx, len) å¼€å§‹ä½ç½®ï¼Œæˆªå–é•¿åº¦</span><br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p><strong>(3) é¢˜ç›®ï¼š</strong>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² <code>s</code>ï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­ä¸å«æœ‰é‡å¤å­—ç¬¦çš„ <strong>æœ€é•¿å­ä¸²</strong> çš„é•¿åº¦ã€‚<ahref="https://leetcode.cn/problems/longest-substring-without-repeating-characters/description/">3.æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸² - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p><blockquote><p><strong>æ€è·¯ï¼š</strong>æ»‘åŠ¨çª—å£ +å“ˆå¸Œè¡¨ï¼Œå“ˆå¸Œè¡¨çš„è¡¨ç¤ºå¯ä»¥ä½¿ç”¨å­—å…¸å’Œé›†åˆï¼Œä½¿ç”¨é›†åˆçš„é€Ÿåº¦æ¯”ä½¿ç”¨å­—å…¸çš„é€Ÿåº¦è¦å¿«</p><p><ahref="https://leetcode.cn/problems/longest-substring-without-repeating-characters/solutions/2361797/3-wu-zhong-fu-zi-fu-de-zui-chang-zi-chua-26i5/">è§£æ³•ä¸€</a>ï¼š</p><ul><li><p>å“ˆå¸Œè¡¨ dicdicdic ç»Ÿè®¡ï¼š æŒ‡é’ˆ j éå†å­—ç¬¦ s ï¼Œå“ˆå¸Œè¡¨ç»Ÿè®¡å­—ç¬¦ s[j]æœ€åä¸€æ¬¡å‡ºç°çš„ç´¢å¼• ã€‚</p></li><li><p>æ›´æ–°å·¦æŒ‡é’ˆ iï¼š æ ¹æ®ä¸Šè½®å·¦æŒ‡é’ˆ i å’Œ dic[s[j]] ï¼Œæ¯è½®æ›´æ–°å·¦è¾¹ç•Œ iï¼Œä¿è¯åŒºé—´ [i+1,j][i + 1, j][i+1,j] å†…æ— é‡å¤å­—ç¬¦ä¸”æœ€å¤§ã€‚<spanclass="math inline">\(i=maxâ¡(dic[s[j]],i)\)</span></p></li><li><p>æ›´æ–°ç»“æœ res ï¼š å–ä¸Šè½® res å’Œæœ¬è½®åŒæŒ‡é’ˆåŒºé—´ [i+1,j] çš„å®½åº¦ï¼ˆå³jâˆ’iï¼‰ä¸­çš„æœ€å¤§å€¼ã€‚<spanclass="math inline">\(res=maxâ¡(res,jâˆ’i)\)</span></p></li></ul><p><ahref="https://leetcode.cn/problems/longest-substring-without-repeating-characters/solutions/227999/wu-zhong-fu-zi-fu-de-zui-chang-zi-chuan-by-leetc-2/">è§£æ³•äºŒ</a>ï¼š</p><ul><li><p>æˆ‘ä»¬ä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆè¡¨ç¤ºå­—ç¬¦ä¸²ä¸­çš„æŸä¸ªå­ä¸²ï¼ˆæˆ–çª—å£ï¼‰çš„å·¦å³è¾¹ç•Œï¼Œå…¶ä¸­å·¦æŒ‡é’ˆä»£è¡¨ç€ä¸Šæ–‡ä¸­ã€Œæšä¸¾å­ä¸²çš„èµ·å§‹ä½ç½®ã€ï¼Œè€Œå³æŒ‡é’ˆå³ä¸º<spanclass="math inline">\(r_k\)</span></p></li><li><p>åœ¨æ¯ä¸€æ­¥çš„æ“ä½œä¸­ï¼Œæˆ‘ä»¬ä¼šå°†å·¦æŒ‡é’ˆå‘å³ç§»åŠ¨ä¸€æ ¼ï¼Œè¡¨ç¤ºæˆ‘ä»¬å¼€å§‹æšä¸¾ä¸‹ä¸€ä¸ªå­—ç¬¦ä½œä¸ºèµ·å§‹ä½ç½®ï¼Œç„¶åæˆ‘ä»¬å¯ä»¥ä¸æ–­åœ°å‘å³ç§»åŠ¨å³æŒ‡é’ˆï¼Œä½†éœ€è¦ä¿è¯è¿™ä¸¤ä¸ªæŒ‡é’ˆå¯¹åº”çš„å­ä¸²ä¸­æ²¡æœ‰é‡å¤çš„å­—ç¬¦ã€‚åœ¨ç§»åŠ¨ç»“æŸåï¼Œè¿™ä¸ªå­ä¸²å°±å¯¹åº”ç€ä»¥å·¦æŒ‡é’ˆå¼€å§‹çš„ï¼Œä¸åŒ…å«é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²ã€‚æˆ‘ä»¬è®°å½•ä¸‹è¿™ä¸ªå­ä¸²çš„é•¿åº¦ï¼›</p></li><li><p>åœ¨æšä¸¾ç»“æŸåï¼Œæˆ‘ä»¬æ‰¾åˆ°çš„æœ€é•¿çš„å­ä¸²çš„é•¿åº¦å³ä¸ºç­”æ¡ˆã€‚</p></li></ul></blockquote><p><strong>Python</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># è§£æ³•ä¸€ï¼š</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">lengthOfLongestSubstring</span>(<span class="hljs-params">self, s: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        dic, res, i = &#123;&#125;, <span class="hljs-number">0</span>, -<span class="hljs-number">1</span><br>        n = <span class="hljs-built_in">len</span>(s)<br>        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>            <span class="hljs-keyword">if</span> s[j] <span class="hljs-keyword">in</span> dic:<br>                i = <span class="hljs-built_in">max</span>(dic[s[j]], i)<span class="hljs-comment"># æ‰¾åˆ°ç¬¬äºŒä¸ªç›¸åŒå­—ç¬¦çš„ç´¢å¼•</span><br>            dic[s[j]] = j           <span class="hljs-comment"># å­—å…¸çš„å€¼ä¸ºå½“å‰å­—ç¬¦çš„ç´¢å¼•</span><br>            res = <span class="hljs-built_in">max</span>(res, j - i)<br>        <span class="hljs-keyword">return</span> res<br>    <br> <span class="hljs-comment"># è§£æ³•äºŒï¼š</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">lengthOfLongestSubstring</span>(<span class="hljs-params">self, s: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        <span class="hljs-comment"># å“ˆå¸Œé›†åˆï¼Œè®°å½•æ¯ä¸ªå­—ç¬¦æ˜¯å¦å‡ºç°è¿‡</span><br>        occ = <span class="hljs-built_in">set</span>()<br>        n = <span class="hljs-built_in">len</span>(s)<br>        <span class="hljs-comment"># å³æŒ‡é’ˆï¼Œåˆå§‹å€¼ä¸º -1ï¼Œç›¸å½“äºæˆ‘ä»¬åœ¨å­—ç¬¦ä¸²çš„å·¦è¾¹ç•Œçš„å·¦ä¾§ï¼Œè¿˜æ²¡æœ‰å¼€å§‹ç§»åŠ¨</span><br>        rk, ans = -<span class="hljs-number">1</span>, <span class="hljs-number">0</span> <span class="hljs-comment"># ä¹Ÿå¯ä»¥ä»0å¼€å§‹</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>            <span class="hljs-keyword">if</span> i != <span class="hljs-number">0</span>:   <span class="hljs-comment"># å·¦æŒ‡é’ˆå‘å³ç§»åŠ¨ä¸€æ ¼ï¼Œç§»é™¤ä¸€ä¸ªå­—ç¬¦ï¼Œ è¿™ä¸ªæ—¶å€™ä¸ºé‡åˆ°äº†ç›¸åŒå­—ç¬¦</span><br>                occ.remove(s[i - <span class="hljs-number">1</span>])<br>            <span class="hljs-keyword">while</span> rk + <span class="hljs-number">1</span> &lt; n <span class="hljs-keyword">and</span> s[rk + <span class="hljs-number">1</span>] <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> occ: <span class="hljs-comment"># ä¸æ–­åœ°ç§»åŠ¨å³æŒ‡é’ˆï¼Œæ‰©å¤§çª—å£ï¼Œç›´åˆ°é‡åˆ°ç›¸åŒå­—ç¬¦</span><br>                occ.add(s[rk + <span class="hljs-number">1</span>])<br>                rk += <span class="hljs-number">1</span><br>            ans = <span class="hljs-built_in">max</span>(ans, rk - i + <span class="hljs-number">1</span>)  <span class="hljs-comment"># ç¬¬ i åˆ° rk ä¸ªå­—ç¬¦æ˜¯ä¸€ä¸ªæé•¿çš„æ— é‡å¤å­—ç¬¦å­ä¸²</span><br>        <span class="hljs-keyword">return</span> ans<br><br></code></pre></td></tr></table></figure><p><strong>C++</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">lengthOfLongestSubstring</span><span class="hljs-params">(string s)</span> </span>&#123;<br>        <span class="hljs-comment">// å“ˆå¸Œé›†åˆï¼Œè®°å½•æ¯ä¸ªå­—ç¬¦æ˜¯å¦å‡ºç°è¿‡</span><br>        unordered_set&lt;<span class="hljs-type">char</span>&gt; occ;<br>        <span class="hljs-type">int</span> n = s.<span class="hljs-built_in">size</span>();<br>        <span class="hljs-comment">// å³æŒ‡é’ˆï¼Œåˆå§‹å€¼ä¸º -1ï¼Œç›¸å½“äºæˆ‘ä»¬åœ¨å­—ç¬¦ä¸²çš„å·¦è¾¹ç•Œçš„å·¦ä¾§ï¼Œè¿˜æ²¡æœ‰å¼€å§‹ç§»åŠ¨</span><br>        <span class="hljs-type">int</span> rk = <span class="hljs-number">-1</span>, ans = <span class="hljs-number">0</span>;<br>        <span class="hljs-comment">// æšä¸¾å·¦æŒ‡é’ˆçš„ä½ç½®ï¼Œåˆå§‹å€¼éšæ€§åœ°è¡¨ç¤ºä¸º -1</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i) &#123;<br>            <span class="hljs-keyword">if</span> (i != <span class="hljs-number">0</span>) &#123;<br>                <span class="hljs-comment">// å·¦æŒ‡é’ˆå‘å³ç§»åŠ¨ä¸€æ ¼ï¼Œç§»é™¤ä¸€ä¸ªå­—ç¬¦</span><br>                occ.<span class="hljs-built_in">erase</span>(s[i - <span class="hljs-number">1</span>]);<br>            &#125;<br>            <span class="hljs-keyword">while</span> (rk + <span class="hljs-number">1</span> &lt; n &amp;&amp; !occ.<span class="hljs-built_in">count</span>(s[rk + <span class="hljs-number">1</span>])) &#123;<br>                <span class="hljs-comment">// ä¸æ–­åœ°ç§»åŠ¨å³æŒ‡é’ˆ</span><br>                occ.<span class="hljs-built_in">insert</span>(s[rk + <span class="hljs-number">1</span>]);<br>                ++rk;<br>            &#125;<br>            <span class="hljs-comment">// ç¬¬ i åˆ° rk ä¸ªå­—ç¬¦æ˜¯ä¸€ä¸ªæé•¿çš„æ— é‡å¤å­—ç¬¦å­ä¸²</span><br>            ans = <span class="hljs-built_in">max</span>(ans, rk - i + <span class="hljs-number">1</span>);<br>        &#125;<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p><strong>(4) é¢˜ç›®:</strong>ç»™ä½ ä¸¤ä¸ªå­—ç¬¦ä¸² <code>s1</code> å’Œ<code>s2</code> ï¼Œå†™ä¸€ä¸ªå‡½æ•°æ¥åˆ¤æ–­ <code>s2</code> æ˜¯å¦åŒ…å«<code>s1</code> çš„æ’åˆ—ã€‚å¦‚æœæ˜¯ï¼Œè¿”å› <code>true</code> ï¼›å¦åˆ™ï¼Œè¿”å›<code>false</code> ã€‚</p><p>æ¢å¥è¯è¯´ï¼Œ<code>s1</code> çš„æ’åˆ—ä¹‹ä¸€æ˜¯ <code>s2</code> çš„<strong>å­ä¸²</strong> ã€‚<ahref="https://leetcode.cn/problems/permutation-in-string/description/">567.å­—ç¬¦ä¸²çš„æ’åˆ— - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p><blockquote><p><strong>æ€è·¯ï¼š</strong><ahref="https://leetcode.cn/problems/permutation-in-string/solutions/599528/zhu-shi-chao-xiang-xi-de-hua-dong-chuang-rc7d/">é¢˜è§£</a>æ»‘åŠ¨çª—å£ + å­—å…¸ Or æ•°ç»„ <em>çª—å£å›ºå®š</em></p><ul><li>åˆ†æä¸€ï¼šé¢˜ç›®è¦æ±‚ <code>s1</code> çš„æ’åˆ—ä¹‹ä¸€æ˜¯ <code>s2</code>çš„ä¸€ä¸ªå­ä¸²ã€‚è€Œ<strong>å­ä¸²</strong>å¿…é¡»æ˜¯è¿ç»­çš„ï¼Œæ‰€ä»¥è¦æ±‚çš„<code>s2</code> å­ä¸²çš„é•¿åº¦è·Ÿ <code>s1</code> é•¿åº¦å¿…é¡»ç›¸ç­‰ã€‚</li><li><strong>åˆ†æäºŒï¼š</strong> é‚£ä¹ˆæˆ‘ä»¬æœ‰å¿…è¦æŠŠ <code>s1</code>çš„æ¯ä¸ªæ’åˆ—éƒ½æ±‚å‡ºæ¥å—ï¼Ÿå½“ç„¶ä¸ç”¨ã€‚å¦‚æœå­—ç¬¦ä¸² <code>a</code> æ˜¯<code>b</code>çš„ä¸€ä¸ªæ’åˆ—ï¼Œé‚£ä¹ˆå½“ä¸”ä»…å½“å®ƒä»¬ä¸¤è€…ä¸­çš„<strong>æ¯ä¸ªå­—ç¬¦çš„ä¸ªæ•°éƒ½</strong>å¿…é¡»å®Œå…¨ç›¸ç­‰ã€‚<ul><li>ä½¿ç”¨ä¸€ä¸ªé•¿åº¦å’Œ s1 é•¿åº¦ç›¸ç­‰çš„å›ºå®šçª—å£å¤§å°çš„æ»‘åŠ¨çª—å£ï¼Œåœ¨ s2ä¸Šé¢ä»å·¦å‘å³æ»‘åŠ¨ï¼Œåˆ¤æ–­ s2 åœ¨æ»‘åŠ¨çª—å£å†…çš„æ¯ä¸ªå­—ç¬¦å‡ºç°çš„ä¸ªæ•°æ˜¯å¦è·Ÿ s1æ¯ä¸ªå­—ç¬¦å‡ºç°æ¬¡æ•°å®Œå…¨ç›¸ç­‰ã€‚</li><li>å®šä¹‰ counter1 æ˜¯å¯¹ s1 å†…å­—ç¬¦å‡ºç°çš„ä¸ªæ•°çš„ç»Ÿè®¡ï¼Œå®šä¹‰ counter2 æ˜¯å¯¹ s2å†…å­—ç¬¦å‡ºç°çš„ä¸ªæ•°çš„ç»Ÿè®¡ã€‚åœ¨çª—å£æ¯æ¬¡å³ç§»çš„æ—¶å€™ï¼Œéœ€è¦æŠŠå³è¾¹æ–°åŠ å…¥çª—å£çš„å­—ç¬¦ä¸ªæ•°åœ¨counter2 ä¸­åŠ  1ï¼ŒæŠŠå·¦è¾¹ç§»å‡ºçª—å£çš„å­—ç¬¦çš„ä¸ªæ•°å‡ 1ã€‚å¦‚æœ counter1 ==counter2 ï¼Œé‚£ä¹ˆè¯´æ˜çª—å£å†…çš„å­ä¸²æ˜¯ s1 çš„ä¸€ä¸ªæ’åˆ—ï¼Œè¿”å›Trueï¼›å¦‚æœçª—å£å·²ç»æŠŠ s2 éå†å®Œäº†ä»ç„¶æ²¡æœ‰æ‰¾åˆ°æ»¡è¶³æ¡ä»¶çš„æ’åˆ—ï¼Œè¿”å›Falseã€‚</li></ul></li></ul><p>PSï¼šæœ¬é¢˜ä¸­çš„ counterå¯ä»¥ç”¨å­—å…¸ï¼Œä¹Ÿå¯ä»¥ç”¨æ•°ç»„æ¥å®ç°ã€‚ç”¨å­—å…¸çš„æ—¶å€™ï¼Œéœ€è¦æ³¨æ„ï¼šå¦‚æœç§»é™¤ leftå…ƒç´ åï¼Œè‹¥ counter2[s2[left]] == 0 é‚£ä¹ˆéœ€è¦ä»å­—å…¸ä¸­åˆ é™¤ s2[left]è¿™ä¸ªkeyã€‚å› ä¸º {"a":0, "b":1} å’Œ {"b":1} æ˜¯ä¸ç­‰çš„ã€‚</p></blockquote><p><strong>Python</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>(<span class="hljs-title class_ inherited__">object</span>):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">checkInclusion</span>(<span class="hljs-params">self, s1, s2</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        :type s1: str</span><br><span class="hljs-string">        :type s2: str</span><br><span class="hljs-string">        :rtype: bool</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <span class="hljs-comment"># ç»Ÿè®¡ s1 ä¸­æ¯ä¸ªå­—ç¬¦å‡ºç°çš„æ¬¡æ•°</span><br>        counter1 = collections.Counter(s1)<br>        N = <span class="hljs-built_in">len</span>(s2)<br>        <span class="hljs-comment"># å®šä¹‰æ»‘åŠ¨çª—å£çš„èŒƒå›´æ˜¯ [left, right]ï¼Œé—­åŒºé—´ï¼Œé•¿åº¦ä¸s1ç›¸ç­‰</span><br>        left = <span class="hljs-number">0</span><br>        right = <span class="hljs-built_in">len</span>(s1) - <span class="hljs-number">1</span><br>        <span class="hljs-comment"># ç»Ÿè®¡çª—å£s2[left, right - 1]å†…çš„å…ƒç´ å‡ºç°çš„æ¬¡æ•°</span><br>        counter2 = collections.Counter(s2[<span class="hljs-number">0</span>:right])<br>        <span class="hljs-keyword">while</span> right &lt; N:<br>            <span class="hljs-comment"># æŠŠ right ä½ç½®çš„å…ƒç´ æ”¾åˆ° counter2 ä¸­</span><br>            counter2[s2[right]] += <span class="hljs-number">1</span><br>            <span class="hljs-comment"># å¦‚æœæ»‘åŠ¨çª—å£å†…å„ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°è·Ÿ s1 çš„å…ƒç´ å‡ºç°æ¬¡æ•°å®Œå…¨ä¸€è‡´ï¼Œè¿”å› True</span><br>            <span class="hljs-keyword">if</span> counter1 == counter2:<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br>            <span class="hljs-comment"># çª—å£å‘å³ç§»åŠ¨å‰ï¼ŒæŠŠå½“å‰ left ä½ç½®çš„å…ƒç´ å‡ºç°æ¬¡æ•° - 1</span><br>            counter2[s2[left]] -= <span class="hljs-number">1</span><br>            <span class="hljs-comment"># å¦‚æœå½“å‰ left ä½ç½®çš„å…ƒç´ å‡ºç°æ¬¡æ•°ä¸º 0ï¼Œ éœ€è¦ä»å­—å…¸ä¸­åˆ é™¤ï¼Œå¦åˆ™è¿™ä¸ªå‡ºç°æ¬¡æ•°ä¸º 0 çš„å…ƒç´ ä¼šå½±å“ä¸¤ counter ä¹‹é—´çš„æ¯”è¾ƒ</span><br>            <span class="hljs-keyword">if</span> counter2[s2[left]] == <span class="hljs-number">0</span>:<br>                <span class="hljs-keyword">del</span> counter2[s2[left]]<br>            <span class="hljs-comment"># çª—å£å‘å³ç§»åŠ¨</span><br>            left += <span class="hljs-number">1</span><br>            right += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br></code></pre></td></tr></table></figure><p><strong>C++</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// ä½¿ç”¨æ•°ç»„æ¥å­˜å‚¨</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">checkInclusion</span><span class="hljs-params">(string s1, string s2)</span> </span>&#123;<br>        <span class="hljs-type">int</span> len1 = s1.<span class="hljs-built_in">length</span>(), len2 = s2.<span class="hljs-built_in">length</span>();<br><br>        <span class="hljs-keyword">if</span>(len1 &gt; len2)<span class="hljs-comment">// ä½¿ç”¨æ•°ç»„å­˜å‚¨éœ€è¦æ³¨æ„åˆ¤æ–­å­æ•°ç»„çš„é•¿åº¦æ˜¯ä¸æ˜¯å¤§äºçˆ¶æ•°ç»„çš„é•¿åº¦</span><br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br><br>        <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">cnt1</span><span class="hljs-params">(<span class="hljs-number">26</span>)</span>, <span class="hljs-title">cnt2</span><span class="hljs-params">(<span class="hljs-number">26</span>)</span></span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;len1; i++)&#123;<span class="hljs-comment">// å­˜å‚¨ s1çš„å…ƒç´  ä»¥åŠ s2 å¯¹åº”s1çš„å…ƒç´ </span><br>            cnt1[s1[i] - <span class="hljs-string">&#x27;a&#x27;</span>]++;<br>            cnt2[s2[i] - <span class="hljs-string">&#x27;a&#x27;</span>]++;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(cnt1 == cnt2)<span class="hljs-comment">// åˆ¤æ–­æ˜¯å¦ç›¸ç­‰</span><br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=len1; i&lt;len2; i++)&#123;<span class="hljs-comment">// ç§»åŠ¨çª—å£ï¼Œ çª—å£å¤§å°ä¸å˜</span><br>            cnt2[s2[i] - <span class="hljs-string">&#x27;a&#x27;</span>]++;<span class="hljs-comment">// ä¸€è¿›</span><br>            cnt2[s2[i-len1] - <span class="hljs-string">&#x27;a&#x27;</span>]--;<span class="hljs-comment">// ä¸€å‡º</span><br>            <span class="hljs-keyword">if</span>(cnt1 == cnt2)<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p><strong>(5) é¢˜ç›®ï¼š</strong>ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸² <code>s</code> å’Œ<code>p</code>ï¼Œæ‰¾åˆ° <code>s</code> ä¸­æ‰€æœ‰ <code>p</code> çš„<strong>å¼‚ä½è¯</strong>çš„å­ä¸²ï¼Œè¿”å›è¿™äº›å­ä¸²çš„èµ·å§‹ç´¢å¼•ã€‚ä¸è€ƒè™‘ç­”æ¡ˆè¾“å‡ºçš„é¡ºåºã€‚</p><p><strong>å¼‚ä½è¯</strong>æŒ‡ç”±ç›¸åŒå­—æ¯é‡æ’åˆ—å½¢æˆçš„å­—ç¬¦ä¸²ï¼ˆåŒ…æ‹¬ç›¸åŒçš„å­—ç¬¦ä¸²ï¼‰ã€‚<ahref="https://leetcode.cn/problems/find-all-anagrams-in-a-string/description/?envType=study-plan-v2&amp;envId=top-100-liked">438.æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p><blockquote><p><strong>æ€è·¯ï¼š</strong>å’Œï¼ˆ4ï¼‰çš„è§£æ³•ä¸€æ ·ï¼Œå›ºå®šçª—å£ï¼Œä¸€è¿›ä¸€å‡º</p><p>æ ¹æ®é¢˜ç›®è¦æ±‚ï¼Œæˆ‘ä»¬éœ€è¦åœ¨å­—ç¬¦ä¸² s å¯»æ‰¾å­—ç¬¦ä¸² p çš„å¼‚ä½è¯ã€‚å› ä¸ºå­—ç¬¦ä¸² pçš„å¼‚ä½è¯çš„é•¿åº¦ä¸€å®šä¸å­—ç¬¦ä¸² p çš„é•¿åº¦ç›¸åŒï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨å­—ç¬¦ä¸² sä¸­æ„é€ ä¸€ä¸ªé•¿åº¦ä¸ºä¸å­—ç¬¦ä¸² pçš„é•¿åº¦ç›¸åŒçš„æ»‘åŠ¨çª—å£ï¼Œå¹¶åœ¨æ»‘åŠ¨ä¸­ç»´æŠ¤çª—å£ä¸­æ¯ç§å­—æ¯çš„æ•°é‡ï¼›å½“çª—å£ä¸­æ¯ç§å­—æ¯çš„æ•°é‡ä¸å­—ç¬¦ä¸²p ä¸­æ¯ç§å­—æ¯çš„æ•°é‡ç›¸åŒæ—¶ï¼Œåˆ™è¯´æ˜å½“å‰çª—å£ä¸ºå­—ç¬¦ä¸² p çš„å¼‚ä½è¯ã€‚</p></blockquote><p><strong>Python</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># ä½¿ç”¨å­—å…¸</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">findAnagrams</span>(<span class="hljs-params">self, s: <span class="hljs-built_in">str</span>, p: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]:<br>        len_p = <span class="hljs-built_in">len</span>(p)<br>        left, right, ans = <span class="hljs-number">0</span>, len_p, []<br>        cnt_p = collections.defaultdict(<span class="hljs-built_in">int</span>)<br>        cnt_s = collections.defaultdict(<span class="hljs-built_in">int</span>)<br>        <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> p:<span class="hljs-comment"># åˆå§‹åŒ– p çš„å­—å…¸</span><br>            cnt_p[c] += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> s[<span class="hljs-number">0</span>:right]:<span class="hljs-comment"># åˆå§‹åŒ– s çš„å­—å…¸ï¼Œæ­¤æ—¶åªéœ€è¦å’Œ p çš„é•¿åº¦ç›¸åŒ</span><br>            cnt_s[c] += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">if</span> cnt_p == cnt_s:<span class="hljs-comment"># å…ˆåˆ¤æ–­ä¸€æ³¢æ˜¯å¦ç›¸ç­‰ï¼Œæ–¹ä¾¿åç»­çª—å£ç§»åŠ¨</span><br>            ans.append(left)<br>        <span class="hljs-keyword">while</span> right &lt; <span class="hljs-built_in">len</span>(s):<span class="hljs-comment"># å¼€å§‹ç§»åŠ¨çª—å£ ä¸€è¿›ä¸€å‡º çª—å£å¤§å°å›ºå®š</span><br>            cnt_s[s[right]] += <span class="hljs-number">1</span><br>            cnt_s[s[left]] -= <span class="hljs-number">1</span><br>            <span class="hljs-keyword">if</span> cnt_s[s[left]] == <span class="hljs-number">0</span>:<span class="hljs-comment"># ps: å¦‚æœå…ƒç´ ä¸º0äº†ï¼Œåˆ™éœ€è¦å°†å…¶åˆ é™¤</span><br>                <span class="hljs-keyword">del</span> cnt_s[s[left]]<br>            left += <span class="hljs-number">1</span><br>            right += <span class="hljs-number">1</span><br>            <span class="hljs-keyword">if</span> cnt_p == cnt_s:<span class="hljs-comment"># åˆ¤æ–­æ˜¯å¦ç›¸ç­‰</span><br>                ans.append(left)<br>        <span class="hljs-keyword">return</span> ans<br><br> <span class="hljs-comment"># ä½¿ç”¨æ•°ç»„</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">findAnagrams</span>(<span class="hljs-params">self, s: <span class="hljs-built_in">str</span>, p: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]:<br>        s_len, p_len = <span class="hljs-built_in">len</span>(s), <span class="hljs-built_in">len</span>(p)<br>        <br>        <span class="hljs-keyword">if</span> s_len &lt; p_len:<span class="hljs-comment"># ä½¿ç”¨æ•°ç»„åˆ™éœ€è¦è¿›è¡Œé•¿åº¦æ¯”è¾ƒ</span><br>            <span class="hljs-keyword">return</span> []<br><br>        ans = []<br>        s_count = [<span class="hljs-number">0</span>] * <span class="hljs-number">26</span><span class="hljs-comment"># æ–¹æ³•ä¸€æ ·ï¼Œ åªæ˜¯å°†å­—æ¯é€šè¿‡ä¸€ä¸ªé•¿åº¦ä¸º26çš„æ•°ç»„è¿›è¡Œä¿å­˜</span><br>        p_count = [<span class="hljs-number">0</span>] * <span class="hljs-number">26</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(p_len):<br>            s_count[<span class="hljs-built_in">ord</span>(s[i]) - <span class="hljs-number">97</span>] += <span class="hljs-number">1</span><br>            p_count[<span class="hljs-built_in">ord</span>(p[i]) - <span class="hljs-number">97</span>] += <span class="hljs-number">1</span><br><br>        <span class="hljs-keyword">if</span> s_count == p_count:<br>            ans.append(<span class="hljs-number">0</span>)<br><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(s_len - p_len):<br>            s_count[<span class="hljs-built_in">ord</span>(s[i]) - <span class="hljs-number">97</span>] -= <span class="hljs-number">1</span><br>            s_count[<span class="hljs-built_in">ord</span>(s[i + p_len]) - <span class="hljs-number">97</span>] += <span class="hljs-number">1</span><br>            <br>            <span class="hljs-keyword">if</span> s_count == p_count:<br>                ans.append(i + <span class="hljs-number">1</span>)<br></code></pre></td></tr></table></figure><p><strong>C++</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">findAnagrams</span><span class="hljs-params">(string s, string p)</span> </span>&#123;<br>        <span class="hljs-type">int</span> len_p = p.<span class="hljs-built_in">size</span>(), len_s = s.<span class="hljs-built_in">size</span>();<br>        <span class="hljs-keyword">if</span>(len_p &gt; len_s)<br>            <span class="hljs-keyword">return</span> <span class="hljs-built_in">vector</span>&lt;<span class="hljs-type">int</span>&gt;();<br>        vector&lt;<span class="hljs-type">int</span>&gt; ans;<br>        <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">list_p</span><span class="hljs-params">(<span class="hljs-number">26</span>)</span></span>;<br>        <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">list_s</span><span class="hljs-params">(<span class="hljs-number">26</span>)</span></span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;len_p; i++)&#123;<br>            list_p[p[i] - <span class="hljs-string">&#x27;a&#x27;</span>]++;<br>            list_s[s[i] - <span class="hljs-string">&#x27;a&#x27;</span>]++;<br>        &#125;<br>        <span class="hljs-keyword">if</span>(list_p == list_s)<br>            ans.<span class="hljs-built_in">emplace_back</span>(<span class="hljs-number">0</span>);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=len_p; i&lt;len_s; i++)&#123;<br>            list_s[s[i] - <span class="hljs-string">&#x27;a&#x27;</span>]++;<br>            list_s[s[i-len_p] - <span class="hljs-string">&#x27;a&#x27;</span>]--;<br>            <span class="hljs-keyword">if</span>(list_p==list_s)<br>                ans.<span class="hljs-built_in">emplace_back</span>(i-len_p+<span class="hljs-number">1</span>);<br>        &#125;<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åˆ·é¢˜</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ¯å‘¨æ€»ç»“ -- çˆ±æ„éšé£èµ·ï¼Œé£æ­¢æ„éš¾å¹³</title>
    <link href="/posts/57809/"/>
    <url>/posts/57809/</url>
    
    <content type="html"><![CDATA[<div align = "center"><H3>æ€»ç»“ &amp; åæ€</div><p><strong>æ—¶é—´ï¼š2023.12.11-2023.12.17</strong></p><p>è¿™å‘¨åˆ·äº†é¢˜ï¼Œæ”¹äº†ä¸€äº›ä»£ç ï¼Œä½†æ˜¯å¥½åƒä¹Ÿæ²¡æœ‰å¾ˆå¤šæ•ˆæœã€‚</p><p>è¿™å‘¨çš„å¿ƒæƒ…ä¹Ÿä¸æ˜¯é‚£ä¹ˆçš„ç†æƒ³å­ï¼Œè™½ç„¶å·²ç»å’Œå¥¹è¯´æ¸…æ¥šäº†ï¼Œå¥¹ä¸ä»‹æ„ï¼Œæˆ‘ä¹Ÿä¸ä»‹æ„ã€‚ä½†æ˜¯æˆ‘å¿ƒé‡Œè¿˜æ˜¯ä¼šå¾ˆéš¾å—ï¼Œæˆ‘çš„å¿ƒä¹Ÿæ˜¯è‚‰åšçš„ï¼Œæˆ‘ä¹Ÿå®å®åœ¨åœ¨çš„å¯¹å¥¹åŠ¨å¿ƒäº†ï¼Œè™½ç„¶æ˜¯ä¸ä»‹æ„ï¼ˆæˆ‘ä¹Ÿæ²¡æœ‰èµ„æ ¼ä»‹æ„ï¼‰ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯å¾ˆåœ¨æ„å¥¹ã€‚åœ¨æ„å¥¹æ˜¯ä¸æ˜¯ä¼šä¸å¼€å¿ƒï¼Œåœ¨æ„å¥¹ç°åœ¨æ˜¯ä¸æ˜¯è®¨åŒæˆ‘ã€‚ä¼šå»å›æƒ³è¿‡å»ä¸¤ä¸ªæœˆæ—¶é—´é‡Œçš„ç‚¹ç‚¹æ»´æ»´ï¼Œå›æƒ³å¥¹å¼€å¿ƒçš„æ ·å­ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™èƒ½å¤Ÿå¥½èµ·æ¥ï¼Œä¸€ä¸ªæœˆï¼Ÿä¸¤ä¸ªæœˆï¼Ÿä¸¤å¹´ï¼Ÿæˆ–è€…åˆæ˜¯ä¸€ä¸ª6å¹´å—ã€‚æœ‰æ—¶å€™çœŸçš„å¥½å¸Œæœ›è¿™ä¸¤ä¸ªæœˆä»æ¥æ²¡æœ‰å‘ç”Ÿè¿‡ï¼Œä½†æ˜¯åˆä¸æƒ³å¤±å»è¿™ä¸€ç‚¹ç‚¹çš„å¿«ä¹æ—¶å…‰ã€‚æˆ‘ç°åœ¨åªèƒ½è®©è‡ªå·±å¿™èµ·æ¥ï¼Œæ‰èƒ½ä¸ä¼šå»å›æƒ³é‚£äº›ç‚¹æ»´ï¼Œä¸ä¼šå»æƒ³å¿µå¥¹ã€‚çœŸçš„ã€çœŸçš„å¥½å–œæ¬¢æˆ‘çš„å¸ˆå¦¹å•Šï¼Œå‘œå‘œå‘œã€‚å¥½æƒ³å¥½æƒ³å¥½æƒ³å›åˆ°è¿™ä¸ªå­¦æœŸåˆšå¼€å­¦çš„æ—¶å€™å•Šï¼Œæ¯å¤©éƒ½èƒ½å¤Ÿå’Œå¥¹è¯´è¯´è¯ï¼Œèƒ½å¤Ÿå’Œå¥¹äº’ç›¸é“æ™šå®‰ï¼Œä¸ºä»€ä¹ˆè¿™ä¹ˆä¼˜ç§€ã€è¿™ä¹ˆå¼€æœ—çš„ä¸€ä¸ªå¥³å­©å­ä¼šåˆšå¥½åœ¨æˆ‘æœ€å­¤ç‹¬çš„æ—¶å€™å‡ºç°ï¼Œè€Œä¸ºä»€ä¹ˆåˆååä¸èƒ½è®©æˆ‘ä»¬åœ¨ä¸€èµ·ï¼Œè¿™éš¾é“æ˜¯è€å¤©çˆ·ç»™æˆ‘çš„æƒ©ç½šå—ï¼Œä¸ºä»€ä¹ˆå•Šå•Šå•Šå•Šå•Šå•Šå•Šã€‚ä¸çŸ¥é“æˆ‘ä»¬ä¹‹é—´çš„å…³ç³»è¿˜èƒ½ç»´æŒå¤šä¹…ï¼Œä¹Ÿè®¸è¿‡å‡ å¤©æˆ‘ä»¬ä¹‹é—´çš„äº¤æµå°±ä¼šæ–­è”å§ã€‚æˆ‘ç°åœ¨å¤©å¤©éƒ½ä¼šæƒ³è¦æ˜¯å¥¹æ²¡æœ‰å‡ºç°è¿‡ï¼Œæˆ‘ç°åœ¨ä¼šæ€ä¹ˆæ ·ï¼Œè¦æ˜¯æˆ‘æ²¡æœ‰è·Ÿå¥¹è¡¨ç™½ï¼Œç°åœ¨åˆä¼šæ˜¯ä»€ä¹ˆæ ·ï¼Œä½†æ˜¯å¥½åƒå¹¶æ²¡æœ‰å¦‚æœï¼Œè‡ªå·±é€ ä¸‹çš„å­½ï¼Œåªèƒ½è‡ªå·±æ¥æ‰¿å—äº†ã€‚ä¹Ÿè®¸éšç€æ—¶é—´ï¼Œè¿™äº›æ€å¿µå°±ä¼šåŒå¥¹ä¸€èµ·åŸ‹åœ¨å¿ƒåº•æ·±å¤„å­ã€‚ç°åœ¨çš„æˆ‘å•Šï¼ŒçœŸçš„å¾ˆéš¾å—å•Šï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆä¼šå˜æˆè¿™ä¸ªæ ·å­ã€‚å¸Œæœ›è‡ªå·±èƒ½èµ¶å¿«å¥½èµ·æ¥å­ï¼Œæ¯å¤©åšç‚¹åˆ«çš„äº‹æƒ…åˆ†æ•£ä¸€ä¸‹è‡ªå·±çš„æ³¨æ„åŠ›ï¼Œä¸ç„¶çœŸçš„å¤ªéš¾ç†¬äº†ã€‚ä¹Ÿå¸Œæœ›å¥¹èƒ½å¤Ÿå¥½å¥½çš„ï¼Œèƒ½å¤Ÿå˜å¾—æ›´ä¼˜ç§€ï¼Œèƒ½å¤Ÿå¼€å¼€å¿ƒå¿ƒçš„ï¼Œæˆ‘ä¹Ÿåº”è¯¥è¦å¼€å¼€å¿ƒå¿ƒçš„ï¼Œæå‡è‡ªå·±ï¼Œè¦è‡ªå·±å˜å¾—æ›´åŠ ä¼˜ç§€ï¼è¿™å‘¨å°±è¿™æ ·å­~</p><p><strong>çˆ±æ„éšé£èµ·ï¼Œé£æ­¢æ„éš¾å¹³</strong></p>]]></content>
    
    
    <categories>
      
      <category>æ¯å‘¨å›é¡¾</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ€»ç»“&amp;åæ€</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ¯•ä¸šè®¾è®¡</title>
    <link href="/posts/26243/"/>
    <url>/posts/26243/</url>
    
    <content type="html"><![CDATA[<p>ä»…ä½¿ç”¨å•è§†å›¾ 2D ç…§ç‰‡é›†åˆçš„æ— ç›‘ç£ç”Ÿæˆé«˜è´¨é‡çš„å¤šè§†å›¾ä¸€è‡´å›¾åƒå’Œ 3Då½¢çŠ¶ä¸€ç›´æ˜¯ä¸€ä¸ªé•¿æœŸçš„æŒ‘æˆ˜ã€‚</p><ol type="1"><li><p>3Dæ„ŸçŸ¥GANæ–¹æ³•å¯ä»¥ä¿è¯è§†å›¾ä¸€è‡´æ€§ï¼Œç¥çº§è¾å°„åœºç”¨æ¥å¼€å‘3Dæ„ŸçŸ¥å›¾åƒåˆæˆæŠ€æœ¯ã€‚</p></li><li><p>ç”Ÿæˆçº¹ç†ï¼šå¯å­¦ä¹ çš„3Dä½ç½®åµŒå…¥ç¼–ç ï¼Œè¡¥å¿é«˜é¢‘å›¾åƒç»†èŠ‚ã€‚ä»…ä½¿ç”¨sirençš„ç½‘ç»œç¼ºä¹ç»†èŠ‚å›¾åƒã€‚</p></li><li><p>æ—©æœŸçš„æ–¹æ³•åˆ©ç”¨æ˜¾å¼ä½“ç´ æˆ–ä½“ç§¯è¡¨ç¤ºï¼Œå› æ­¤åˆ†è¾¨ç‡æœ‰é™ã€‚æœ€è¿‘ï¼Œç¥ç»éšå¼åœºæ™¯è¡¨ç¤ºè¢«é›†æˆåˆ°ç”Ÿæˆå¯¹æŠ—æ¨¡å‹ä¸­ï¼Œå®ç°äº†æ›´å¥½çš„å†…å­˜æ•ˆç‡å’Œå¤šè§†å›¾ä¸€è‡´æ€§</p></li><li><p>å¯å­¦ä¹ çš„3Dç‰¹å¾ç½‘æ ¼ï¼Œï¼Œç”¨äºåæ ‡åµŒå…¥çš„å±€éƒ¨é‡‡æ ·ï¼ˆecoordï¼‰ã€‚ä¸ºäº†é¢„æµ‹å…·æœ‰2D è§†å›¾æ–¹å‘ d çš„ 3D ç‚¹ xçš„é¢œè‰²ï¼Œæˆ‘ä»¬é€šè¿‡åŒä¸‰æ¬¡æ’å€¼ä»ç‰¹å¾ç½‘æ ¼ä¸­é‡‡æ ·ä¸€ä¸ªå±€éƒ¨ç‰¹å¾å‘é‡ï¼Œç„¶åå°†å…¶ä½œä¸ºé™„åŠ è¾“å…¥è¾“å…¥åˆ°é¢œè‰²åˆ†æ”¯ä¸­ã€‚å®ƒæœ‰åŠ©äºä¿ç•™æ›´ç»†ç²’åº¦çš„å›¾åƒç»†èŠ‚ã€‚</p></li></ol><p>EG3D</p><ol start="2" type="1"><li>EG3Dç›®æ ‡ï¼šå¼•å…¥äº†ä¸€ç§æ–°çš„ç”Ÿæˆå™¨æ¶æ„ï¼Œç”¨äºä»å•è§†å›¾ 2Dç…§ç‰‡é›†åˆä¸­å­¦ä¹ æ— ç›‘ç£ 3Dè¡¨ç¤ºå­¦ä¹ ï¼Œè¯¥æ¶æ„æ—¨åœ¨æé«˜æ¸²æŸ“çš„è®¡ç®—æ•ˆç‡ï¼ŒåŒæ—¶ä¿æŒå¯¹ 3DåŸºç¡€ç¥ç»æ¸²æŸ“ä¸ºçœŸã€‚</li><li>é€šè¿‡æ··åˆæ˜¾å¼éšå¼ 3D è¡¨ç¤ºæ¥æé«˜åŸºäº 3Dçš„æ¸²æŸ“çš„è®¡ç®—æ•ˆç‡ï¼Œè¯¥è¡¨ç¤ºåœ¨ä¸å½±å“è¡¨ç°åŠ›çš„æƒ…å†µä¸‹ï¼Œæ¯”å®Œå…¨éšå¼æˆ–æ˜¾å¼æ–¹æ³•æä¾›äº†æ˜¾ç€çš„é€Ÿåº¦å’Œå†…å­˜ä¼˜åŠ¿ã€‚</li><li>æˆ‘ä»¬å¼•å…¥äº†ä¸€ä¸ªåŸºäºä¸‰å¹³é¢çš„3DGANæ¡†æ¶ï¼Œè¯¥æ¡†æ¶æ—¢é«˜æ•ˆåˆå¯Œæœ‰è¡¨ç°åŠ›ï¼Œä»¥å®ç°é«˜åˆ†è¾¨ç‡çš„å‡ ä½•æ„ŸçŸ¥å›¾åƒåˆæˆã€‚</li><li>æ˜¾å¼è¡¨ç¤ºï¼Œå¦‚ç¦»æ•£ä½“ç´ ç½‘æ ¼ï¼Œå¯ä»¥å¿«é€Ÿè¯„ä¼°ï¼Œä½†ç»å¸¸ä¼šäº§ç”Ÿæ²‰é‡çš„å†…å­˜å¼€é”€ï¼Œè¿™ä½¿å¾—å®ƒä»¬éš¾ä»¥æ‰©å±•åˆ°é«˜åˆ†è¾¨ç‡æˆ–å¤æ‚åœºæ™¯ã€‚éšå¼è¡¨ç¤ºæˆ–åæ ‡ç½‘ç»œï¼Œé€šè¿‡å°†åœºæ™¯è¡¨ç¤ºä¸ºè¿ç»­å‡½æ•°ï¼Œåœ¨å†…å­˜æ•ˆç‡å’Œåœºæ™¯å¤æ‚æ€§æ–¹é¢æä¾›äº†æ½œåœ¨çš„ä¼˜åŠ¿ã€‚åœ¨å®è·µä¸­ï¼Œè¿™äº›éšå¼æ¶æ„ä½¿ç”¨å¤§å‹å…¨è¿æ¥ç½‘ç»œè¿›è¡Œè¯„ä¼°ç¼“æ…¢ï¼Œå› ä¸ºæ¯ä¸ªæŸ¥è¯¢éƒ½éœ€è¦é€šè¿‡ç½‘ç»œè¿›è¡Œå®Œå…¨ä¼ é€’ã€‚å› æ­¤ï¼Œå®Œå…¨æ˜¾å¼å’Œéšå¼è¡¨ç¤ºæä¾›äº†äº’è¡¥çš„å¥½å¤„ã€‚</li><li>å±€éƒ¨éšå¼è¡¨ç¤º [3, 5, 23, 56] å’Œæ··åˆæ˜¾å¼éšå¼è¡¨ç¤º [11,35,39,53]é€šè¿‡æä¾›è®¡ç®—å’Œå†…å­˜é«˜æ•ˆçš„æ¶æ„æ¥ç»„åˆè¿™ä¸¤ç§ç±»å‹çš„è¡¨ç¤ºçš„å¥½å¤„ã€‚å—è¿™äº›æƒ³æ³•çš„å¯å‘ï¼Œæˆ‘ä»¬è®¾è®¡äº†ä¸€ç§æ–°çš„æ··åˆæ˜¾å¼éšå¼3Dæ„ŸçŸ¥ç½‘ç»œï¼Œè¯¥ç½‘ç»œä½¿ç”¨å†…å­˜é«˜æ•ˆçš„ä¸‰å¹³é¢è¡¨ç¤ºæ˜¾å¼åœ°å­˜å‚¨ç”±è½»é‡çº§éšå¼ç‰¹å¾è§£ç å™¨èšåˆçš„è½´å¯¹é½å¹³é¢ä¸Šçš„ç‰¹å¾ï¼Œä»¥å®ç°é«˜æ•ˆçš„ä½“ç»˜åˆ¶(å›¾2c)ã€‚</li><li>åœ¨ä¸‰å¹³é¢å…¬å¼ä¸­ï¼Œæˆ‘ä»¬æ²¿ç€ä¸‰ä¸ªè½´å¯¹é½çš„æ­£äº¤ç‰¹å¾å¹³é¢å¯¹é½æˆ‘ä»¬çš„æ˜¾å¼ç‰¹å¾ï¼Œæ¯ä¸ªå¹³é¢åˆ†è¾¨ç‡ä¸ºN Ã— N Ã— Cï¼ˆå›¾ 2cï¼‰ï¼ŒN æ˜¯ç©ºé—´åˆ†è¾¨ç‡ï¼ŒC æ˜¯é€šé“æ•°ã€‚æˆ‘ä»¬é€šè¿‡å°†ä»»ä½• 3D ä½ç½® xâˆˆ R3 æŠ•å½±åˆ°ä¸‰ä¸ªç‰¹å¾å¹³é¢ä¸­çš„æ¯ä¸€ä¸ªä¸Šï¼Œé€šè¿‡åŒçº¿æ€§æ’å€¼æ£€ç´¢ç›¸åº”çš„ç‰¹å¾å‘é‡(Fxy , Fxz , Fyz)ï¼Œå¹¶é€šè¿‡æ±‚å’Œèšåˆä¸‰ä¸ªç‰¹å¾å‘é‡ã€‚ä¸€ä¸ªé¢å¤–çš„è½»é‡çº§è§£ç å™¨ç½‘ç»œï¼Œå®ç°ä¸ºä¸€ä¸ªå°çš„MLPï¼Œå°†èšåˆçš„ 3D ç‰¹å¾ Fè§£é‡Šä¸ºé¢œè‰²å’Œå¯†åº¦ã€‚è¿™äº›é‡ä½¿ç”¨(ç¥ç»)ä½“ç»˜åˆ¶æ¸²æŸ“æˆRGBå›¾åƒ[41,45]ã€‚</li><li>æœ€åï¼Œæˆ‘ä»¬çš„ä¸‰å¹³é¢è¡¨ç¤ºä¸è¿™äº›æ›¿ä»£æ–¹æ¡ˆç›¸æ¯”å…·æœ‰å¦ä¸€ä¸ªå…³é”®ä¼˜åŠ¿ï¼šç‰¹å¾å¹³é¢å¯ä»¥ä½¿ç”¨ç°æˆçš„åŸºäº2D CNN çš„ç”Ÿæˆå™¨ç”Ÿæˆï¼Œä»è€Œèƒ½å¤Ÿä½¿ç”¨æ¥ä¸‹æ¥è®¨è®ºçš„ GAN æ¡†æ¶è·¨ 3Dè¡¨ç¤ºè¿›è¡Œæ³›åŒ–ã€‚</li><li>åœ¨ GAN è®¾ç½®ä¸­ï¼Œæˆ‘ä»¬çš„ç¥ç»æ¸²æŸ“å™¨ä¸æ˜¯ç”Ÿæˆ RGB å›¾åƒï¼Œè€Œæ˜¯èšåˆæ¥è‡ªæ¯ä¸ª32 é€šé“ä¸‰å¹³é¢çš„ç‰¹å¾ï¼Œå¹¶ä»ç»™å®šçš„ç›¸æœºå§¿åŠ¿é¢„æµ‹ 32é€šé“ç‰¹å¾å›¾åƒã€‚æ¥ä¸‹æ¥æ˜¯ä¸€ä¸ªâ€œè¶…åˆ†è¾¨ç‡â€æ¨¡å—ï¼Œç”¨äºå¯¹è¿™äº›åŸå§‹ç¥ç»æ¸²æŸ“å›¾åƒè¿›è¡Œä¸Šé‡‡æ ·å’Œç»†åŒ–ï¼ˆç¬¬4.2 èŠ‚ï¼‰</li><li>åœ¨æˆ‘ä»¬çš„ GAN è®¾ç½®ä¸­ä½¿ç”¨çš„ä¸‰å¹³é¢è¡¨ç¤ºçš„ç‰¹å¾ç”± StyleGAN2 CNNç”Ÿæˆå™¨ç”Ÿæˆã€‚éšæœºæ½œåœ¨ä»£ç å’Œç›¸æœºå‚æ•°é¦–å…ˆç”±æ˜ å°„ç½‘ç»œå¤„ç†ä»¥äº§ç”Ÿä¸­é—´æ½œåœ¨ä»£ç ï¼Œç„¶åè°ƒåˆ¶å•ç‹¬åˆæˆç½‘ç»œçš„å·ç§¯æ ¸ã€‚</li></ol><p>Tri-MipRF</p><ol type="1"><li>æˆ‘ä»¬æå‡ºäº†ä¸€ç§æ–°é¢–çš„ Tri-Mipç¼–ç ï¼Œå®ƒæ”¯æŒç¥ç»è¾å°„åœºçš„ç¬æ—¶é‡å»ºå’Œåé”¯é½¿é«˜ä¿çœŸæ¸²æŸ“ã€‚å…³é”®æ˜¯åœ¨ä¸‰ä¸ªæ­£äº¤mipmap ä¸­åˆ†è§£é¢„è¿‡æ»¤çš„ 3D ç‰¹å¾ç©ºé—´ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ 2Dé¢„è¿‡æ»¤ç‰¹å¾å›¾æ¥æœ‰æ•ˆåœ°æ‰§è¡Œ 3DåŒºåŸŸé‡‡æ ·ï¼Œè¿™åœ¨ä¸ç‰ºç‰²æ•ˆç‡çš„æƒ…å†µä¸‹æ˜¾ç€æé«˜äº†æ¸²æŸ“è´¨é‡ã€‚</li></ol><p>pi-GAN</p><ol type="1"><li><p>ç°æœ‰æ–¹æ³•ä»¥ä¸¤ç§æ–¹å¼ä¸è¶³ï¼šé¦–å…ˆï¼Œå®ƒä»¬å¯èƒ½ç¼ºä¹æ½œåœ¨çš„ 3Dè¡¨ç¤ºæˆ–ä¾èµ–äºè§†å›¾ä¸ä¸€è‡´çš„æ¸²æŸ“ï¼Œå› æ­¤åˆæˆä¸æ˜¯å¤šè§†å›¾ä¸€è‡´çš„å›¾åƒï¼›å…¶æ¬¡ï¼Œå®ƒä»¬é€šå¸¸ä¾èµ–äºè¡¨è¾¾èƒ½åŠ›ä¸å¤Ÿçš„è¡¨ç¤ºç½‘ç»œæ¶æ„ï¼Œå› æ­¤å®ƒä»¬çš„ç»“æœç¼ºä¹å›¾åƒè´¨é‡ã€‚æˆ‘ä»¬æå‡ºäº†ä¸€ç§æ–°çš„ç”Ÿæˆæ¨¡å‹ï¼Œç§°ä¸ºå‘¨æœŸæ€§éšå¼ç”Ÿæˆå¯¹æŠ—ç½‘ç»œ(Ï€-GANæˆ–pi-GAN)ï¼Œç”¨äºé«˜è´¨é‡çš„3Dæ„ŸçŸ¥å›¾åƒåˆæˆã€‚Ï€-GANåˆ©ç”¨å…·æœ‰å‘¨æœŸæ€§æ¿€æ´»å‡½æ•°å’Œä½“ç»˜åˆ¶çš„ç¥ç»è¡¨ç¤ºå°†åœºæ™¯è¡¨ç¤ºä¸ºè§†å›¾ä¸€è‡´çš„è¾å°„åœºã€‚</p></li><li><p>ç”Ÿæˆå¯¹æŠ—ç½‘ç»œ(GANs)èƒ½å¤Ÿç”Ÿæˆé«˜åˆ†è¾¨ç‡ã€é€¼çœŸçš„å›¾åƒ[25,26,27]ã€‚ç„¶è€Œï¼Œç”±äºç¼ºä¹é€¼çœŸçš„3D è®­ç»ƒæ•°æ®ï¼Œè¿™äº› GANé€šå¸¸ä»…é™äºä¸¤ä¸ªç»´åº¦ï¼›å› æ­¤ï¼Œå®ƒä»¬ä¸èƒ½æ”¯æŒè¯¸å¦‚åˆæˆå•ä¸ªå¯¹è±¡çš„å¤šä¸ªè§†å›¾ç­‰ä»»åŠ¡ã€‚3Dæ„ŸçŸ¥å›¾åƒåˆæˆæä¾›äº†ä»2Då›¾åƒä¸­å­¦ä¹ æ— ç›‘ç£ç¥ç»åœºæ™¯è¡¨ç¤ºã€‚å­¦ä¹ åˆ°çš„è¡¨ç¤ºå¯ç”¨äºä»æ–°çš„ç›¸æœºå§¿åŠ¿æ¸²æŸ“è§†å›¾ä¸€è‡´çš„å›¾åƒ[44,57,19]ã€‚</p></li><li><p>ç»™å®šè¾“å…¥å™ªå£°ï¼ŒÏ€-GAN æ¡ä»¶ç”± SIREN ç½‘ç»œ [59]è¡¨ç¤ºçš„éšå¼è¾å°„åœºï¼Œè¿™æ˜¯ä¸€ä¸ªå…·æœ‰å‘¨æœŸæ€§æ¿€æ´»å‡½æ•°çš„å…¨è¿æ¥ç½‘ç»œã€‚æ¡ä»¶è¾å°„åœºå°†3D ä½ç½®å’Œ 2D è§‚å¯Ÿæ–¹å‘æ˜ å°„åˆ°ä¸è§†å›¾ç›¸å…³çš„è¾å°„å’Œè§†å›¾æ— å…³çš„ä½“ç§¯å¯†åº¦ [23,38]ã€‚ä½¿ç”¨ä¾èµ–äºç»å…¸ä½“ç»˜åˆ¶æŠ€æœ¯çš„å¯å¾®ä½“ç»˜åˆ¶æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥ä»ä»»æ„ç›¸æœºå§¿åŠ¿[42]æ¸²æŸ“è¾å°„åœºã€‚</p></li><li><p>Ï€-GANæ”¹è¿›äº†ä»¥å‰3Dæ„ŸçŸ¥å›¾åƒåˆæˆæ–¹æ³•çš„å›¾åƒè´¨é‡å’Œè§†å›¾ä¸€è‡´æ€§ï¼Œå¦‚å›¾1æ‰€ç¤ºã€‚è¯¥æ–¹æ³•åˆ©ç”¨åŸºäºsirençš„ç¥ç»è¾å°„åœºè¡¨ç¤ºæ¥é¼“åŠ±å¤šè§†å›¾ä¸€è‡´æ€§ï¼Œå…è®¸ä»å¹¿æ³›çš„ç›¸æœºå§¿åŠ¿æ¸²æŸ“å¹¶æä¾›å¯è§£é‡Šçš„3Dç»“æ„ã€‚åˆ©ç”¨å‘¨æœŸæ¿€æ´»å‡½æ•°çš„SIRENéšå¼åœºæ™¯è¡¨ç¤ºåœ¨è¡¨ç¤ºç²¾ç»†ç»†èŠ‚æ–¹é¢æ¯”ReLUéšå¼è¡¨ç¤ºæ›´æœ‰èƒ½åŠ›ï¼Œå¹¶ä½¿Ï€-GANæ¸²æŸ“æ¯”ä»¥å‰å·¥ä½œæ›´æ¸…æ™°çš„å›¾åƒã€‚</p></li><li><p>é™¤äº†å¼•å…¥ Ï€-GANä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜åšå‡ºäº†ä¸¤ä¸ªé¢å¤–çš„æŠ€æœ¯è´¡çŒ®ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬è§‚å¯Ÿåˆ°ï¼Œè™½ç„¶ç°æœ‰å·¥ä½œé€šè¿‡å°†è¾“å…¥å™ªå£°è¿æ¥åˆ°ä¸€ä¸ªæˆ–å¤šä¸ªå±‚æ¥è°ƒèŠ‚åŸºäºReLUçš„è¾å°„åœºï¼Œä½†å¯¹äºå‘¨æœŸæ¿€æ´»çš„éšå¼ç¥ç»è¡¨ç¤ºï¼ˆSIRENï¼‰æ¥è¯´ï¼Œé€ä¸ªè¿æ¥çš„æ¡ä»¶æ˜¯æ¬¡ä¼˜çš„ã€‚ç›¸åï¼Œæˆ‘ä»¬å»ºè®®ä½¿ç”¨æ˜ å°„ç½‘ç»œé€šè¿‡ç‰¹å¾çº¿æ€§è°ƒåˆ¶(FiLM) [51, 9] æ¥è°ƒèŠ‚ SIREN ä¸­çš„å±‚ã€‚è¿™ä¸€è´¡çŒ®é€šå¸¸å¯ä»¥åº”ç”¨äº GAN ä¹‹å¤–çš„SIREN æ¶æ„ã€‚å…¶æ¬¡ï¼Œæˆ‘ä»¬å¼•å…¥äº†ä¸€ç§æ¸è¿›å¼å¢é•¿ç­–ç•¥ï¼Œè¯¥ç­–ç•¥å—åˆ°å…ˆå‰åœ¨ 2D å·ç§¯GAN [25] ä¸­å–å¾—æˆåŠŸçš„å¯å‘ï¼Œä»¥åŠ é€Ÿè®­ç»ƒå’ŒæŠµæ¶ˆ 3D GANçš„è®¡ç®—å¤æ‚åº¦å¢åŠ ã€‚</p></li><li><p>æˆ‘ä»¬å»ºè®®åˆ©ç”¨å‘¨æœŸæ¿€æ´»å‡½æ•°è¿›è¡Œéšå¼ç¥ç»è¡¨ç¤ºï¼Œå¹¶è¯æ˜è¿™äº›ç½‘ç»œè¢«ç§°ä¸ºæ­£å¼¦è¡¨ç¤ºç½‘ç»œæˆ–SIRENsã€‚æˆ‘ä»¬æå‡ºäº†SIRENï¼Œè¿™æ˜¯ä¸€ç§ç”¨äºéšå¼ç¥ç»è¡¨ç¤ºçš„ç®€å•ç¥ç»ç½‘ç»œæ¶æ„ï¼Œå®ƒä½¿ç”¨æ­£å¼¦ä½œä¸ºå‘¨æœŸæ¿€æ´»å‡½æ•°ï¼š(å…·æœ‰å‘¨æœŸæ€§æ¿€æ´»å‡½æ•°çš„éšå¼ç¥ç»è¡¨ç¤º)</p><p>$Î¦ (x) = Wn (Ï†nâˆ’1 â—¦ Ï†nâˆ’2 â—¦ . . . â—¦ Ï†0) (x) + bn, xi 7 â†’ Ï†i (xi) = sin(Wixi + bi) . $è¿™é‡Œï¼ŒÏ†i : RMi 7 â†’ RNi æ˜¯ç½‘ç»œçš„ç¬¬ i å±‚ã€‚å®ƒç”±æƒé‡çŸ©é˜µ Wi âˆˆRNiÃ—Mi å®šä¹‰çš„ä»¿å°„å˜æ¢å’Œåº”ç”¨äºè¾“å…¥ xi âˆˆ RMi çš„åå·® bi âˆˆ RNiç»„æˆï¼Œç„¶åæ˜¯åº”ç”¨äºç»“æœå‘é‡çš„æ¯ä¸ªç»„ä»¶çš„æ­£å¼¦éçº¿æ€§ã€‚</p><figure><img src="image-20231215215813115.png" alt="image-20231215215813115" /><figcaption aria-hidden="true">image-20231215215813115</figcaption></figure></li><li><p>FLiM(Feature-wise Linear Modulation): ç‰¹å¾çº¿æ€§è°ƒåˆ¶</p><figure><img src="image-20231215220018656-17026488204801.png"alt="image-20231215220018656" /><figcaption aria-hidden="true">image-20231215220018656</figcaption></figure></li><li><p>FiLMæ¨¡å‹ä»å°‘é‡æ•°æ®ä¸­å­¦ä¹ ï¼Œä»¥æ³›åŒ–åˆ°æ¯”è®­ç»ƒæœŸé—´çœ‹åˆ°çš„æ›´å¤æ‚å’Œ/æˆ–æˆªç„¶ä¸åŒçš„æ•°æ®ã€‚FLiMå¢å¼ºäº†ç½‘ç»œç”Ÿæˆå¤æ‚å’Œå¤šå˜åœºæ™¯çš„èƒ½åŠ›ã€‚FLiMæœ‰åŠ©äºæé«˜ç”Ÿæˆå›¾åƒçš„è´¨é‡å’Œå¤šæ ·æ€§ï¼Œç‰¹åˆ«æ˜¯åœ¨ç”Ÿæˆå…·æœ‰å¤æ‚å‡ ä½•å’Œå…‰ç…§æ¡ä»¶çš„ä¸‰ç»´åœºæ™¯æ—¶ã€‚</p></li><li><p>å…·ä½“æ¥è¯´ï¼Œæˆ‘ä»¬ä½¿ç”¨ SIREN ä½œä¸ºæˆ‘ä»¬æ¡†æ¶çš„è¡¨ç¤ºç½‘ç»œæ¶æ„ï¼Œå¹¶ç»“åˆå—NeRF å¯å‘çš„ç¥ç»æ¸²æŸ“æŠ€æœ¯ã€‚ç„¶è€Œï¼ŒSIREN å’Œ NeRFä»…åœ¨å¯¹å•ä¸ªå¯¹è±¡æˆ–åœºæ™¯çš„è¿‡åº¦æ‹Ÿåˆçš„èƒŒæ™¯ä¸‹è¿›è¡Œäº†æ¢ç´¢ï¼Œè€Œæˆ‘ä»¬ç ”ç©¶äº†è¿™äº›å¼€åˆ›æ€§ä½œå“åœ¨3D GAN ä¸­çš„åº”ç”¨æ–¹é¢çš„ç»„åˆã€‚æ¢ç´¢è®­ç»ƒç”±è‡ªç„¶ 2D æ•°æ®ç›‘ç£çš„ç¥ç»éšå¼ GANçš„ç‹¬ç‰¹æŒ‘æˆ˜æ˜¯æˆ‘ä»¬å·¥ä½œçš„æ ¸å¿ƒè´¡çŒ®ä¹‹ä¸€ã€‚</p></li><li><p>æˆ‘ä»¬åˆ©ç”¨å— StyleGAN å¯å‘çš„æ˜ å°„ç½‘ç»œï¼Œè¯¥ç½‘ç»œé€šè¿‡ FiLMæ¡ä»¶åœ¨å•ä¸ªè¾“å…¥å™ªå£°å‘é‡ä¸Šè°ƒèŠ‚æ•´ä¸ª MLPã€‚</p></li><li><p>æˆ‘ä»¬çš„ç”Ÿæˆå™¨ GÎ¸G (z, Î¾) ä¸æ˜¯ç›´æ¥ä»è¾“å…¥å™ªå£° z ç”Ÿæˆ 2Då›¾åƒï¼Œè€Œæ˜¯ç”Ÿæˆä»¥ zä¸ºæ¡ä»¶çš„éšå¼è¾å°„åœºã€‚è¿™ä¸ªè¾å°„åœºæ˜¯ä½¿ç”¨ä½“ç»˜åˆ¶æ¸²æŸ“æ¸²æŸ“æ¸²æŸ“çš„ï¼Œä»¥ä»ä¸€äº›ç›¸æœºå§¿åŠ¿Î¾ ç”Ÿæˆ 2D å›¾åƒã€‚</p></li><li><p>åœ¨è®­ç»ƒæ—¶ï¼Œç”Ÿæˆçš„å›¾åƒè¢«å¼•å¯¼åˆ°ä¼ ç»Ÿçš„å·ç§¯é‰´åˆ«å™¨è¿›è¡Œå¯¹æŠ—è®­ç»ƒã€‚åœ¨æµ‹è¯•æ—¶ï¼Œè¾å°„åœºå¯ä»¥ä»ä»»æ„ç›¸æœºå§¿åŠ¿æ¸²æŸ“ä»¥äº§ç”Ÿè§†å›¾ä¸€è‡´çš„å›¾åƒã€‚</p></li><li><p>æˆ‘ä»¬ç”¨ç¥ç»è¾å°„åœºéšå¼è¡¨ç¤º 3D å¯¹è±¡ï¼Œè¯¥ç¥ç»è¾å°„åœºå‚æ•°åŒ–ä¸ºå¤šå±‚æ„ŸçŸ¥å™¨(MLP)ï¼Œå®ƒå°†ç©ºé—´ x = (x, y, z) ä¸­çš„ 3D åæ ‡å’Œè§‚å¯Ÿæ–¹å‘ dä½œä¸ºè¾“å…¥ã€‚ç¥ç»è¾å°„åœºè¾“å‡ºç©ºé—´å˜åŒ–çš„å¯†åº¦Ïƒ(x): R3â†’Rå’Œè§†ç›¸å…³é¢œè‰²(r, g, b)=c(x, d):R5â†’R3ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬åˆ©ç”¨StyleGANå¯å‘çš„æ˜ å°„ç½‘ç»œé€šè¿‡FiLMæ¡ä»¶åå°„åœ¨å™ªå£°å‘é‡zä¸Šè°ƒèŠ‚SIREN[51,9]ã€‚ï¼Œæˆ‘ä»¬å°†è¡¨ç¤ºçš„FiLM-ed SIREN backbone å½¢å¼åŒ–ä¸º:</p><p><span class="math display">\[\begin{aligned}\Phi(\mathbf{x})= &amp; \phi_{n-1} \circ \phi_{n-2} \circ \ldots \circ\phi_{0}(\mathbf{x}) \\&amp; \phi_{i}\left(\mathbf{x}_{i}\right)=\sin \left(\gamma_{i}\cdot\left(\mathbf{W}_{i}\mathbf{x}_{i}+\mathbf{b}_{i}\right)+\boldsymbol{\beta}_{i}\right)\end{aligned}\]</span></p></li><li><p>ç¥ç»ä½“æ¸²æŸ“</p></li></ol><p><span class="math display">\[\begin{array}{l}\mathbf{C}(\mathbf{r})=\int_{t_{n}}^{t_{f}} T(t) \sigma(\mathbf{r}(t))\mathbf{c}(\mathbf{r}(t), \mathbf{d}) d t \\\text { where } \quad T(t)=\exp \left(-\int_{t_{n}}^{t}\sigma(\mathbf{r}(s)) d s\right) .\end{array} \]</span></p><p>å¤šè§†å›¾ä¸ä¸€è‡´</p><ol type="1"><li><p>åœ¨æ²¡æœ‰å‡ ä½•çº¦æŸçš„æƒ…å†µä¸‹ï¼Œä»ä¸€ç»„ 2Dè®­ç»ƒå›¾åƒä¸­ä¼˜åŒ–è¾å°„åœºå¯èƒ½ä¼šé‡åˆ°å…³é”®çš„é€€åŒ–è§£å†³æ–¹æ¡ˆï¼Œä»è€Œå¯¼è‡´åŸºäº NeRFçš„ç”Ÿæˆæ¨¡å‹ä¸­çš„å¤šè§†å›¾ä¸ä¸€è‡´é—®é¢˜ã€‚ä¸€äº›æ–¹æ³•æå‡ºäº†é¢œè‰²å’Œå½¢çŠ¶çš„å¤šè§†å›¾æ­£åˆ™åŒ–ï¼Œä»¥æé«˜å…‰åº¦å’Œå‡ ä½•ä¸€è‡´æ€§ã€‚é‡‡ç”¨ä¸åŒçš„ç­–ç•¥æ¥å‡å°‘2Dæ¸²æŸ“å™¨å¸¦æ¥çš„è§†å›¾ä¸ä¸€è‡´å·¥ä»¶[12,33,82,103,149]ã€‚</p></li><li><p>å…¶å®æ ¸å¿ƒå°±åœ¨äºä½“ç´ æ¸²æŸ“çš„æ—¶å€™ï¼Œå¯†åº¦å’Œé¢œè‰²æœ¬èº«æ˜¯è·Ÿè§†è§’æ— å…³çš„ï¼Œåªè·Ÿç©ºé—´ä½ç½®æœ‰å…³ï¼Œä¸åŒè§†è§’çš„å…‰çº¿æ‰“åˆ°åŒä¸€ä¸ªä½ç½®ä¸Šï¼Œä»–ä»¬çš„å¯†åº¦æ˜¯ç›¸åŒçš„ï¼Œæ‰€ä»¥ç›¸å½“äºåˆ©ç”¨äº†å¤šè§†å›¾ä¹‹é—´çš„ä¸€è‡´æ€§ã€‚</p><p>å¯èƒ½è¿™æ—¶å€™å°±è¦æœ‰ä¼™ä¼´é—®äº†ï¼Œé¢œè‰²çš„å»ºæ¨¡æ˜¯è·Ÿè¾“å…¥è§’åº¦æœ‰å…³çš„å‘€ï¼Ÿä¸ºä»€ä¹ˆè¯´æ˜¯å¤šè§†å›¾ä¸€è‡´çš„å‘¢ã€‚</p><p>è¿™å°±æ˜¯NeRFé‡Œé¢æœ€å¾®å¦™çš„ä¸€éƒ¨åˆ†ï¼Œè™½ç„¶è§’åº¦ä¹Ÿä½œä¸ºäº†è¾“å…¥ï¼Œä½†æ˜¯å®é™…ä¸Šï¼Œ<ahref="https://www.zhihu.com/search?q=ç¥ç»ç½‘ç»œ&amp;search_source=Entity&amp;hybrid_search_source=Entity&amp;hybrid_search_extra=%7B%22sourceType%22%3A%22answer%22%2C%22sourceId%22%3A2718837219%7D">ç¥ç»ç½‘ç»œ</a>æ˜¯å¯ä»¥æ³›åŒ–åˆ°æœªçŸ¥çš„è§’åº¦çš„ã€‚çœ‹èµ·æ¥ä¸å¯æ€è®®å¯¹ä¸å¯¹ï¼Œä½†æ˜¯å¾ˆå¤šç†è®ºè·Ÿå®éªŒéƒ½è¯æ˜äº†ï¼ŒMLPæœ¬èº«å¯ä»¥å®ç°æŸç§æ’å€¼çš„æ•ˆæœï¼Œå³ä¾¿è¾“å…¥æ˜¯ç¦»æ•£çš„é‡‡æ ·ï¼Œæœ€ç»ˆä¹Ÿèƒ½å­¦åˆ°æœªçŸ¥çš„æŸä¸ªä½ç½®çš„é‡‡æ ·å€¼ï¼Œç±»ä¼¼äºâ€œæ’å€¼â€çš„åŠŸèƒ½ã€‚</p></li></ol>]]></content>
    
    
    <categories>
      
      <category>ç®€è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ç®€è®°</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>TensoRF - Tensorial Radiance Fields</title>
    <link href="/posts/32257/"/>
    <url>/posts/32257/</url>
    
    <content type="html"><![CDATA[<h3 id="tensorf-tensorial-radiance-fields">TensoRF: Tensorial RadianceFields</h3><p><strong>Overview</strong></p><p><img src="image-20231213140258227.png" alt="image-20231213140258227" style="zoom:80%;" /></p><p><strong>å¼ é‡åˆ†è§£</strong></p><p><img src="image-20231213142555951.png" alt="image-20231213142555951" style="zoom:80%;" /></p>]]></content>
    
    
    <categories>
      
      <category>è®ºæ–‡ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>NeRF</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç®—æ³•è®­ç»ƒä¹‹ -- åŒæŒ‡é’ˆ</title>
    <link href="/posts/3463/"/>
    <url>/posts/3463/</url>
    
    <content type="html"><![CDATA[<h3 id="åŒæŒ‡é’ˆ">åŒæŒ‡é’ˆ</h3><h4 id="æ€è·¯">1. æ€è·¯</h4><p>â€‹ <strong>é¢˜ç›®ï¼š</strong>ç»™ä½ ä¸€ä¸ªæ•°ç»„ <code>nums</code> å’Œä¸€ä¸ªå€¼<code>val</code>ï¼Œä½ éœ€è¦ <strong><ahref="https://baike.baidu.com/item/åŸåœ°ç®—æ³•">åŸåœ°</a></strong>ç§»é™¤æ‰€æœ‰æ•°å€¼ç­‰äº <code>val</code> çš„å…ƒç´ ï¼Œå¹¶è¿”å›ç§»é™¤åæ•°ç»„çš„æ–°é•¿åº¦ã€‚</p><p>ä¸è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ç©ºé—´ï¼Œä½ å¿…é¡»ä»…ä½¿ç”¨ <code>O(1)</code> é¢å¤–ç©ºé—´å¹¶<strong><ahref="https://baike.baidu.com/item/åŸåœ°ç®—æ³•">åŸåœ°</a>ä¿®æ”¹è¾“å…¥æ•°ç»„</strong>ã€‚</p><p>å…ƒç´ çš„é¡ºåºå¯ä»¥æ”¹å˜ã€‚ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚<ahref="https://leetcode.cn/problems/remove-element/description/">27.ç§»é™¤å…ƒç´  - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p><blockquote><p>åŒæŒ‡é’ˆæ³•ï¼ˆå¿«æ…¢æŒ‡é’ˆæ³•ï¼‰ï¼š<strong>é€šè¿‡ä¸€ä¸ªå¿«æŒ‡é’ˆå’Œæ…¢æŒ‡é’ˆåœ¨ä¸€ä¸ªforå¾ªç¯ä¸‹å®Œæˆä¸¤ä¸ªforå¾ªç¯çš„å·¥ä½œã€‚</strong></p><p>å®šä¹‰å¿«æ…¢æŒ‡é’ˆ</p><ul><li>å¿«æŒ‡é’ˆï¼šå¯»æ‰¾æ–°æ•°ç»„çš„å…ƒç´ ï¼Œæ–°æ•°ç»„å°±æ˜¯ä¸å«æœ‰ç›®æ ‡å…ƒç´ çš„æ•°ç»„ã€‚è¿™ä¸ªæŒ‡é’ˆéœ€è¦ä¸€ç›´å‘å‰ï¼ŒåŒæ—¶å¯»æ‰¾ç›®æ ‡å…ƒç´ ã€‚</li><li>æ…¢æŒ‡é’ˆï¼šæŒ‡å‘æ›´æ–°æ–°æ•°ç»„ä¸‹æ ‡çš„ä½ç½®ã€‚æŒ‡å‘éœ€è¦æ›´æ–°çš„å…ƒç´ ä½ç½®ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ç›®æ ‡å…ƒç´ ï¼Œåˆ™è·Ÿç€å¿«æŒ‡é’ˆä¸€èµ·å‘å‰ç§»åŠ¨ã€‚</li></ul></blockquote><h4 id="è§£æ³•">2. è§£æ³•</h4><p><strong>Python</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">removeElement</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], val: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        slowIdx, fastIdx = <span class="hljs-number">0</span>, <span class="hljs-number">0</span><br>        <span class="hljs-keyword">for</span> fastIdx <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(nums)):<br>            <span class="hljs-keyword">if</span> nums[fastIdx] != val:<span class="hljs-comment"># å¿«æŒ‡é’ˆå¯»æ‰¾ç›®æ ‡å…ƒç´ ï¼Œå¹¶ä¸€ç›´å‘å‰ç§»åŠ¨ï¼Œç›´æ¥æ»¡è¶³ç»“æŸæ¡ä»¶</span><br>                nums[slowIdx] = nums[fastIdx]<span class="hljs-comment"># æ…¢æŒ‡é’ˆæŒ‡å‘éœ€è¦æ›´æ–°çš„å…ƒç´ ä½ç½®ï¼Œå¦‚æœæ‰¾åˆ°ç›®æ ‡å…ƒç´ ï¼Œåˆ™è·Ÿç€å¿«æŒ‡é’ˆå‘å‰ç§»åŠ¨</span><br>                slowIdx += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> slowIdx<br></code></pre></td></tr></table></figure><p><strong>C++</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">removeElement</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums, <span class="hljs-type">int</span> val)</span> </span>&#123;<br>        <span class="hljs-type">int</span> slowIdx = <span class="hljs-number">0</span>, fastIdx = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(fastIdx=<span class="hljs-number">0</span>; fastIdx&lt;nums.<span class="hljs-built_in">size</span>(); fastIdx++)&#123;<br>            <span class="hljs-keyword">if</span>(nums[fastIdx] != val)<br>                nums[slowIdx++] = nums[fastIdx];<br>        &#125;<br>        <span class="hljs-keyword">return</span> slowIdx;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h4 id="å˜ç§">3. å˜ç§</h4><p><strong>(1) é¢˜ç›®ï¼š</strong> ç»™ä½ ä¸€ä¸ª <strong>éä¸¥æ ¼é€’å¢æ’åˆ—</strong>çš„æ•°ç»„ <code>nums</code> ï¼Œè¯·ä½ <strong><ahref="http://baike.baidu.com/item/åŸåœ°ç®—æ³•">åŸåœ°</a></strong>åˆ é™¤é‡å¤å‡ºç°çš„å…ƒç´ ï¼Œä½¿æ¯ä¸ªå…ƒç´  <strong>åªå‡ºç°ä¸€æ¬¡</strong>ï¼Œè¿”å›åˆ é™¤åæ•°ç»„çš„æ–°é•¿åº¦ã€‚å…ƒç´ çš„ <strong>ç›¸å¯¹é¡ºåº</strong> åº”è¯¥ä¿æŒ<strong>ä¸€è‡´</strong> ã€‚ç„¶åè¿”å› <code>nums</code> ä¸­å”¯ä¸€å…ƒç´ çš„ä¸ªæ•°ã€‚<ahref="https://leetcode.cn/problems/remove-duplicates-from-sorted-array/description/">26.åˆ é™¤æœ‰åºæ•°ç»„ä¸­çš„é‡å¤é¡¹ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p><blockquote><p><strong>æ€è·¯ï¼š</strong>è¿˜æ˜¯ä½¿ç”¨å¸¸è§„çš„åŒæŒ‡é’ˆè§£æ³•ã€‚å…³é”®æ­¥éª¤æ˜¯æ‰¾åˆ°ä¸€ä¸ªåˆ¤æ–­è¯­å¥ï¼Œä½¿å¾—<code>slow</code> æ…¢æŒ‡é’ˆç§»åŠ¨ï¼Œä¸åŒçš„é¢˜ç›® <code>slow</code>ç§»åŠ¨çš„æ¡ä»¶ä¸åŒï¼Œåªè¦æ‰¾åˆ°ç¬¦åˆç§»åŠ¨çš„æ¡ä»¶ï¼Œå°±å¯ä»¥ç›´æ¥è¿›è¡Œé€»è¾‘ä¸Šçš„å…ƒç´ ç§»åŠ¨è¦†ç›–ã€‚æœ€åè¿”å›<code>slow + 1</code> å³ä¸ºæœ€åçš„æ•°ç»„çš„é•¿åº¦ã€‚</p><p>PSï¼šä¸€èˆ¬æƒ…å†µä¸‹å¿«æŒ‡é’ˆæ˜¯éšç€å¾ªç¯ä¸€ç›´ç§»åŠ¨çš„ã€‚</p></blockquote><p><strong>Python</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">removeDuplicates</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        slow, fast = <span class="hljs-number">0</span>, <span class="hljs-number">0</span><br>        <span class="hljs-keyword">for</span> fast <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(nums)):<br>            <span class="hljs-keyword">if</span> nums[slow] != nums[fast]:  <span class="hljs-comment"># åˆ¤æ–­slowæŒ‡é’ˆç§»åŠ¨çš„è¯­å¥</span><br>                slow += <span class="hljs-number">1</span><br>                nums[slow] = nums[fast]<br>        <span class="hljs-keyword">return</span> slow + <span class="hljs-number">1</span><span class="hljs-comment"># è¿”å›æœ€ç»ˆçš„æ•°ç»„é•¿åº¦</span><br></code></pre></td></tr></table></figure><p><strong>C++</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">removeDuplicates</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums)</span> </span>&#123;<br>        <span class="hljs-type">int</span> slow = <span class="hljs-number">0</span>, fast = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(fast = <span class="hljs-number">0</span>; fast &lt; nums.<span class="hljs-built_in">size</span>(); fast++)&#123;<br>            <span class="hljs-keyword">if</span>(nums[slow] != nums[fast])&#123;<br>                nums[++slow] = nums[fast];<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> slow + <span class="hljs-number">1</span>;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p><strong>â•â• (2) é¢˜ç›®ï¼š</strong>ç»™å®š <code>s</code> å’Œ <code>t</code>ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œå½“å®ƒä»¬åˆ†åˆ«è¢«è¾“å…¥åˆ°ç©ºç™½çš„æ–‡æœ¬ç¼–è¾‘å™¨åï¼Œå¦‚æœä¸¤è€…ç›¸ç­‰ï¼Œè¿”å›<code>true</code> ã€‚<code>#</code> ä»£è¡¨é€€æ ¼å­—ç¬¦ã€‚<ahref="https://leetcode.cn/problems/backspace-string-compare/description/">844.æ¯”è¾ƒå«é€€æ ¼çš„å­—ç¬¦ä¸² - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p><blockquote><p><strong>æ€è·¯ï¼š</strong>ä¸€ä¸ªå­—ç¬¦æ˜¯å¦ä¼šè¢«åˆ æ‰ï¼Œåªå–å†³äºè¯¥å­—ç¬¦åé¢çš„é€€æ ¼ç¬¦ï¼Œè€Œä¸è¯¥å­—ç¬¦å‰é¢çš„é€€æ ¼ç¬¦æ— å…³ã€‚å› æ­¤å½“æˆ‘ä»¬é€†åºåœ°éå†å­—ç¬¦ä¸²ï¼Œå°±å¯ä»¥ç«‹å³ç¡®å®šå½“å‰å­—ç¬¦æ˜¯å¦ä¼šè¢«åˆ æ‰ã€‚å…·ä½“åœ°ï¼Œæˆ‘ä»¬å®šä¹‰skipè¡¨ç¤ºå½“å‰å¾…åˆ é™¤çš„å­—ç¬¦çš„æ•°é‡ã€‚æ¯æ¬¡æˆ‘ä»¬éå†åˆ°ä¸€ä¸ªå­—ç¬¦ï¼šè‹¥è¯¥å­—ç¬¦ä¸ºé€€æ ¼ç¬¦ï¼Œåˆ™æˆ‘ä»¬éœ€è¦å¤šåˆ é™¤ä¸€ä¸ªæ™®é€šå­—ç¬¦ï¼Œæˆ‘ä»¬è®©skip åŠ  1ï¼›è‹¥è¯¥å­—ç¬¦ä¸ºæ™®é€šå­—ç¬¦ï¼š</p><ul><li><p>è‹¥skip ä¸º 0ï¼Œåˆ™è¯´æ˜å½“å‰å­—ç¬¦ä¸éœ€è¦åˆ å»ï¼›</p></li><li><p>è‹¥skip ä¸ä¸º 0ï¼Œåˆ™è¯´æ˜å½“å‰å­—ç¬¦éœ€è¦åˆ å»ï¼Œæˆ‘ä»¬è®©skip å‡ 1ã€‚</p></li></ul><p>PSï¼šåŒæŒ‡é’ˆç§»åŠ¨ï¼Œä¸ä¸€å®šä¸¤ä¸ªæŒ‡é’ˆéƒ½åœ¨åŒä¸€ä¸ªæ•°ç»„ä¸Šï¼Œä¹Ÿå¯ä»¥åœ¨ä¸¤ä¸ªä¸åŒçš„æ•°ç»„ä¸Šã€‚</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">backspaceCompare</span>(<span class="hljs-params">self, s: <span class="hljs-built_in">str</span>, t: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">bool</span>:<br>        i, j = <span class="hljs-built_in">len</span>(s) -<span class="hljs-number">1</span>, <span class="hljs-built_in">len</span>(t) - <span class="hljs-number">1</span><span class="hljs-comment"># ä»åå¾€å‰</span><br>        skipS = skipT = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">while</span> i&gt;=<span class="hljs-number">0</span> <span class="hljs-keyword">or</span> j&gt;=<span class="hljs-number">0</span>:<br>            <span class="hljs-keyword">while</span> i&gt;=<span class="hljs-number">0</span>:<br>                <span class="hljs-keyword">if</span> s[i] == <span class="hljs-string">&quot;#&quot;</span>:<span class="hljs-comment"># å¦‚æœé‡åˆ°äº† â€˜#â€™ï¼Œ åˆ™è¯´æ˜éœ€è¦è·³è¿‡è¿™ä¸ªå­—ç¬¦</span><br>                    skipS += <span class="hljs-number">1</span><br>                    i -= <span class="hljs-number">1</span><span class="hljs-comment"># i æŒ‡é’ˆéœ€è¦ä¸€ç›´ç§»åŠ¨</span><br>                <span class="hljs-keyword">elif</span> skipS &gt; <span class="hljs-number">0</span>:<span class="hljs-comment"># å¦‚æœè¿˜å­˜æœ‰â€˜#â€™ï¼Œ åˆ™éœ€è¦å°† â€˜#â€™å·å‰é¢çš„å­—ç¬¦ç»™æ¶ˆé™¤æ‰</span><br>                    skipS -= <span class="hljs-number">1</span><br>                    i -= <span class="hljs-number">1</span><br>                <span class="hljs-keyword">else</span>:<br>                    <span class="hljs-keyword">break</span><br>            <span class="hljs-keyword">while</span> j&gt;=<span class="hljs-number">0</span>:<br>                <span class="hljs-keyword">if</span> t[j] == <span class="hljs-string">&quot;#&quot;</span>:<br>                    skipT += <span class="hljs-number">1</span><br>                    j -= <span class="hljs-number">1</span><br>                <span class="hljs-keyword">elif</span> skipT &gt; <span class="hljs-number">0</span>:<br>                    skipT -= <span class="hljs-number">1</span><br>                    j -= <span class="hljs-number">1</span><br>                <span class="hljs-keyword">else</span>:<br>                    <span class="hljs-keyword">break</span><br>            <span class="hljs-keyword">if</span> i&gt;=<span class="hljs-number">0</span> <span class="hljs-keyword">and</span> j&gt;= <span class="hljs-number">0</span>:<br>                <span class="hljs-keyword">if</span> s[i] != t[j]:<br>                    <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br>            <span class="hljs-keyword">elif</span> i&gt;=<span class="hljs-number">0</span> <span class="hljs-keyword">or</span> j&gt;=<span class="hljs-number">0</span>:<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br><br>            i -= <span class="hljs-number">1</span><br>            j -= <span class="hljs-number">1</span><br><br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br></code></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">backspaceCompare</span><span class="hljs-params">(string s, string t)</span> </span>&#123;<br>        <span class="hljs-type">int</span> i = s.<span class="hljs-built_in">length</span>() - <span class="hljs-number">1</span>, j = t.<span class="hljs-built_in">length</span>() - <span class="hljs-number">1</span>;<br>        <span class="hljs-type">int</span> skipS = <span class="hljs-number">0</span>, skipT = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">while</span>(i &gt;= <span class="hljs-number">0</span> || j &gt;=<span class="hljs-number">0</span>)&#123;<br>            <span class="hljs-keyword">while</span>(i&gt;=<span class="hljs-number">0</span>)&#123;<br>                <span class="hljs-keyword">if</span>(s[i--] == <span class="hljs-string">&#x27;#&#x27;</span>)<br>                    skipS += <span class="hljs-number">1</span>;<br>                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(skipS &gt; <span class="hljs-number">0</span>)&#123;<br>                    skipS--;<br>                    i--;<br>                &#125;<br>                <span class="hljs-keyword">else</span> <span class="hljs-keyword">break</span>;<br>            &#125;<br>            <span class="hljs-keyword">while</span>(j&gt;=<span class="hljs-number">0</span>)&#123;<br>                <span class="hljs-keyword">if</span>(t[j--] == <span class="hljs-string">&#x27;#&#x27;</span>)<br>                    skipT += <span class="hljs-number">1</span>;<br>                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(skipT &gt; <span class="hljs-number">0</span>)&#123;<br>                    skipS--;<br>                    j--;<br>                &#125;<br>                <span class="hljs-keyword">else</span> <span class="hljs-keyword">break</span>;<br>            &#125;<br><br>            <span class="hljs-keyword">if</span>(i&gt;=<span class="hljs-number">0</span> &amp;&amp; j&gt;=<span class="hljs-number">0</span>)&#123;<br>                <span class="hljs-keyword">if</span>(s[i] != t[j])<br>                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>            &#125;<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(i &gt;=<span class="hljs-number">0</span> || j &gt;= <span class="hljs-number">0</span>)<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>            i--;<br>            j--;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p><strong>(3) é¢˜ç›®ï¼š</strong>ç»™ä½ ä¸€ä¸ªæŒ‰ <strong>éé€’å‡é¡ºåº</strong>æ’åºçš„æ•´æ•°æ•°ç»„ <code>nums</code>ï¼Œè¿”å› <strong>æ¯ä¸ªæ•°å­—çš„å¹³æ–¹</strong>ç»„æˆçš„æ–°æ•°ç»„ï¼Œè¦æ±‚ä¹ŸæŒ‰ <strong>éé€’å‡é¡ºåº</strong> æ’åºã€‚<ahref="https://leetcode.cn/problems/squares-of-a-sorted-array/description/">977.æœ‰åºæ•°ç»„çš„å¹³æ–¹ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p><blockquote><p><strong>æ€è·¯ï¼š</strong></p><ul><li>ä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆåˆ†åˆ«æŒ‡å‘ä½ç½® 0 å’Œnâˆ’1ï¼Œæ¯æ¬¡æ¯”è¾ƒä¸¤ä¸ªæŒ‡é’ˆå¯¹åº”çš„æ•°ï¼Œé€‰æ‹©è¾ƒå¤§çš„é‚£ä¸ªé€†åºæ”¾å…¥ç­”æ¡ˆå¹¶ç§»åŠ¨æŒ‡é’ˆã€‚è¿™ç§æ–¹æ³•æ— éœ€å¤„ç†æŸä¸€æŒ‡é’ˆç§»åŠ¨è‡³è¾¹ç•Œçš„æƒ…å†µã€‚</li><li>æ‰¾åˆ°æ­£æ•°å’Œè´Ÿæ•°çš„åˆ†ç•Œçº¿ï¼Œä¸¤ä¸ªæŒ‡é’ˆåˆ†åˆ«æŒ‡å‘åˆ†ç•Œçº¿å’Œåˆ†ç•Œçº¿çš„åä¸€ä½ï¼Œç„¶åä»ä¸­é—´å¾€ä¸¤ç«¯è¿›è¡Œæ¯”è¾ƒï¼Œå°†è¾ƒå°çš„æ”¾å…¥æ–°çš„æ•°ç»„ä¸­ã€‚</li></ul></blockquote><p><strong>Python</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">sortedSquares</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]:<br>        n = <span class="hljs-built_in">len</span>(nums)<br>        ans = [<span class="hljs-number">0</span>] * n<br><br>        i, j, idx = <span class="hljs-number">0</span>, n-<span class="hljs-number">1</span>, n-<span class="hljs-number">1</span><br>        <span class="hljs-keyword">while</span> i&lt;=j:<br>            <span class="hljs-keyword">if</span> nums[i]**<span class="hljs-number">2</span> &gt; nums[j]**<span class="hljs-number">2</span>:<br>                ans[idx] = nums[i]**<span class="hljs-number">2</span><br>                i += <span class="hljs-number">1</span><br>            <span class="hljs-keyword">else</span>:<br>                ans[idx] = nums[j]**<span class="hljs-number">2</span><br>                j -= <span class="hljs-number">1</span><br>            idx -= <span class="hljs-number">1</span><br>        <br>        <span class="hljs-keyword">return</span> ans<br></code></pre></td></tr></table></figure><p><strong>C++</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">sortedSquares</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums)</span> </span>&#123;<br>        <span class="hljs-type">int</span> i=<span class="hljs-number">0</span>, j=nums.<span class="hljs-built_in">size</span>()<span class="hljs-number">-1</span>, idx=nums.<span class="hljs-built_in">size</span>()<span class="hljs-number">-1</span>;<br>        <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">ans</span><span class="hljs-params">(nums.size())</span></span>;<br>        <span class="hljs-keyword">while</span>(i&lt;=j)&#123;<br>            <span class="hljs-keyword">if</span>(nums[i]*nums[i] &gt; nums[j]*nums[j])&#123;<br>                ans[idx--] = nums[i] * nums[i];<br>                i++;<br>            &#125;<span class="hljs-keyword">else</span>&#123;<br>                ans[idx--] = nums[j] * nums[j];<br>                j--;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p><strong>â•â• (4) é¢˜ç›®ï¼š</strong>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º <code>n</code>çš„æ•´æ•°æ•°ç»„ <code>height</code> ã€‚æœ‰ <code>n</code> æ¡å‚çº¿ï¼Œç¬¬<code>i</code> æ¡çº¿çš„ä¸¤ä¸ªç«¯ç‚¹æ˜¯ <code>(i, 0)</code> å’Œ<code>(i, height[i])</code> ã€‚æ‰¾å‡ºå…¶ä¸­çš„ä¸¤æ¡çº¿ï¼Œä½¿å¾—å®ƒä»¬ä¸<code>x</code>è½´å…±åŒæ„æˆçš„å®¹å™¨å¯ä»¥å®¹çº³æœ€å¤šçš„æ°´ã€‚è¿”å›å®¹å™¨å¯ä»¥å‚¨å­˜çš„æœ€å¤§æ°´é‡ã€‚<ahref="https://leetcode.cn/problems/container-with-most-water/description/">11.ç››æœ€å¤šæ°´çš„å®¹å™¨ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p><blockquote><p><strong>æ€è·¯ï¼š</strong>é¢å¯¹è¿™ä¸ªé¢˜ç›®ï¼Œå¦‚æœæ²¡æœ‰ç»éªŒï¼Œå¾ˆéš¾æƒ³åˆ°åŒæŒ‡é’ˆã€‚æœ¬é¢˜çš„å®¹é‡å¤§å°ï¼Œå³ä¸º<code>çŸ­æ¿ * å½“å‰æ°´æ§½çš„é•¿åº¦</code>ã€‚è®¾ä¸¤æŒ‡é’ˆ i , j ï¼ŒæŒ‡å‘çš„æ°´æ§½æ¿é«˜åº¦åˆ†åˆ«ä¸ºh[i], h[j]ï¼Œæ­¤çŠ¶æ€ä¸‹æ°´æ§½é¢ç§¯ä¸ºS(i,j) ã€‚ç”±äºå¯å®¹çº³æ°´çš„é«˜åº¦ç”±ä¸¤æ¿ä¸­çš„<code>çŸ­æ¿</code> å†³å®šï¼Œå› æ­¤å¯å¾—å¦‚ä¸‹ é¢ç§¯å…¬å¼ ï¼š<spanclass="math display">\[S(i,j)=min(h[i],h[j])Ã—(jâˆ’i)\]</span></p><p>åŒæ—¶ï¼Œæ— è®ºé•¿æ¿è¿˜æ˜¯çŸ­æ¿å‘ä¸­é—´æ”¶çª„ä¸€æ ¼ï¼Œéƒ½ä¼šå¯¼è‡´æ°´æ§½åº•è¾¹å®½åº¦ -1ï¼š</p><ul><li>è‹¥å‘å†… ç§»åŠ¨çŸ­æ¿ ï¼Œæ°´æ§½çš„çŸ­æ¿ <code>min(h[i],h[j])</code>å¯èƒ½å˜å¤§ï¼Œå› æ­¤ä¸‹ä¸ªæ°´æ§½çš„é¢ç§¯ å¯èƒ½å¢å¤§ ã€‚</li><li>è‹¥å‘å†… ç§»åŠ¨é•¿æ¿ ï¼Œæ°´æ§½çš„çŸ­æ¿ <code>min(h[i],h[j])</code>ä¸å˜æˆ–å˜å°ï¼Œå› æ­¤ä¸‹ä¸ªæ°´æ§½çš„é¢ç§¯ ä¸€å®šå˜å° ã€‚</li></ul><p>PSï¼šä¸ºäº†å‡å°‘æ—¶é—´ï¼Œè¿›è¡Œä¸€ä¸‹ä¼˜åŒ–ï¼Œå½“æ°´æ§½çš„å®¹é‡å¤§å°ï¼Œå¤§äº<code>max(height) * (j - i)</code>æ—¶ï¼Œåˆ™è¯´æ˜ï¼Œæ°´æ§½çš„å®¹é‡ä¸ä¼šå†æœ‰æœºä¼šå˜å¤§äº†ã€‚</p></blockquote><p><strong>Python</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">maxArea</span>(<span class="hljs-params">self, height: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        l = <span class="hljs-built_in">len</span>(height)<br>        left, right = <span class="hljs-number">0</span>, l - <span class="hljs-number">1</span><br>        ans = <span class="hljs-number">0</span><br>        maxh = <span class="hljs-built_in">max</span>(height) <span class="hljs-comment"># æœ€å¤§çš„ é«˜åº¦</span><br>        <span class="hljs-keyword">while</span> left &lt;= right:<br>            <span class="hljs-keyword">if</span> height[left] &lt; height[right]:<br>                ans = <span class="hljs-built_in">max</span>(ans, height[left] * (right-left))<br>                left += <span class="hljs-number">1</span><br>            <span class="hljs-keyword">else</span>:<br>                ans = <span class="hljs-built_in">max</span>(ans, height[right] * (right-left))<br>                right -= <span class="hljs-number">1</span><br>            <span class="hljs-keyword">if</span> ans &gt;= maxh * (right - left): <span class="hljs-comment"># ä¼˜åŒ–</span><br>                <span class="hljs-keyword">break</span><br>        <span class="hljs-keyword">return</span> ans<br></code></pre></td></tr></table></figure><p><strong>C++</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// å› ä¸ºC++çš„vectorå®¹å™¨éœ€è¦æ·»åŠ ç®—æ³•å¤´æ–‡ä»¶æ‰èƒ½ ä½¿ç”¨max_element()å‡½æ•°</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123; <br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">maxArea</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; height)</span> </span>&#123;<br>        <span class="hljs-type">int</span> left = <span class="hljs-number">0</span>, right = height.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>, ans = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">while</span>(left &lt;= right)&#123;<br>            <span class="hljs-keyword">if</span>(height[left] &lt; height[right])&#123;<br>                ans = <span class="hljs-built_in">max</span>(ans, (right - left) * height[left++]);<br>            &#125;<span class="hljs-keyword">else</span>&#123;<br>                ans = <span class="hljs-built_in">max</span>(ans, (right - left) * height[right--]);<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p><strong>(5) é¢˜ç›®ï¼š</strong>ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º <code>n</code> çš„æ•´æ•°æ•°ç»„<code>nums</code> å’Œ ä¸€ä¸ªç›®æ ‡å€¼ <code>target</code>ã€‚è¯·ä½ ä»<code>nums</code> ä¸­é€‰å‡ºä¸‰ä¸ªæ•´æ•°ï¼Œä½¿å®ƒä»¬çš„å’Œä¸ <code>target</code>æœ€æ¥è¿‘ã€‚è¿”å›è¿™ä¸‰ä¸ªæ•°çš„å’Œã€‚å‡å®šæ¯ç»„è¾“å…¥åªå­˜åœ¨æ°å¥½ä¸€ä¸ªè§£ã€‚<ahref="https://leetcode.cn/problems/3sum-closest/description/">16.æœ€æ¥è¿‘çš„ä¸‰æ•°ä¹‹å’Œ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p><blockquote><p><strong>æ€è·¯ï¼š</strong></p><ul><li>é¦–å…ˆè¿›è¡Œæ•°ç»„æ’åºï¼Œæ—¶é—´å¤æ‚åº¦ O(nlogn)</li><li>åœ¨æ•°ç»„ nums ä¸­ï¼Œè¿›è¡Œéå†ï¼Œæ¯éå†ä¸€ä¸ªå€¼åˆ©ç”¨å…¶ä¸‹æ ‡iï¼Œå½¢æˆä¸€ä¸ªå›ºå®šå€¼nums[i]</li><li>å†ä½¿ç”¨å‰æŒ‡é’ˆæŒ‡å‘ start = i + 1 å¤„ï¼ŒåæŒ‡é’ˆæŒ‡å‘ end = nums.length - 1å¤„ï¼Œä¹Ÿå°±æ˜¯ç»“å°¾å¤„ æ ¹æ® sum = nums[i] + nums[start] + nums[end]çš„ç»“æœï¼Œåˆ¤æ–­ sum ä¸ç›®æ ‡ target çš„è·ç¦»ï¼Œå¦‚æœæ›´è¿‘åˆ™æ›´æ–°ç»“æœ ans</li><li>åŒæ—¶åˆ¤æ–­ sum ä¸ target çš„å¤§å°å…³ç³»ï¼Œå› ä¸ºæ•°ç»„æœ‰åºï¼Œå¦‚æœ sum &gt;target åˆ™ end--ï¼Œå¦‚æœ sum &lt; target åˆ™ start++ï¼Œå¦‚æœ sum == targetåˆ™è¯´æ˜è·ç¦»ä¸º 0 ç›´æ¥è¿”å›ç»“æœ</li><li>æ•´ä¸ªéå†è¿‡ç¨‹ï¼Œå›ºå®šå€¼ä¸º n æ¬¡ï¼ŒåŒæŒ‡é’ˆä¸º n æ¬¡ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(n2)</li><li>æ€»æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn)+O(n2)=O(n2)</li></ul></blockquote><p><strong>Python</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">threeSumClosest</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], target: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        nums = <span class="hljs-built_in">sorted</span>(nums)<br>        ans = nums[<span class="hljs-number">0</span>] + nums[<span class="hljs-number">1</span>] + nums[<span class="hljs-number">2</span>]<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(nums)):<br>            l, r = i + <span class="hljs-number">1</span>, <span class="hljs-built_in">len</span>(nums) - <span class="hljs-number">1</span><br>            <span class="hljs-keyword">while</span> l &lt; r:<span class="hljs-comment"># æ³¨æ„ä¸éœ€è¦ç­‰å·</span><br>                s = nums[l]+nums[r]+nums[i]<br>                <span class="hljs-keyword">if</span> <span class="hljs-built_in">abs</span>(target - s) &lt; <span class="hljs-built_in">abs</span>(target - ans):<br>                    ans = s<br>                <span class="hljs-keyword">if</span> s &gt; target:<br>                    r -= <span class="hljs-number">1</span><br>                <span class="hljs-keyword">elif</span> s &lt; target:<br>                    l += <span class="hljs-number">1</span><br>                <span class="hljs-keyword">else</span>:<br>                    <span class="hljs-keyword">return</span> ans<br>        <span class="hljs-keyword">return</span> ans<br></code></pre></td></tr></table></figure><p><strong>C++</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">threeSumClosest</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums, <span class="hljs-type">int</span> target)</span> </span>&#123;<br>        <span class="hljs-built_in">sort</span>(nums.<span class="hljs-built_in">begin</span>(), nums.<span class="hljs-built_in">end</span>());<br>        <span class="hljs-type">int</span> ans =  nums[<span class="hljs-number">0</span>] + nums[<span class="hljs-number">1</span>] + nums[<span class="hljs-number">2</span>];<br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;nums.<span class="hljs-built_in">size</span>(); i++)&#123;<br>            <span class="hljs-type">int</span> l = i + <span class="hljs-number">1</span>, r = nums.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">while</span>(l &lt; r)&#123;<span class="hljs-comment">// æ³¨æ„ä¸éœ€è¦ç­‰å·</span><br>                <span class="hljs-type">int</span> sum = nums[i] + nums[l] + nums[r];<br>                <span class="hljs-keyword">if</span>(<span class="hljs-built_in">abs</span>(target - sum) &lt; <span class="hljs-built_in">abs</span>(target - ans))<br>                    ans = sum;<br>                <span class="hljs-keyword">if</span>(sum &lt; target)<br>                    l++;<br>                <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(sum &gt; target)<br>                    r--;<br>                <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> ans;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åˆ·é¢˜</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ¯å‘¨æ€»ç»“ -- å‹‡æ•¢è¡¨è¾¾ï¼Œæ— éœ€å®³æ€•</title>
    <link href="/posts/27646/"/>
    <url>/posts/27646/</url>
    
    <content type="html"><![CDATA[<div align = "center"><H3>æ€»ç»“ &amp; åæ€</div><p><strong>æ—¶é—´ï¼š2023.12.4-2023.12.10</strong></p><p>è¿™å‘¨å¥½åƒä¹Ÿæ²¡æœ‰å­¦å¾ˆå¤šä¸œè¥¿ï¼Œå­¦äº†ç‚¹C++ï¼Œçœ‹å®Œäº† <code>pi-GAN</code>çš„ä»£ç ï¼Œå¥½åƒå°±è¿™ä¹ˆå¤šã€‚</p><p>è¿™å‘¨åº”è¯¥åˆå°†æ˜¯æˆ‘äººç”Ÿä¸­éš¾ä»¥å¿˜è®°çš„ä¸€å‘¨å­ï¼Œå¿ƒçƒ¦æ„ä¹±ã€‚å®³ï¼Œå¤šä¹ˆå¸Œæœ›æ—¶é—´èƒ½å¤Ÿå¾€å›å€’è¿‡å»ä¸€ç‚¹ç‚¹å•Šã€‚ä¸¤ä¸ªå¤šæœˆçš„æ¥è§¦ï¼Œèƒ½å¤Ÿå¤©å¤©èŠå¤©ï¼Œæ„¿æ„åˆ†äº«è‡ªå·±çš„å–œæ€’å“€ä¹ï¼ŒçœŸçš„å¾ˆéš¾è®©æˆ‘ä¸å»å¤šæƒ³ã€‚å°¤å…¶æ˜¯åœ¨è¿™å‘¨ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œæˆ‘çœŸçš„ä¸èƒ½å†æ§åˆ¶ä½è‡ªå·±å»æƒ³å¥¹ï¼ŒçœŸçš„å¾ˆæƒ³å¯¹å¥¹è¯´â€œæˆ‘å–œæ¬¢ä½ â€ã€‚ä¹Ÿè®¸å¥¹å¹¶ä¸çŸ¥é“ï¼Œæˆ‘åšçš„é‚£äº›ï¼Œæˆ‘å‘çš„é‚£äº›å…¶å®éƒ½æ˜¯å¯¹å¥¹è¯´çš„ã€‚â€œäº«å—å½“ä¸‹æ—¶å…‰ï¼Œçæƒœçœ¼å‰ä¹‹äººâ€ï¼Œçªç„¶æ„Ÿè§‰è‡ªå·±å¾ˆå¥½ç¬‘ï¼Œä¸€ç›´éƒ½æ´»åœ¨è‡ªæˆ‘æ„Ÿè§‰è‰¯å¥½çš„çŠ¶æ€ä¸­ã€‚ä½†æ˜¯ä¸ºä»€ä¹ˆå¥¹ï¼ŒçœŸçš„æ²¡æœ‰å¯¹æˆ‘æœ‰ä¸€ç‚¹æ„æ€å˜›ï¼Œä¸ºä»€ä¹ˆè¦åœ¨æˆ‘æ„Ÿè§‰å¾ˆå­¤å•çš„æ—¶å€™è¿›å…¥åˆ°æˆ‘çš„ç”Ÿæ´»ä¸­ï¼ŒçœŸçš„ä¼šæœ‰å¥³ç”Ÿè·Ÿä¸€ä½æ¯”è¾ƒé™Œç”Ÿçš„ç”·ç”Ÿè¯´æ—©å®‰ã€æ™šå®‰ï¼Œåˆ†äº«æ—¥å¸¸å—ã€‚ä½†æ˜¯ä¸ºä»€ä¹ˆå¥¹åˆè¯´ä¸æƒ³è°ˆæ‹çˆ±å•Šï¼Œä¸ºä»€ä¹ˆçªç„¶å¯¹æˆ‘ç–è¿œï¼Œä½†æ˜¯æˆ‘çœŸçš„å·²ç»éš¾ä»¥è‡ªæ‹”äº†ï¼Œè¿™ç§æ„Ÿè§‰çœŸä¸å¥½å—å“‡ã€‚æ‰€ä»¥æˆ‘æ˜¯çœŸçš„ä¸èƒ½å…‹åˆ¶è‡ªå·±äº†ï¼Œè™½ç„¶æˆ‘å½“æ—¶çŸ¥é“æœºä¼šå¾ˆæ¸ºèŒ«ï¼Œä½†æ˜¯æˆ‘è¿˜æ˜¯æƒ³å°è¯•ä¸€ä¸‹ï¼Œæˆ‘ä¸æƒ³é”™è¿‡é‚£ä¹ˆå“ªæ€•æ˜¯ä¸€ä¸çš„å¸Œæœ›ã€‚å…¶å®æˆ‘å¥½åƒä¸€ç›´éƒ½å¾ˆè‡ªå‘ï¼Œä¹Ÿä¸çŸ¥é“è‡ªå·±ä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Œå–œæ¬¢ä¸€ä¸ªäººä¸æ˜¯å°±åº”è¯¥å‹‡æ•¢çš„è¡¨è¾¾å—ï¼Œä½†æ˜¯æˆ‘å°±æ˜¯å¾ˆå®³æ€•è¢«æ‹’ç»ï¼Œå®³æ€•è‡ªå·±é…ä¸ä¸Šäººå®¶ï¼ŒçœŸçš„å¥½è®¨åŒè¿™æ ·çš„è‡ªå·±å•Šã€‚ç»ˆäºï¼Œæˆ‘é¼“èµ·äº†å‹‡æ°”ï¼Œè¡¨è¾¾äº†æˆ‘çš„æ„æ€ï¼Œç»“æœä¹Ÿä¸å‡ºæ„æ–™ï¼Œè¢«æ‹’ç»äº†ï¼Œå“ˆå“ˆå“ˆå“ˆï¼Œé‚£ä¸€åˆ»ç¡®å®è§‰å¾—è‡ªå·±å°±åƒæ˜¯ä¸€ä¸ªå°ä¸‘ã€‚ä½†æ˜¯æˆ‘ä¹Ÿç®—æ˜¯æ‰“ç ´äº†è‡ªå·±çš„å¿ƒé­”äº†å­ï¼ˆä¹Ÿè®¸ï¼‰ï¼Œè™½ç„¶ä¼šå¾ˆéš¾å—ã€‚å–œæ¬¢ä¸€ä¸ªäººå¥½åƒçœŸçš„ä¼šè®©è‡ªå·±æ™ºå•†é™ä½ï¼Œè¿™æ®µæ—¶é—´æ¯å¤©éƒ½ä¼šç­‰å¥¹çš„æ¶ˆæ¯ï¼Œæ¯å¤©éƒ½æƒ³ç€å»å’Œå¥¹èŠå¤©ï¼Œæ²¡æœ‰å¿ƒæ€å»å¹²åˆ«çš„äº‹æƒ…ï¼Œè€Œå¥¹åœ¨è¿™ä¸¤ä¸ªå¤šæœˆçš„æ—¶é—´é‡Œå¾ˆæœ‰è€å¿ƒçš„è·Ÿæˆ‘èŠå¤©ï¼Œåˆ†äº«å¥¹çš„æ—¥å¸¸ï¼ŒçœŸçš„è®©æˆ‘æœ‰ç§æ‹çˆ±çš„æ„Ÿè§‰ï¼Œè¿™ä¹Ÿè®¸æ˜¯æˆ‘è¿‘å‡ å¹´æœ€å¼€å¿ƒçš„ä¸¤ä¸ªæœˆäº†å§ã€‚è™½ç„¶ç»“æœä¸å°½äººæ„ï¼Œä½†æ˜¯èµ·ç æˆ‘é¼“èµ·äº†å‹‡æ°”ï¼Œè€Œä¸”å¥½åƒé™¤äº†éš¾å—ï¼Œæˆ‘ä¹Ÿæ²¡æœ‰å¤±å»ä»€ä¹ˆï¼Œæƒ³æƒ³ä¹Ÿç¡®å®æ²¡æœ‰ä»€ä¹ˆå¯å®³æ€•çš„ï¼Œæ²¡æœ‰ä»€ä¹ˆå¯è‡ªå‘çš„ã€‚æˆ‘è§‰å¾—æˆ‘å·²ç»è¶³å¤Ÿå‹‡æ•¢äº†ï¼Œä½†æ˜¯ä¹Ÿè®¸æ­£æ˜¯ä¸€ä»½ä»½çš„é—æ†¾ï¼Œæ‰èƒ½é“¸æˆæœ€ç»ˆçš„é‚£ä¸€ä»½ç¾å¥½å§ã€‚è¿™å‘¨å°±è¿™æ ·å­ï¼Œå¸Œæœ›æˆ‘è‡ªå·±ä¹‹åä¹Ÿèƒ½ä¸€ç›´å‹‡æ•¢ï¼Œçæƒœæœºä¼šã€‚</p><p><strong>å‹‡æ•¢è¡¨è¾¾ï¼Œæ— éœ€å®³æ€•</strong></p>]]></content>
    
    
    <categories>
      
      <category>æ¯å‘¨å›é¡¾</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ€»ç»“&amp;åæ€</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>C++ prime</title>
    <link href="/posts/61084/"/>
    <url>/posts/61084/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    <categories>
      
      <category>C++</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C++ åŸºç¡€è¯­æ³•</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>STLæºç å‰–æ</title>
    <link href="/posts/10569/"/>
    <url>/posts/10569/</url>
    
    <content type="html"><![CDATA[<h2 id="stlæºç è§£æ">STLæºç è§£æ</h2><h3 id="stlæ¦‚è®º">1 STLæ¦‚è®º</h3><h4 id="stlå…­å¤§ç»„ä»¶">1.1 STLå…­å¤§ç»„ä»¶</h4><ol type="1"><li>å®¹å™¨ï¼ˆcontainersï¼‰ï¼šå„ç§æ•°æ®ç»“æ„ï¼Œå¦‚vectorï¼Œlistï¼Œdequeï¼Œsetï¼Œmapï¼Œç”¨æ¥å­˜æ”¾æ•°æ®ã€‚</li><li>ç®—æ³•ï¼ˆalgorithmsï¼‰ï¼šå„ç§å¸¸ç”¨ç®—æ³•ï¼Œå¦‚sortï¼Œsearchï¼Œcopyï¼ŒeraseÂ·Â·Â·ã€‚</li><li>è¿­ä»£å™¨ï¼ˆiteratorï¼‰ï¼šæ‰®æ¼”å®¹å™¨ä¸ç®—æ³•ä¹‹é—´çš„èƒ¶åˆå‰‚ï¼Œæ˜¯æ‰€è°“çš„â€œæ³›å‹æŒ‡é’ˆâ€ã€‚</li><li>ä»¿å‡½æ•°ï¼ˆfunctorsï¼‰ï¼šè¡Œä¸ºç±»ä¼¼å‡½æ•°ï¼Œå¯ä½œä¸ºç®—æ³•çš„æŸç§ç­–ç•¥ï¼ˆpolicyï¼‰ã€‚</li><li>é…æ¥å™¨ï¼ˆadaptersï¼‰ï¼šä¸€ç§ç”¨æ¥ä¿®é¥°å®¹å™¨æˆ–ä»¿å‡½æ•°æˆ–è¿­ä»£å™¨æ¥å£çš„ä¸œè¥¿ã€‚</li><li>é…ç½®å™¨ï¼ˆallocatorsï¼‰ï¼šè´Ÿè´£ç©ºé—´é…ç½®ä¸ç®¡ç†ã€‚</li></ol><h3 id="ç©ºé—´é…ç½®å™¨allocator">2 ç©ºé—´é…ç½®å™¨(allocator)</h3>]]></content>
    
    
    <categories>
      
      <category>C++</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C++ STLæºç </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç®—æ³•è®­ç»ƒä¹‹ -- äºŒåˆ†æŸ¥æ‰¾</title>
    <link href="/posts/42877/"/>
    <url>/posts/42877/</url>
    
    <content type="html"><![CDATA[<h3 id="äºŒåˆ†æŸ¥æ‰¾">1 äºŒåˆ†æŸ¥æ‰¾</h3><h4 id="æ€è·¯">1. æ€è·¯</h4><p>â€‹ <strong>é¢˜ç›®ï¼š</strong>ç»™å®šä¸€ä¸ª <code>n</code>ä¸ªå…ƒç´ æœ‰åºçš„ï¼ˆå‡åºï¼‰æ•´å‹æ•°ç»„ <code>nums</code> å’Œä¸€ä¸ªç›®æ ‡å€¼<code>target</code> ï¼Œå†™ä¸€ä¸ªå‡½æ•°æœç´¢ <code>nums</code> ä¸­çš„<code>target</code>ï¼Œå¦‚æœç›®æ ‡å€¼å­˜åœ¨è¿”å›ä¸‹æ ‡ï¼Œå¦åˆ™è¿”å›<code>-1</code>ã€‚<ahref="https://leetcode.cn/problems/binary-search/">704. äºŒåˆ†æŸ¥æ‰¾ -åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p><blockquote><p>äºŒåˆ†å­˜åœ¨ä¸¤ç§æœç´¢çš„æ–¹æ³•ï¼Œï¼ˆ1ï¼‰å·¦é—­å³é—­ï¼Œï¼ˆ2ï¼‰å·¦é—­å³å¼€ã€‚å°½é‡ä½¿ç”¨ä¸€ç§å†™æ³•ï¼Œæ¨èä½¿ç”¨ç¬¬ä¸€ç§ã€‚</p><p><strong>å·¦é—­å³é—­ï¼š</strong><code>right</code>çš„é•¿åº¦ä¸º<code>len(nums) - 1</code>ï¼Œwhile å¾ªç¯ä¸­çš„åˆ¤æ–­ä¸º<code>left&lt;=right</code>ï¼Œå¹¶ä¸”å½“æ›´æ–°<code>right</code>çš„é•¿åº¦æ—¶ï¼Œä½¿ç”¨<code>mid - 1</code>ã€‚</p><p><strong>å·¦é—­å³å¼€ï¼š</strong><code>right</code>çš„é•¿åº¦ä¸º<code>len(nums)</code>ï¼Œwhile å¾ªç¯ä¸­çš„åˆ¤æ–­ä¸º<code>left&lt;right</code>ï¼Œå¹¶ä¸”å½“æ›´æ–°<code>right</code>çš„é•¿åº¦æ—¶ï¼Œä½¿ç”¨<code>mid</code>ã€‚</p></blockquote><h4 id="è§£æ³•">2. è§£æ³•</h4><p><strong>Python</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">search</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], target: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        l = <span class="hljs-number">0</span><br>        r = <span class="hljs-built_in">len</span>(nums) - <span class="hljs-number">1</span><br>        <span class="hljs-keyword">while</span> l &lt;= r:      <span class="hljs-comment"># å·¦é—­å³é—­</span><br>            mid = (l+r)//<span class="hljs-number">2</span><br>            <span class="hljs-keyword">if</span> nums[mid] == target:<br>                <span class="hljs-keyword">return</span> mid<br>            <span class="hljs-keyword">if</span> nums[mid] &gt; target:<br>                r = mid - <span class="hljs-number">1</span><br>            <span class="hljs-keyword">if</span> nums[mid] &lt;target:<br>                l = mid + <span class="hljs-number">1</span><br>                <br>        <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><p><strong>C++</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">search</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums, <span class="hljs-type">int</span> target)</span> </span>&#123;<br>        <span class="hljs-type">int</span> l = <span class="hljs-number">0</span>, r = nums.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">while</span>(l&lt;=r)&#123; <span class="hljs-comment">// å·¦é—­å³é—­</span><br>            <span class="hljs-type">int</span> mid = l + (r - l) / <span class="hljs-number">2</span>;<br>            <span class="hljs-keyword">if</span>(nums[mid] &gt; target)&#123;<br>                r = mid - <span class="hljs-number">1</span>;<br>            &#125;<br>            <span class="hljs-keyword">if</span>(nums[mid] &lt; target)&#123;<br>                l = mid + <span class="hljs-number">1</span>;<br>            &#125;<br>            <span class="hljs-keyword">if</span>(nums[mid] == target)&#123;<br>                <span class="hljs-keyword">return</span> mid;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h4 id="å˜ç§">3. å˜ç§</h4><p><strong>(1)é¢˜ç›®ï¼š</strong>ç»™å®šä¸€ä¸ªæ’åºæ•°ç»„å’Œä¸€ä¸ªç›®æ ‡å€¼ï¼Œåœ¨æ•°ç»„ä¸­æ‰¾åˆ°ç›®æ ‡å€¼ï¼Œå¹¶è¿”å›å…¶ç´¢å¼•ã€‚å¦‚æœç›®æ ‡å€¼ä¸å­˜åœ¨äºæ•°ç»„ä¸­ï¼Œè¿”å›å®ƒå°†ä¼šè¢«æŒ‰é¡ºåºæ’å…¥çš„ä½ç½®ã€‚<ahref="https://leetcode.cn/problems/search-insert-position/description/">35.æœç´¢æ’å…¥ä½ç½® - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p><blockquote><p>ç”±äºæ•°ç»„ä¸­å¯èƒ½å­˜åœ¨æ²¡æœ‰<code>target</code>çš„æƒ…å†µï¼Œè€Œè¿™ç§æƒ…å†µéœ€è¦è¿”å›<code>target</code>å¯ä»¥æ’å…¥çš„ç´¢å¼•ã€‚</p><p>å¦‚æœ<code>while(l&lt;=r)</code> åˆ™æˆ‘ä»¬éœ€è¦æ”¹å˜ <code>l</code>çš„ç´¢å¼•ï¼Œå¦‚æœä½¿ç”¨ç¬¬äºŒç§äºŒåˆ†<code>while(l&lt;r)</code>ï¼Œåˆ™ä¸éœ€è¦åšå‡ºæ”¹å˜ã€‚</p></blockquote><p><strong>Python</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># ç¬¬ä¸€ç§äºŒåˆ†</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">searchInsert</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], target: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        l = <span class="hljs-number">0</span><br>        r = <span class="hljs-built_in">len</span>(nums) - <span class="hljs-number">1</span><br>        <span class="hljs-keyword">while</span> l &lt;= r:<br>            mid = l + (r - l) // <span class="hljs-number">2</span><br>            <span class="hljs-keyword">if</span> nums[mid] == target:<br>                <span class="hljs-keyword">return</span> mid<br>            <span class="hljs-keyword">if</span> nums[mid] &gt; target:<br>                r = mid - <span class="hljs-number">1</span><br>            <span class="hljs-keyword">if</span> nums[mid] &lt; target:<br>                l = mid + <span class="hljs-number">1</span><span class="hljs-comment"># æ”¹å˜ l çš„ç´¢å¼•ï¼Œå¦åˆ™é‡åˆ° l = r æ—¶å›è¿›å…¥æ­»å¾ªç¯</span><br>        <span class="hljs-keyword">return</span> l <br></code></pre></td></tr></table></figure><p><strong>C++</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// ç¬¬äºŒç§äºŒåˆ†</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">searchInsert</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums, <span class="hljs-type">int</span> target)</span> </span>&#123;<br>        <span class="hljs-type">int</span> l = <span class="hljs-number">0</span>, r = nums.<span class="hljs-built_in">size</span>();<br>        <span class="hljs-keyword">while</span>(l &lt; r)&#123;<span class="hljs-comment">// l &lt; r åˆ™ä¸ä¼šé‡åˆ°æ­»å¾ªç¯çš„æƒ…å†µ</span><br>            <span class="hljs-type">int</span> mid =  l + (r - l) / <span class="hljs-number">2</span>;<br>            <span class="hljs-keyword">if</span>(nums[mid] == target)<br>                <span class="hljs-keyword">return</span> mid;<br>            <span class="hljs-keyword">if</span>(nums[mid] &gt; target)<br>                r = mid;<br>            <span class="hljs-keyword">if</span>(nums[mid] &lt; target)<br>                l = mid + <span class="hljs-number">1</span>;<br>        &#125;<br>        <span class="hljs-keyword">return</span> l;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p><strong>(2) é¢˜ç›®:</strong>ç»™ä½ ä¸€ä¸ªæŒ‰ç…§éé€’å‡é¡ºåºæ’åˆ—çš„æ•´æ•°æ•°ç»„<code>nums</code>ï¼Œå’Œä¸€ä¸ªç›®æ ‡å€¼<code>target</code>ã€‚è¯·ä½ æ‰¾å‡ºç»™å®šç›®æ ‡å€¼åœ¨æ•°ç»„ä¸­çš„å¼€å§‹ä½ç½®å’Œç»“æŸä½ç½®ã€‚å¦‚æœæ•°ç»„ä¸­ä¸å­˜åœ¨ç›®æ ‡å€¼<code>target</code>ï¼Œè¿”å›<code>[-1, -1]</code>ã€‚ä½ å¿…é¡»è®¾è®¡å¹¶å®ç°æ—¶é—´å¤æ‚åº¦ä¸º<code>O(log n)</code> çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜ã€‚<ahref="https://leetcode.cn/problems/find-first-and-last-position-of-element-in-sorted-array/description/">34.åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½® - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p><blockquote><p>æ€è·¯ï¼šå¯»æ‰¾<code>target</code>çš„èµ·å§‹ä½ç½®å’Œç»“æŸä½ç½®ã€‚å…¶å®å°±æ˜¯ä»å·¦è¾¹å¼€å§‹äºŒåˆ†æŸ¥æ‰¾ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªtargetï¼Œ<code>letfidx = mid, r = mid - 1</code>ï¼›ç„¶åä»å³è¾¹å¼€å§‹äºŒåˆ†ï¼Œæ‰¾åˆ°æœ€åä¸€ä¸ªtargetï¼Œ<code>rightidx = mid, l = mid + 1</code>ã€‚</p></blockquote><p><strong>Python</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">searchRange</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], target: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]:<br>        l, r = <span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(nums) - <span class="hljs-number">1</span><br>        left = right = -<span class="hljs-number">1</span><br>        <span class="hljs-keyword">while</span>(l &lt;= r):<br>            mid = (l + r) // <span class="hljs-number">2</span><br>            <span class="hljs-keyword">if</span> nums[mid] == target:<br>                left = mid<br>                r = mid - <span class="hljs-number">1</span> <span class="hljs-comment"># å¯»æ‰¾ç¬¬ä¸€ä¸ªtargetï¼Œéœ€è¦å¾€å·¦è¾¹ç§»åŠ¨ ï¼ï¼ï¼</span><br>            <span class="hljs-keyword">if</span> nums[mid] &lt; target:<br>                l = mid + <span class="hljs-number">1</span><br>            <span class="hljs-keyword">if</span> nums[mid] &gt; target:<br>                r = mid - <span class="hljs-number">1</span><br>        <span class="hljs-comment"># left å®šä½å¥½äº†</span><br><br>        l = left <span class="hljs-keyword">if</span> left != -<span class="hljs-number">1</span> <span class="hljs-keyword">else</span> <span class="hljs-number">0</span><br>        r = <span class="hljs-built_in">len</span>(nums) - <span class="hljs-number">1</span><br>        <span class="hljs-keyword">while</span>(l &lt;= r):<br>            mid = (l + r) // <span class="hljs-number">2</span><br>            <span class="hljs-keyword">if</span> nums[mid] == target:<br>                right = mid<br>                l = mid + <span class="hljs-number">1</span><br>            <span class="hljs-keyword">if</span> nums[mid] &lt; target:<br>                l = mid + <span class="hljs-number">1</span><br>            <span class="hljs-keyword">if</span> nums[mid] &gt; target:<br>                r = mid - <span class="hljs-number">1</span><br><br>        <span class="hljs-keyword">return</span> [left, right]<br></code></pre></td></tr></table></figure><p><strong>C++</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">vector&lt;<span class="hljs-type">int</span>&gt; <span class="hljs-title">searchRange</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums, <span class="hljs-type">int</span> target)</span> </span>&#123;<br>        <span class="hljs-type">int</span> l = <span class="hljs-number">0</span>, r = nums.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>;<br>        <span class="hljs-type">int</span> left = <span class="hljs-number">-1</span>, right = <span class="hljs-number">-1</span>;<br>        <span class="hljs-keyword">while</span>(l&lt;=r)&#123;<br>            <span class="hljs-type">int</span> mid = (l + r) / <span class="hljs-number">2</span>;<br>            <span class="hljs-keyword">if</span>(nums[mid] == target)&#123;<br>                left = mid;<br>                r = mid - <span class="hljs-number">1</span>;<br>            &#125;<br>            <span class="hljs-keyword">if</span>(nums[mid] &lt; target)<br>                l = mid + <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">if</span>(nums[mid] &gt; target)<br>                r = mid - <span class="hljs-number">1</span>;<br>        &#125;<br><br>        l = (left != <span class="hljs-number">-1</span>) ? left : <span class="hljs-number">0</span>;<br>        r = nums.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">while</span>(l &lt;= r)&#123;<br>            <span class="hljs-type">int</span> mid = (l + r) / <span class="hljs-number">2</span>;<br>            <span class="hljs-keyword">if</span>(nums[mid] == target)&#123;<br>                right = mid;<br>                l = mid + <span class="hljs-number">1</span>;<br>            &#125;<br>            <span class="hljs-keyword">if</span>(nums[mid] &lt; target)<br>                l = mid + <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">if</span>(nums[mid] &gt; target)<br>                r = mid - <span class="hljs-number">1</span>;<br>        &#125;<br><br>        vector&lt;<span class="hljs-type">int</span>&gt; ans&#123;left, right&#125;;<br><br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p><strong>(3) é¢˜ç›®ï¼š</strong> ç»™ä½ ä¸€ä¸ªéè´Ÿæ•´æ•° <code>x</code>ï¼Œè®¡ç®—å¹¶è¿”å› <code>x</code> çš„ <strong>ç®—æœ¯å¹³æ–¹æ ¹</strong>ã€‚ç”±äºè¿”å›ç±»å‹æ˜¯æ•´æ•°ï¼Œç»“æœåªä¿ç•™ <strong>æ•´æ•°éƒ¨åˆ†</strong>ï¼Œå°æ•°éƒ¨åˆ†å°†è¢« <strong>èˆå» ã€‚</strong></p><p><strong>æ³¨æ„ï¼š</strong>ä¸å…è®¸ä½¿ç”¨ä»»ä½•å†…ç½®æŒ‡æ•°å‡½æ•°å’Œç®—ç¬¦ï¼Œä¾‹å¦‚<code>pow(x, 0.5)</code> æˆ–è€… <code>x ** 0.5</code> ã€‚<ahref="https://leetcode.cn/problems/sqrtx/description/">69. x çš„å¹³æ–¹æ ¹ -åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p><blockquote><p>æ€è·¯ï¼šç”±äºä¸èƒ½ä½¿ç”¨mathå‡½æ•°åº“ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨äºŒåˆ†çš„æ–¹æ³•ï¼Œé€šè¿‡<code>mid**2</code>æ¥åˆ¤æ–­ï¼Œä»è€Œå¾—åˆ°<code>ans</code>çš„å€¼ã€‚å› ä¸º<span class="math inline">\(k^2 &lt;= x\)</span>ï¼Œæ‰€ä»¥é€šè¿‡äºŒåˆ†æŸ¥æ‰¾æ¥æ‰¾åˆ° <code>k</code>ï¼Œç„¶åé€šè¿‡ç§»åŠ¨å·¦å³è¾¹ç•Œæ¥å®šä½<code>mid</code>ã€‚</p></blockquote><p><strong>Python</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">mySqrt</span>(<span class="hljs-params">self, x: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        l, r, ans = <span class="hljs-number">0</span>, x, -<span class="hljs-number">1</span><br>        <span class="hljs-keyword">while</span> l &lt;= r:<br>            mid = l + (r - l) // <span class="hljs-number">2</span><span class="hljs-comment"># é˜²æ­¢æº¢å‡º</span><br>            <span class="hljs-keyword">if</span> mid ** <span class="hljs-number">2</span> &lt;= x:<span class="hljs-comment"># å®šä½k</span><br>                ans = mid<br>                l = mid + <span class="hljs-number">1</span><br>            <span class="hljs-keyword">else</span>:<br>                r = mid - <span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> ans<br></code></pre></td></tr></table></figure><p><strong>C++</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">mySqrt</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span> </span>&#123;<br>        <span class="hljs-type">int</span> l = <span class="hljs-number">0</span>, r = x, ans = <span class="hljs-number">-1</span>;<br>        <span class="hljs-keyword">while</span>(l &lt;= r)&#123;<br>            <span class="hljs-type">int</span> mid = l + (r - l) / <span class="hljs-number">2</span>; <span class="hljs-comment">// é˜²æ­¢æº¢å‡º</span><br>            <span class="hljs-keyword">if</span>((<span class="hljs-type">long</span> <span class="hljs-type">long</span> )mid * mid &lt;= x)&#123; <span class="hljs-comment">// å¤§æ•° éœ€è¦é•¿æ•´å‹</span><br>                ans = mid;<br>                l = mid + <span class="hljs-number">1</span>;<br>            &#125;<span class="hljs-keyword">else</span>&#123;<br>                r = mid - <span class="hljs-number">1</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p><strong>(4) é¢˜ç›®ï¼š</strong>ç»™ä½ ä¸€ä¸ªæ»¡è¶³ä¸‹è¿°ä¸¤æ¡å±æ€§çš„<code>m x n</code> æ•´æ•°çŸ©é˜µï¼š</p><ul><li>æ¯è¡Œä¸­çš„æ•´æ•°ä»å·¦åˆ°å³æŒ‰éä¸¥æ ¼é€’å¢é¡ºåºæ’åˆ—ã€‚</li><li>æ¯è¡Œçš„ç¬¬ä¸€ä¸ªæ•´æ•°å¤§äºå‰ä¸€è¡Œçš„æœ€åä¸€ä¸ªæ•´æ•°ã€‚</li></ul><p>ç»™ä½ ä¸€ä¸ªæ•´æ•° <code>target</code> ï¼Œå¦‚æœ <code>target</code>åœ¨çŸ©é˜µä¸­ï¼Œè¿”å› <code>true</code> ï¼›å¦åˆ™ï¼Œè¿”å› <code>false</code> ã€‚<ahref="https://leetcode.cn/problems/search-a-2d-matrix/description/">74.æœç´¢äºŒç»´çŸ©é˜µ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p><blockquote><p>æ€è·¯ï¼šå¯¹äºäºŒç»´æœ‰åºçš„çŸ©é˜µï¼Œè¿›è¡Œå…ƒç´ æœç´¢æ—¶ä¹Ÿå¯ä»¥ä½¿ç”¨äºŒåˆ†ã€‚å¯ä»¥ä½¿ç”¨äºŒæ¬¡äºŒåˆ†è¿›è¡ŒæŸ¥æ‰¾ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä¸€æ¬¡äºŒåˆ†è¿›è¡ŒæŸ¥æ‰¾ã€‚</p><ul><li>ä¸¤æ¬¡äºŒåˆ†æŸ¥æ‰¾ï¼šå°±æ˜¯å…ˆå¯¹<code>è¡Œæˆ–åˆ—</code>è¿›è¡ŒæŸ¥æ‰¾ï¼Œç¡®å®šå…ƒç´ åœ¨å“ª<code>åˆ—æˆ–è¡Œ</code>ï¼Œç„¶åå¯¹ç¡®å®šçš„é‚£<code>åˆ—æˆ–è¡Œ</code>è¿›è¡Œç¬¬äºŒæ¬¡æŸ¥æ‰¾ï¼Œæœ€ç»ˆæ‰¾åˆ°å…ƒç´ ã€‚</li><li>ä¸€æ¬¡äºŒåˆ†æŸ¥æ‰¾ï¼šå°±æ˜¯å°†äºŒç»´çŸ©é˜µçœ‹ä¸ºä¸€ç»´æ•°ç»„ï¼Œé€šè¿‡<code>å–æ•´å–ä½™</code>æ“ä½œæ¥åˆ¤æ–­å…ƒç´ ä½ç½®ï¼Œ<code>mid / n</code>ä¸ºå…ƒç´ çš„è¡Œï¼Œ<code>mid % n</code>ä¸ºå…ƒç´ åˆ—ï¼ˆå› ä¸ºæ¯nä¸ªå…ƒç´ åæ‰ä¼šæ¢è¡Œï¼‰</li></ul></blockquote><p><strong>Python</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># ä¸¤æ¬¡äºŒåˆ†</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">searchMatrix</span>(<span class="hljs-params">self, matrix: <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]], target: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">bool</span>:<br>        n = <span class="hljs-built_in">len</span>(matrix[<span class="hljs-number">0</span>]) - <span class="hljs-number">1</span><span class="hljs-comment"># åˆ—</span><br>        m = <span class="hljs-built_in">len</span>(matrix) - <span class="hljs-number">1</span> <span class="hljs-comment"># è¡Œ</span><br>        top = <span class="hljs-number">0</span><br>        left = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">while</span> top &lt;= m:<br>            mid = top + (m - top) // <span class="hljs-number">2</span><br>            <span class="hljs-comment"># if matrix[mid][left] == target:</span><br>            <span class="hljs-comment">#     return True</span><br>            <span class="hljs-keyword">if</span> matrix[mid][left] &lt; target:<br>                top = mid + <span class="hljs-number">1</span><br>            <span class="hljs-keyword">elif</span> matrix[mid][left] &gt; target:<br>                m = mid - <span class="hljs-number">1</span><br>            <span class="hljs-keyword">else</span>:<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br>        top -= <span class="hljs-number">1</span><br>        <span class="hljs-keyword">while</span> left &lt;= n:<br>            mid = left + (n -left) // <span class="hljs-number">2</span><br>            <span class="hljs-comment"># if matrix[top][mid] == target:</span><br>            <span class="hljs-comment">#     return True</span><br>            <span class="hljs-keyword">if</span> matrix[top][mid] &lt; target:<br>                left = mid + <span class="hljs-number">1</span><br>            <span class="hljs-keyword">elif</span> matrix[top][mid] &gt; target:<br>                n = mid - <span class="hljs-number">1</span><br>            <span class="hljs-keyword">else</span>:<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span> <br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br></code></pre></td></tr></table></figure><p><strong>C++</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">// ä¸€æ¬¡äºŒåˆ†</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">searchMatrix</span><span class="hljs-params">(vector&lt;vector&lt;<span class="hljs-type">int</span>&gt;&gt;&amp; matrix, <span class="hljs-type">int</span> target)</span> </span>&#123;<br>        <span class="hljs-type">int</span> m = matrix.<span class="hljs-built_in">size</span>();<br>        <span class="hljs-type">int</span> n = matrix[<span class="hljs-number">0</span>].<span class="hljs-built_in">size</span>();<br>        <span class="hljs-type">int</span> left = <span class="hljs-number">0</span>, right = m * n - <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">while</span>(left &lt;= right)&#123;<br>            <span class="hljs-type">int</span> mid = left + (right - left) / <span class="hljs-number">2</span>;<br>            <span class="hljs-keyword">if</span>(matrix[mid / n][mid % n] &gt; target)&#123;<br>                right = mid - <span class="hljs-number">1</span>;<br>            &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (matrix[mid / n][mid % n] &lt; target)&#123;<br>                left = mid + <span class="hljs-number">1</span>;<br>            &#125;<span class="hljs-keyword">else</span> &#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p><strong>(5) é¢˜ç›®ï¼š</strong>åœ¨ä¼ é€’ç»™å‡½æ•°ä¹‹å‰ï¼Œ<code>nums</code>åœ¨é¢„å…ˆæœªçŸ¥çš„æŸä¸ªä¸‹æ ‡<code>k</code>ï¼ˆ<code>0 &lt;= k &lt; nums.length</code>ï¼‰ä¸Šè¿›è¡Œäº†<strong>æ—‹è½¬</strong>ï¼Œä½¿æ•°ç»„å˜ä¸º<code>[nums[k], nums[k+1], ..., nums[n-1], nums[0], nums[1], ..., nums[k-1]]</code>ï¼ˆä¸‹æ ‡<strong>ä» 0 å¼€å§‹</strong> è®¡æ•°ï¼‰ã€‚ä¾‹å¦‚ï¼Œ <code>[0,1,2,4,5,6,7]</code>åœ¨ä¸‹æ ‡ <code>3</code> å¤„ç»æ—‹è½¬åå¯èƒ½å˜ä¸º <code>[4,5,6,7,0,1,2]</code>ã€‚ç»™ä½  <strong>æ—‹è½¬å</strong> çš„æ•°ç»„ <code>nums</code> å’Œä¸€ä¸ªæ•´æ•°<code>target</code> ï¼Œå¦‚æœ <code>nums</code> ä¸­å­˜åœ¨è¿™ä¸ªç›®æ ‡å€¼<code>target</code> ï¼Œåˆ™è¿”å›å®ƒçš„ä¸‹æ ‡ï¼Œå¦åˆ™è¿”å› <code>-1</code>ã€‚ä½ å¿…é¡»è®¾è®¡ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦ä¸º <code>O(log n)</code> çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜ã€‚<ahref="https://leetcode.cn/problems/search-in-rotated-sorted-array/description/">33.æœç´¢æ—‹è½¬æ’åºæ•°ç»„ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p><blockquote><p><strong>æ€è·¯ï¼š</strong>åœ¨å¸¸è§„äºŒåˆ†æŸ¥æ‰¾çš„æ—¶å€™æŸ¥çœ‹å½“å‰ midä¸ºåˆ†å‰²ä½ç½®åˆ†å‰²å‡ºæ¥çš„ä¸¤ä¸ªéƒ¨åˆ† [l, mid] å’Œ [mid + 1, r]å“ªä¸ªéƒ¨åˆ†æ˜¯æœ‰åºçš„ï¼Œå¹¶æ ¹æ®æœ‰åºçš„é‚£ä¸ªéƒ¨åˆ†ç¡®å®šæˆ‘ä»¬è¯¥å¦‚ä½•æ”¹å˜äºŒåˆ†æŸ¥æ‰¾çš„ä¸Šä¸‹ç•Œï¼Œå› ä¸ºæˆ‘ä»¬èƒ½å¤Ÿæ ¹æ®æœ‰åºçš„é‚£éƒ¨åˆ†åˆ¤æ–­å‡ºtarget åœ¨ä¸åœ¨è¿™ä¸ªéƒ¨åˆ†ï¼š</p><ul><li><p>å¦‚æœ [l, mid - 1] æ˜¯æœ‰åºæ•°ç»„ï¼Œä¸” target çš„å¤§å°æ»¡è¶³[nums[l],nums[mid])ï¼Œåˆ™æˆ‘ä»¬åº”è¯¥å°†æœç´¢èŒƒå›´ç¼©å°è‡³ [l, mid - 1]ï¼Œå¦åˆ™åœ¨[mid + 1, r] ä¸­å¯»æ‰¾ã€‚</p></li><li><p>å¦‚æœ [mid, r] æ˜¯æœ‰åºæ•°ç»„ï¼Œä¸” target çš„å¤§å°æ»¡è¶³(nums[mid+1],nums[r]]ï¼Œåˆ™æˆ‘ä»¬åº”è¯¥å°†æœç´¢èŒƒå›´ç¼©å°è‡³ [mid + 1, r]ï¼Œå¦åˆ™åœ¨[l, mid - 1] ä¸­å¯»æ‰¾ã€‚</p></li></ul><p><strong>PSï¼šä¸€å®šè¦æ³¨æ„ç­‰å·çš„é—®é¢˜ã€‚</strong></p></blockquote><p><strong>Python</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">search</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], target: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        l, r = <span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(nums) - <span class="hljs-number">1</span><br>        <span class="hljs-keyword">while</span> l &lt;= r:<br>            mid = l + (r - l) // <span class="hljs-number">2</span><br>            <span class="hljs-keyword">if</span> nums[mid] == target:<br>                    <span class="hljs-keyword">return</span> mid<br>            <span class="hljs-keyword">elif</span> nums[l] &lt;= nums[mid]:<br>                <span class="hljs-keyword">if</span> nums[l] &lt;= target <span class="hljs-keyword">and</span> target &lt; nums[mid]:<span class="hljs-comment"># å·¦ç­‰å·</span><br>                    r = mid - <span class="hljs-number">1</span><br>                <span class="hljs-keyword">else</span>:<br>                    l = mid + <span class="hljs-number">1</span><br>            <span class="hljs-keyword">else</span>:<br>                <span class="hljs-keyword">if</span> nums[mid] &lt; target <span class="hljs-keyword">and</span> target &lt;= nums[r]:<span class="hljs-comment"># å³ç­‰å·</span><br>                    l = mid + <span class="hljs-number">1</span><br>                <span class="hljs-keyword">else</span>:<br>                    r = mid - <span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span><br><br></code></pre></td></tr></table></figure><p><strong>C++</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span> &#123;<br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">search</span><span class="hljs-params">(vector&lt;<span class="hljs-type">int</span>&gt;&amp; nums, <span class="hljs-type">int</span> target)</span> </span>&#123;<br>        <span class="hljs-type">int</span> l = <span class="hljs-number">0</span>, r = nums.<span class="hljs-built_in">size</span>() - <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">while</span>(l &lt;= r)&#123;<br>            <span class="hljs-type">int</span> mid = l + (r - l) / <span class="hljs-number">2</span>;<br>            <span class="hljs-keyword">if</span>(nums[mid] == target)<br>                <span class="hljs-keyword">return</span> mid;<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(nums[l] &lt;= nums[mid])&#123;<br>                <span class="hljs-keyword">if</span>(nums[l] &lt;= target &amp;&amp; target &lt; nums[mid]) <span class="hljs-comment">// æ³¨æ„ç­‰å·</span><br>                    r = mid - <span class="hljs-number">1</span>;<br>                <span class="hljs-keyword">else</span><br>                    l = mid + <span class="hljs-number">1</span>;<br>            &#125;<span class="hljs-keyword">else</span>&#123;<br>                <span class="hljs-keyword">if</span>(nums[mid] &lt; target &amp;&amp; target &lt;= nums[r]) <span class="hljs-comment">// æ³¨æ„ç­‰å·</span><br>                    l = mid + <span class="hljs-number">1</span>;<br>                <span class="hljs-keyword">else</span><br>                    r = mid - <span class="hljs-number">1</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ç®—æ³•</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åˆ·é¢˜</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Model</title>
    <link href="/posts/47195/"/>
    <url>/posts/47195/</url>
    
    <content type="html"><![CDATA[<h3 id="pi-gan-ä¸»è¦ç»“æ„">pi-GAN ä¸»è¦ç»“æ„</h3><h4 id="pi-gan-çš„overview">1 pi-GAN çš„overview</h4><p><img src="image-20231029204458327.png" alt="image-20231029204458327" style="zoom: 67%;" /></p><p>æ˜ å°„ç½‘ç»œæ˜¯ä¸€ä¸ªç®€å•çš„ ReLU MLPï¼Œå®ƒå°†å™ªå£°å‘é‡ z ä½œä¸ºè¾“å…¥å¹¶è¾“å‡ºé¢‘ç‡ Î³iå’Œç›¸ç§» Î²iï¼Œå®ƒè°ƒèŠ‚ SIREN çš„æ¯ä¸€å±‚ã€‚</p><p><img src="image-20231029211833414.png" alt="image-20231029211833414" style="zoom:80%;" /></p><h4 id="pi-ganä»£ç ä¸»è¦å‡½æ•°">2 pi-GANä»£ç ä¸»è¦å‡½æ•°</h4><p><img src="image-20231126194019676.png" alt="image-20231126194019676" style="zoom:50%;" /></p><h4 id="æ¸è¿›å¼å¢é•¿è¾¨åˆ«å™¨overview">3 æ¸è¿›å¼å¢é•¿è¾¨åˆ«å™¨overview</h4><p><img src="image-20231120165148746.png" alt="image-20231120165148746"  /></p><p><img src="image-20231120165057948.png" alt="image-20231120165057947"  /></p><h3 id="pi-gan-ä¸»è¦çš„ç½‘ç»œ">pi-GAN ä¸»è¦çš„ç½‘ç»œ</h3><h4 id="siren">1 siren:</h4><ol type="1"><li>FiLMed-SIREN network (8ä¸ªéšè—å±‚) backbone</li></ol><p>(network): ModuleList(</p><p>(0): FiLMLayer(</p><p>(layer): Linear(in_features=3, out_features=256, bias=True))</p><p>(1): FiLMLayer(</p><p>(layer): Linear(in_features=256, out_features=256, bias=True))</p><p>(2): FiLMLayer(</p><p>(layer): Linear(in_features=256, out_features=256, bias=True))</p><p>(3): FiLMLayer(</p><p>(layer): Linear(in_features=256, out_features=256, bias=True))</p><p>(4): FiLMLayer(</p><p>(layer): Linear(in_features=256, out_features=256, bias=True))</p><p>(5): FiLMLayer(</p><p>(layer): Linear(in_features=256, out_features=256, bias=True))</p><p>(6): FiLMLayer(</p><p>(layer): Linear(in_features=256, out_features=256, bias=True))</p><p>(7): FiLMLayer(</p><p>(layer): Linear(in_features=256, out_features=256, bias=True))</p><p>)</p><ol start="2" type="1"><li>å¯†åº¦ é¢œè‰² è¾“å‡ºå±‚</li></ol><p>(final_layer): å¯†åº¦è¾“å‡ºå±‚</p><p>Linear(in_features=256, out_features=1, bias=True)</p><p>(color_layer_sine): é¢œè‰²è½¬æ¢ + ray direction d</p><p>FiLMLayer(</p><p>(layer): Linear(in_features=259, out_features=256, bias=True)</p><p>)</p><p>(color_layer_linear): é¢œè‰²è¾“å‡ºå±‚</p><p>Sequential(</p><p>(0): Linear(in_features=256, out_features=3, bias=True)</p><p>(1): Sigmoid()</p><p>)</p><ol start="3" type="1"><li>Mapping network</li></ol><p>(mapping_network):</p><p>CustomMappingNetwork(</p><p>(network):</p><p>Sequential(</p><p>(0): Linear(in_features=256, out_features=256, bias=True)</p><p>(1): LeakyReLU(negative_slope=0.2, inplace=True)</p><p>(2): Linear(in_features=256, out_features=256, bias=True)</p><p>(3): LeakyReLU(negative_slope=0.2, inplace=True)</p><p>(4): Linear(in_features=256, out_features=256, bias=True)</p><p>(5): LeakyReLU(negative_slope=0.2, inplace=True)</p><p>(6): Linear(in_features=256, out_features=4608, bias=True)</p><p>))</p><h4 id="novel-view-synthesis-details">2 Novel View SynthesisDetails</h4><ol type="1"><li>å†»ç»“éšå¼è¡¨ç¤ºçš„å‚æ•°ï¼Œä¸ºæ¯å±‚ MLP å¯»æ‰¾åˆé€‚çš„ <spanclass="math inline">\(\gamma_i\)</span> å’Œ <spanclass="math inline">\(\beta_i\)</span>ï¼Œç”Ÿæˆè¾å°„åœºï¼Œæ¸²æŸ“å‡ºä¸ç›®æ ‡å›¾åƒæœ€ä½³åŒ¹é…ã€‚</li><li>è®¡ç®— 1w æ¬¡éšæœºå™ªå£°å‘é‡è¾“å…¥çš„ <spanclass="math inline">\(\gamma\)</span> å’Œ <spanclass="math inline">\(\beta\)</span> çš„å¹³å‡å€¼ï¼Œç„¶åå¯åŠ¨æ¢¯åº¦æƒ©ç½šå»æœ€å°åŒ–MES å›¾åƒé‡å»º lossã€‚</li></ol><h4 id="eg3dçš„overview">EG3Dçš„overview</h4><p><img src="image-20231029204842971.png" alt="image-20231029204842971" style="zoom:80%;" /></p><p>â€‹<img src="image-20231029204854626.png" alt="image-20231029204854626" style="zoom:80%;" /></p><h3 id="fenerfçš„ä¸»è¦ç»“æ„">FENERFçš„ä¸»è¦ç»“æ„</h3><h4 id="overview">1 Overview</h4><p><img src="image-20231122210056844.png" alt="image-20231122210056844" style="zoom: 50%;" /></p><figure><img src="image-20231122213829176.png" alt="image-20231122213829176" /><figcaption aria-hidden="true">image-20231122213829176</figcaption></figure><h4 id="fenerf-generator-architecture">2 FENeRF generatorarchitecture</h4><p><img src="image-20231122213913969.png" alt="image-20231122213913969" style="zoom:50%;" /></p><p><strong>FPN(Feature Pyramid Network) </strong></p><p>â€‹ å‘è¡¨äºCVPR2017ï¼Œç”¨äºç›®æ ‡æ£€æµ‹ï¼Œcontributionæ˜¯é€šè¿‡lateralconnectionè®©é«˜å±‚é«˜è¯­ä¹‰ä¿¡æ¯å’Œä½å±‚é«˜åˆ†è¾¨ç‡ä¿¡æ¯ç‰¹å¾èåˆã€‚</p><h3 id="modify">Modify</h3><ol type="1"><li>siren.py[68-71]ï¼Œå¢åŠ mapping networkçš„éšè—å±‚å±‚æ•° 3å±‚ -&gt; 4å±‚</li><li>siren.py[364-443]ï¼Œå¢åŠ 3Dç‰¹å¾å‘é‡åˆ°é¢œè‰²è¾“å‡ºå±‚ã€‚</li></ol><p><img src="image-20231126193204895.png" alt="image-20231126193204895" style="zoom:50%;" /></p><p><strong>DeBug ingÂ·Â·Â·</strong></p><h3 id="code-architecture">Code Architecture</h3><h4 id="discriminators.py">1 discriminators.py</h4><ol type="1"><li>ProgressiveDiscriminator() -&gt; ResidualCoordConvBlock(inplanesm,planes, downsample) -&gt; CoordConv(inplanes, planes)</li></ol><blockquote><p>ProgressiveDiscriminatorï¼šæ¸è¿›å¼å¢é•¿åˆ¤åˆ«å™¨</p><p>ResidualCoordConvBlockï¼šæ¸è¿›å¼å¢é•¿å·ç§¯å±‚</p><p>CoordConvï¼šå¸¦åæ ‡ä¿¡æ¯çš„å·ç§¯å±‚è®¡ç®—</p></blockquote><p><strong>ResidualCoordConvBlock ç½‘ç»œå±‚</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-number">0</span>:  <br>(network): Sequential(<br>    (<span class="hljs-number">0</span>): CoordConv(<br>      (addcoords): AddCoords()<br>      (conv): Conv2d(<span class="hljs-number">18</span>, <span class="hljs-number">32</span>, kernel_size=(<span class="hljs-number">3</span>, <span class="hljs-number">3</span>), stride=(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>), padding=(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>))<br>    )<br>    (<span class="hljs-number">1</span>): LeakyReLU(negative_slope=<span class="hljs-number">0.2</span>, inplace=<span class="hljs-literal">True</span>)<br>    (<span class="hljs-number">2</span>): CoordConv(<br>      (addcoords): AddCoords()<br>      (conv): Conv2d(<span class="hljs-number">34</span>, <span class="hljs-number">32</span>, kernel_size=(<span class="hljs-number">3</span>, <span class="hljs-number">3</span>), stride=(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>), padding=(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>))<br>    )<br>    (<span class="hljs-number">3</span>): LeakyReLU(negative_slope=<span class="hljs-number">0.2</span>, inplace=<span class="hljs-literal">True</span>)<br>  )       <br><span class="hljs-number">1</span>:<br>(network): Sequential(<br>    (<span class="hljs-number">0</span>): CoordConv(<br>      (addcoords): AddCoords()<br>      (conv): Conv2d(<span class="hljs-number">130</span>, <span class="hljs-number">256</span>, kernel_size=(<span class="hljs-number">3</span>, <span class="hljs-number">3</span>), stride=(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>), padding=(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>))<br>    )<br>    (<span class="hljs-number">1</span>): LeakyReLU(negative_slope=<span class="hljs-number">0.2</span>, inplace=<span class="hljs-literal">True</span>)<br>    (<span class="hljs-number">2</span>): CoordConv(<br>      (addcoords): AddCoords()<br>      (conv): Conv2d(<span class="hljs-number">258</span>, <span class="hljs-number">256</span>, kernel_size=(<span class="hljs-number">3</span>, <span class="hljs-number">3</span>), stride=(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>), padding=(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>))<br>    )<br>    (<span class="hljs-number">3</span>): LeakyReLU(negative_slope=<span class="hljs-number">0.2</span>, inplace=<span class="hljs-literal">True</span>)<br>  )<br><span class="hljs-number">2</span>:<br>(network): Sequential(<br>    (<span class="hljs-number">0</span>): CoordConv(<br>      (addcoords): AddCoords()<br>      (conv): Conv2d(<span class="hljs-number">66</span>, <span class="hljs-number">128</span>, kernel_size=(<span class="hljs-number">3</span>, <span class="hljs-number">3</span>), stride=(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>), padding=(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>))<br>    )<br>    (<span class="hljs-number">1</span>): LeakyReLU(negative_slope=<span class="hljs-number">0.2</span>, inplace=<span class="hljs-literal">True</span>)<br>    (<span class="hljs-number">2</span>): CoordConv(<br>      (addcoords): AddCoords()<br>      (conv): Conv2d(<span class="hljs-number">130</span>, <span class="hljs-number">128</span>, kernel_size=(<span class="hljs-number">3</span>, <span class="hljs-number">3</span>), stride=(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>), padding=(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>))<br>    )<br>    (<span class="hljs-number">3</span>): LeakyReLU(negative_slope=<span class="hljs-number">0.2</span>, inplace=<span class="hljs-literal">True</span>)<br>  )   <br><span class="hljs-number">3</span>:<br>(network): Sequential(<br>    (<span class="hljs-number">0</span>): CoordConv(<br>      (addcoords): AddCoords()<br>      (conv): Conv2d(<span class="hljs-number">130</span>, <span class="hljs-number">256</span>, kernel_size=(<span class="hljs-number">3</span>, <span class="hljs-number">3</span>), stride=(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>), padding=(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>))<br>    )<br>    (<span class="hljs-number">1</span>): LeakyReLU(negative_slope=<span class="hljs-number">0.2</span>, inplace=<span class="hljs-literal">True</span>)<br>    (<span class="hljs-number">2</span>): CoordConv(<br>      (addcoords): AddCoords()<br>      (conv): Conv2d(<span class="hljs-number">258</span>, <span class="hljs-number">256</span>, kernel_size=(<span class="hljs-number">3</span>, <span class="hljs-number">3</span>), stride=(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>), padding=(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>))<br>    )<br>    (<span class="hljs-number">3</span>): LeakyReLU(negative_slope=<span class="hljs-number">0.2</span>, inplace=<span class="hljs-literal">True</span>)<br>  )<br><span class="hljs-number">4</span>:<br>(network): Sequential(<br>    (<span class="hljs-number">0</span>): CoordConv(<br>      (addcoords): AddCoords()<br>      (conv): Conv2d(<span class="hljs-number">258</span>, <span class="hljs-number">400</span>, kernel_size=(<span class="hljs-number">3</span>, <span class="hljs-number">3</span>), stride=(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>), padding=(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>))<br>    )<br>    (<span class="hljs-number">1</span>): LeakyReLU(negative_slope=<span class="hljs-number">0.2</span>, inplace=<span class="hljs-literal">True</span>)<br>    (<span class="hljs-number">2</span>): CoordConv(<br>      (addcoords): AddCoords()<br>      (conv): Conv2d(<span class="hljs-number">402</span>, <span class="hljs-number">400</span>, kernel_size=(<span class="hljs-number">3</span>, <span class="hljs-number">3</span>), stride=(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>), padding=(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>))<br>    )<br>    (<span class="hljs-number">3</span>): LeakyReLU(negative_slope=<span class="hljs-number">0.2</span>, inplace=<span class="hljs-literal">True</span>)<br>  )<br><span class="hljs-number">5</span>:<br>(network): Sequential(<br>    (<span class="hljs-number">0</span>): CoordConv(<br>      (addcoords): AddCoords()<br>      (conv): Conv2d(<span class="hljs-number">402</span>, <span class="hljs-number">400</span>, kernel_size=(<span class="hljs-number">3</span>, <span class="hljs-number">3</span>), stride=(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>), padding=(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>))<br>    )<br>    (<span class="hljs-number">1</span>): LeakyReLU(negative_slope=<span class="hljs-number">0.2</span>, inplace=<span class="hljs-literal">True</span>)<br>    (<span class="hljs-number">2</span>): CoordConv(<br>      (addcoords): AddCoords()<br>      (conv): Conv2d(<span class="hljs-number">402</span>, <span class="hljs-number">400</span>, kernel_size=(<span class="hljs-number">3</span>, <span class="hljs-number">3</span>), stride=(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>), padding=(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>))<br>    )<br>    (<span class="hljs-number">3</span>): LeakyReLU(negative_slope=<span class="hljs-number">0.2</span>, inplace=<span class="hljs-literal">True</span>)<br>  )<br><span class="hljs-number">6</span>:<br>(network): Sequential(<br>    (<span class="hljs-number">0</span>): CoordConv(<br>      (addcoords): AddCoords()<br>      (conv): Conv2d(<span class="hljs-number">402</span>, <span class="hljs-number">400</span>, kernel_size=(<span class="hljs-number">3</span>, <span class="hljs-number">3</span>), stride=(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>), padding=(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>))<br>    )<br>    (<span class="hljs-number">1</span>): LeakyReLU(negative_slope=<span class="hljs-number">0.2</span>, inplace=<span class="hljs-literal">True</span>)<br>    (<span class="hljs-number">2</span>): CoordConv(<br>      (addcoords): AddCoords()<br>      (conv): Conv2d(<span class="hljs-number">402</span>, <span class="hljs-number">400</span>, kernel_size=(<span class="hljs-number">3</span>, <span class="hljs-number">3</span>), stride=(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>), padding=(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>))<br>    )<br>    (<span class="hljs-number">3</span>): LeakyReLU(negative_slope=<span class="hljs-number">0.2</span>, inplace=<span class="hljs-literal">True</span>)<br>  )<br><span class="hljs-number">7</span>:<br>(network): Sequential(<br>    (<span class="hljs-number">0</span>): CoordConv(<br>      (addcoords): AddCoords()<br>      (conv): Conv2d(<span class="hljs-number">402</span>, <span class="hljs-number">400</span>, kernel_size=(<span class="hljs-number">3</span>, <span class="hljs-number">3</span>), stride=(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>), padding=(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>))<br>    )<br>    (<span class="hljs-number">1</span>): LeakyReLU(negative_slope=<span class="hljs-number">0.2</span>, inplace=<span class="hljs-literal">True</span>)<br>    (<span class="hljs-number">2</span>): CoordConv(<br>      (addcoords): AddCoords()<br>      (conv): Conv2d(<span class="hljs-number">402</span>, <span class="hljs-number">400</span>, kernel_size=(<span class="hljs-number">3</span>, <span class="hljs-number">3</span>), stride=(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>), padding=(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>))<br>    )<br>    (<span class="hljs-number">3</span>): LeakyReLU(negative_slope=<span class="hljs-number">0.2</span>, inplace=<span class="hljs-literal">True</span>)<br>  ) <br></code></pre></td></tr></table></figure><p><strong>AdapterBlock ç½‘ç»œç»“æ„</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs python">(<span class="hljs-number">0</span>): AdapterBlock(<br>  (model): Sequential(<br>    (<span class="hljs-number">0</span>): Conv2d(<span class="hljs-number">3</span>, <span class="hljs-number">16</span>, kernel_size=(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>), stride=(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>))<br>    (<span class="hljs-number">1</span>): LeakyReLU(negative_slope=<span class="hljs-number">0.2</span>)<br>  )<br>)<br>(<span class="hljs-number">1</span>): AdapterBlock(<br>  (model): Sequential(<br>    (<span class="hljs-number">0</span>): Conv2d(<span class="hljs-number">3</span>, <span class="hljs-number">32</span>, kernel_size=(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>), stride=(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>))<br>    (<span class="hljs-number">1</span>): LeakyReLU(negative_slope=<span class="hljs-number">0.2</span>)<br>  )<br>)<br>(<span class="hljs-number">2</span>): AdapterBlock(<br>  (model): Sequential(<br>    (<span class="hljs-number">0</span>): Conv2d(<span class="hljs-number">3</span>, <span class="hljs-number">64</span>, kernel_size=(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>), stride=(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>))<br>    (<span class="hljs-number">1</span>): LeakyReLU(negative_slope=<span class="hljs-number">0.2</span>)<br>  )<br>)<br>(<span class="hljs-number">3</span>): AdapterBlock(<br>  (model): Sequential(<br>    (<span class="hljs-number">0</span>): Conv2d(<span class="hljs-number">3</span>, <span class="hljs-number">128</span>, kernel_size=(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>), stride=(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>))<br>    (<span class="hljs-number">1</span>): LeakyReLU(negative_slope=<span class="hljs-number">0.2</span>)<br>  )<br>)<br>(<span class="hljs-number">4</span>): AdapterBlock(<br>  (model): Sequential(<br>    (<span class="hljs-number">0</span>): Conv2d(<span class="hljs-number">3</span>, <span class="hljs-number">256</span>, kernel_size=(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>), stride=(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>))<br>    (<span class="hljs-number">1</span>): LeakyReLU(negative_slope=<span class="hljs-number">0.2</span>)<br>  )<br>)<br>(<span class="hljs-number">5</span>): AdapterBlock(<br>  (model): Sequential(<br>    (<span class="hljs-number">0</span>): Conv2d(<span class="hljs-number">3</span>, <span class="hljs-number">400</span>, kernel_size=(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>), stride=(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>))<br>    (<span class="hljs-number">1</span>): LeakyReLU(negative_slope=<span class="hljs-number">0.2</span>)<br>  )<br>)<br>(<span class="hljs-number">6</span>): AdapterBlock(<br>  (model): Sequential(<br>    (<span class="hljs-number">0</span>): Conv2d(<span class="hljs-number">3</span>, <span class="hljs-number">400</span>, kernel_size=(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>), stride=(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>))<br>    (<span class="hljs-number">1</span>): LeakyReLU(negative_slope=<span class="hljs-number">0.2</span>)<br>  )<br>)<br>(<span class="hljs-number">7</span>): AdapterBlock(<br>  (model): Sequential(<br>    (<span class="hljs-number">0</span>): Conv2d(<span class="hljs-number">3</span>, <span class="hljs-number">400</span>, kernel_size=(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>), stride=(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>))<br>    (<span class="hljs-number">1</span>): LeakyReLU(negative_slope=<span class="hljs-number">0.2</span>)<br>  )<br>)<br>(<span class="hljs-number">8</span>): AdapterBlock(<br>  (model): Sequential(<br>    (<span class="hljs-number">0</span>): Conv2d(<span class="hljs-number">3</span>, <span class="hljs-number">400</span>, kernel_size=(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>), stride=(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>))<br>    (<span class="hljs-number">1</span>): LeakyReLU(negative_slope=<span class="hljs-number">0.2</span>)<br>  )<br>)<br></code></pre></td></tr></table></figure><p><strong>from_RGB()çš„æœ€åä¸€å±‚ï¼š</strong><code>(final_layer): Conv2d(400, 259, kernel_size=(2, 2), stride=(1, 1))</code></p><h4 id="siren.py">2 siren.py</h4><ol type="1"><li>TALLSIREN: forward -&gt; forward_with_frequencies_phase_shifts</li></ol><p><strong>forward input:</strong></p><p><code>position x:</code> è¾“å…¥çš„ä½ç½®ä¿¡æ¯ [img_size * img_size *num_steps]</p><p><code>z:</code> mapping network çš„å™ªå£°è¾“å…¥ [256]</p><p><code>ray_directions:</code> å…‰çº¿æ–¹å‘</p>]]></content>
    
    
    <categories>
      
      <category>NeRF</category>
      
    </categories>
    
    
    <tags>
      
      <tag>NeRF</tag>
      
      <tag>æºç è§£è¯»</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>A Survey on Deep Generative 3D-aware Image Synthesis</title>
    <link href="/posts/35133/"/>
    <url>/posts/35133/</url>
    
    <content type="html"><![CDATA[<h3 id="a-survey-on-deep-generative-3d-aware-image-synthesis">A Surveyon Deep Generative 3D-aware Image Synthesis</h3><figure><img src="image-20231022164223977.png" alt="time line" /><figcaption aria-hidden="true">time line</figcaption></figure><p>INR(implicit nerual representation)</p><p>NVS(3D novel view synthesis)</p><p>NVSæ–¹æ³•æ“…é•¿ä»æ–°é¢–çš„è§†è§’åˆæˆé«˜ä¿çœŸå’Œè¯¦ç»†çš„å›¾åƒï¼Œä»è€Œèƒ½å¤Ÿæ¢ç´¢ä»¥å‰çœ‹ä¸åˆ°çš„è§†è§’ã€‚</p><p>è€ƒè™‘åˆ°æ·±åº¦ç”Ÿæˆ3Dæ„ŸçŸ¥å›¾åƒåˆæˆä¸åŸºäºINRçš„NVSä¹‹é—´çš„å¯†åˆ‡å…³ç³»ï¼Œåˆ©ç”¨åŸºäºINRçš„NVSä¸­çš„è¿›æ­¥å¯èƒ½ä¼šæ‰©å¤§3Dæ„ŸçŸ¥å›¾åƒç”Ÿæˆä¸­ç›¸æœºç§»åŠ¨çš„èŒƒå›´ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>è®ºæ–‡ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>3D</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Deep3DSketch+_ Rapid 3D Modeling from Single Free-hand Sketches</title>
    <link href="/posts/43769/"/>
    <url>/posts/43769/</url>
    
    <content type="html"><![CDATA[<h3id="deep3dsketch-rapid-3d-modeling-from-single-free-hand-sketches">Deep3DSketch+:Rapid 3D Modeling from Single Free-hand Sketches</h3><h4 id="å¼•è¨€-ç›¸å…³å·¥ä½œ">1 å¼•è¨€ &amp; ç›¸å…³å·¥ä½œ</h4><p><strong>1. å¼•è¨€</strong></p><p>â€‹æœ¬æ–‡æå‡ºäº†ä¸€ç§åä¸ºDeep3DSketch+çš„æ–°å‹3Då»ºæ¨¡æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å¯ä»¥ä»å•ä¸ªæ‰‹ç»˜è‰å›¾ä¸­ç”Ÿæˆé«˜ä¿çœŸåº¦çš„3Dæ¨¡å‹ã€‚Deep3DSketch+é‡‡ç”¨äº†ç«¯åˆ°ç«¯çš„ç¥ç»ç½‘ç»œç»“æ„ï¼ŒåŒ…æ‹¬==è½»é‡çº§ç”Ÿæˆç½‘ç»œ==å’Œ==ç»“æ„æ„ŸçŸ¥çš„å¯¹æŠ—è®­ç»ƒæ–¹æ³•==ã€‚è¯¥æ–¹æ³•è¿˜å¼•å…¥äº†ç¬”ç”»å¢å¼ºæ¨¡å—==(SEM)==ï¼Œä»¥æé«˜ç½‘ç»œçš„ç»“æ„ç‰¹å¾æå–èƒ½åŠ›ã€‚</p><p><strong>2. ç›¸å…³å·¥ä½œ</strong></p><p>â€‹ç°æœ‰çš„æ‰‹ç»˜è‰å›¾3Då»ºæ¨¡æ–¹æ³•å¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼šç«¯åˆ°ç«¯æ–¹æ³•å’Œäº¤äº’å¼æ–¹æ³•ã€‚äº¤äº’å¼æ–¹æ³•éœ€è¦è¿›è¡Œé¡ºåºæ­¥éª¤åˆ†è§£æˆ–ç‰¹å®šçš„ç»˜ç”»æ‰‹åŠ¿æˆ–æ³¨é‡Šã€‚æœ¬æ–‡æå‡ºçš„Deep3DSketch+æ–¹æ³•é‡‡ç”¨äº†ç«¯åˆ°ç«¯çš„ç¥ç»ç½‘ç»œç»“æ„ï¼Œä¸éœ€è¦è¾“å…¥å¤šä¸ªè‰å›¾æˆ–è§†å›¾ä¿¡æ¯ï¼Œå¯ä»¥ä»å•ä¸ªæ‰‹ç»˜è‰å›¾ä¸­ç”Ÿæˆé«˜ä¿çœŸåº¦çš„3Dæ¨¡å‹ã€‚</p><p>â€‹åŸºäºæ‰‹ç»˜è‰å›¾çš„å»ºæ¨¡å’Œä¼ ç»Ÿçš„å•ç›®3Dé‡å»ºæœ‰å¾ˆå¤§çš„åŒºåˆ«ï¼Œè‰å›¾çš„ç¨€ç–æ€§å’ŒæŠ½è±¡æ€§ä»¥åŠç¼ºä¹çº¹ç†éœ€è¦é¢å¤–çš„çº¿ç´¢æ¥äº§ç”Ÿé«˜è´¨é‡çš„3Då½¢çŠ¶ã€‚<code>éœ€è¦è§£å†³</code>ã€‚</p><h4 id="æ–¹æ³•-æ¨¡å‹">2 æ–¹æ³• &amp; æ¨¡å‹</h4><p><strong>1. Overview:</strong></p><figure><img src="image-20231015163031452.png" alt="overview" /><figcaption aria-hidden="true">overview</figcaption></figure><p><strong>2. View-aware and Structure-aware 3D Modeling</strong></p><p><code>Mesh Generation G:</code> ä¸»å¹²ä¸ºç¼–ç å™¨-è§£ç å™¨ç»“æ„</p><p><code>Encoder E:</code>ç”±äºè‰å›¾æ˜¯ç¨€ç–ä¸”æ¨¡ç³Šçš„è¾“å…¥å½¢å¼ï¼Œç¼–ç å™¨Eé¦–å…ˆå°†è¾“å…¥çš„è‰å›¾è½¬æ¢ä¸º <em>latentshape code</em> <span class="math inline">\(z_s\)</span>ï¼Œè¿™æ ·å¯ä»¥åœ¨æ¶‰åŠè¯­ä¹‰ç±»åˆ«å’Œæ¦‚å¿µå½¢çŠ¶çš„ç²—ç•¥çº§åˆ«ä¸Šæ¦‚æ‹¬è‰å›¾ã€‚</p><p><code>Decoder D:</code>çº§è”çš„ä¸Šé‡‡æ ·å—ç»„æˆçš„è§£ç å™¨Dç”¨äºè®¡ç®—æ¨¡æ¿ç½‘æ ¼çš„é¡¶ç‚¹åç§»ï¼Œå¹¶é€šè¿‡ä»¥å¢åŠ çš„ç©ºé—´åˆ†è¾¨ç‡é€æ¸æ¨æ–­3Då½¢çŠ¶ä¿¡æ¯æ¥ä½¿å…¶å˜å½¢ä»¥å¾—åˆ°å…·æœ‰ç²¾ç»†ç»†èŠ‚çš„è¾“å‡ºç½‘æ ¼<span class="math inline">\(M_Î˜ = D{(z_s)}\)</span>ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œåˆ©ç”¨å¯å¾®åˆ†æ¸²æŸ“å™¨æ¸²æŸ“æ‰€ç”Ÿæˆçš„ç½‘æ ¼ <spanclass="math inline">\(M_Î˜\)</span>ï¼Œæ¥ç”Ÿæˆè½®å»“ <spanclass="math inline">\(S_Î˜\)</span>ã€‚è¯¥ç½‘ç»œæ˜¯ç«¯åˆ°ç«¯çš„è®­ç»ƒï¼Œé€šè¿‡è¿‘ä¼¼æ¢¯åº¦çš„å¾®åˆ†æ¸²æŸ“å™¨çš„ç›‘ç£æ¸²æŸ“ã€‚</p><p><strong>3. Shape discriminator and Multi-view Sampling</strong></p><p>â€‹ç”±äºè‰å›¾çš„ç¨€ç–æ€§è´¨å’Œå•è§†å›¾è½®å»“çº¦æŸçš„å”¯ä¸€ç›‘ç£ï¼Œç¼–ç å™¨-è§£ç å™¨ç»“æ„åŒ–ç”Ÿæˆå™¨Gä¸èƒ½æœ‰æ•ˆåœ°è·å¾—é«˜è´¨é‡çš„3Då½¢çŠ¶ã€‚å¿…é¡»ä½¿ç”¨é¢å¤–çš„çº¿ç´¢æ¥å…³æ³¨ç»†ç²’åº¦å’Œé€¼çœŸçš„å¯¹è±¡ç»“æ„ã€‚å› æ­¤å¼•å…¥==å½¢çŠ¶åŒ¹é…ä¸å¤šè§†ç‚¹é‡‡æ ·==ã€‚</p><p>â€‹è¯¥è¾¨åˆ«å™¨ä¸ºCNNç½‘ç»œï¼Œå®ƒåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­==å¼•å…¥æ¥è‡ªçœŸå®çš„æ•°æ®é›†çš„3Då½¢çŠ¶==ï¼Œä»¥è¿«ä½¿ç½‘æ ¼ç”Ÿæˆå™¨Gç”Ÿæˆé€¼çœŸçš„å½¢çŠ¶ï¼ŒåŒæ—¶åœ¨æ¨ç†è¿‡ç¨‹ä¸­ä¿æŒç”Ÿæˆè¿‡ç¨‹çš„æ•ˆç‡ã€‚å…·ä½“åœ°è¯´ï¼Œå°†ä»é¢„æµ‹ç½‘æ ¼ç”Ÿæˆçš„è½®å»“å’Œä»æ‰‹åŠ¨è®¾è®¡çš„ç½‘æ ¼æ¸²æŸ“çš„è½®å»“è¾“å…¥åˆ°ç¥ç»ç½‘ç»œã€‚åŒæ—¶ï¼Œéšæœºé‡‡æ ·Nä¸ªç›¸æœºå§¿æ€ä»å§¿æ€åˆ†å¸ƒpä¸­ï¼Œä¿è¯ç”Ÿæˆçš„ç½‘æ ¼ç»†èŠ‚åˆç†ã€é€¼çœŸã€‚</p><p><strong>4. Stroke EnhancementModule</strong>(æ–°æ¨¡å—ï¼Œä½†æ˜¯å¤§æ¦‚ç‡ç”¨ä¸ä¸Š)</p><figure><img src="image-20231015171503579.png" alt="image-20231015171503579" /><figcaption aria-hidden="true">image-20231015171503579</figcaption></figure><p>â€‹ç”±äºè¾“å…¥è‰å›¾å’ŒæŠ•å½±è½®å»“æ˜¯å•ä¸€é¢œè‰²çš„ï¼Œä¸èƒ½æœ‰æ•ˆåœ°è·å¾—æ·±åº¦é¢„æµ‹ç»“æœã€‚å› æ­¤é€šè¿‡å¼•å…¥ç¬”åˆ’å¢å¼ºæ¨¡å—ï¼ˆSEMï¼‰æ¥å……åˆ†åˆ©ç”¨å•è‰²ä¿¡æ¯è¿›è¡Œç‰¹å¾æå–ã€‚SEMç”±ä¸€ä¸ªä½ç½®æ„ŸçŸ¥æ³¨æ„åŠ›æ¨¡å—ç»„æˆï¼Œè¯¥æ¨¡å—å°†å¹¿æ³›çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ç¼–ç åˆ°å±€éƒ¨ç‰¹å¾ä¸­ä»¥å­¦ä¹ ç‰¹å¾çš„ç©ºé—´ç›¸äº’ä¾èµ–æ€§ã€‚<span class="math display">\[s_{i j}=\frac{\exp \left(B_{i} * C_{j}\right)}{\sum_{i=1}^{W} \exp\left(B_{i} * C_{j}\right)}\]</span> æ¥è‡ªè½®å»“ $A R^{cÃ—nÃ—m} $ çš„å±€éƒ¨ç‰¹å¾è¢«é€åˆ°å·ç§¯å±‚å½¢æˆä¸¤ä¸ªå±€éƒ¨ç‰¹å¾<span class="math inline">\(B,~C \in R^{C\times W}\)</span>ï¼Œå…¶ä¸­ <spanclass="math inline">\(W~ = ~M \times N\)</span>ä¸ºåƒç´ çš„æ•°é‡ï¼Œè€Œå¦ä¸€ä¸ªå·ç§¯å±‚ç”¨äºå½¢æˆç‰¹å¾å›¾ $D R^{C N M} $ã€‚Cå’ŒBçš„è½¬ç½®è¿›è¡ŒçŸ©é˜µä¹˜æ³•ï¼Œç„¶åç”± <em>softmax</em> å±‚ç”Ÿæˆæ³¨æ„åŠ›å›¾ <spanclass="math inline">\(S \in R^{W \times W}\)</span>ï¼Œä»è€Œå¢å¼ºäº†åˆ©ç”¨ç”±è½®å»“è¡¨ç¤ºçš„å…³é”®ç»“æ„ä¿¡æ¯çš„èƒ½åŠ›ã€‚æ³¨æ„åŠ›å›¾ç”¨äºé€šè¿‡åŸå§‹ç‰¹å¾å’Œæ‰€æœ‰ä½ç½®ä¸Šçš„ç‰¹å¾çš„åŠ æƒå’Œæ¥äº§ç”Ÿè¾“å‡ºF:<span class="math display">\[F_{j} ~ = ~ \lambda\sum_{i=1}^{W}(s_jD_j) ~ + ~ A_j\]</span> <strong>5. Loss Function</strong></p><p>â€‹ æŸå¤±å‡½æ•°æ¥è‡ªä¸‰ä¸ªç»„ä»¶ï¼ŒåŒ…æ‹¬æœ‰ï¼šmulti-scale <em>mIoU loss</em> <spanclass="math inline">\(\mathcal{L}_{sp}\)</span>ï¼Œ<em>flattenloss</em>ï¼Œ<em>laplacian smooth loss</em> <spanclass="math inline">\(\mathcal{L}_{r}\)</span>ï¼Œ<em>structure-aware GANloss</em> <span class="math inline">\(\mathcal{L}_{sd}\)</span>ã€‚ <spanclass="math display">\[\mathcal{L}_{sp} ~=~ \sum_{i=1}^{N} \lambda_{si} \mathcal{L}^i_{iou} \\\mathcal{L}_{iou}(S_1, ~ S_2) ~= ~1~ - ~\frac{\left \| S_1\otimes S_2\right \|_1 }{\left \| S_1 \otimes S_2-S_1 \otimes S_2 \right \|_1 }\]</span> S1å’ŒS2æ˜¯æ¸²æŸ“çš„è½®å»“ã€‚</p><p>â€‹ éé¥±å’ŒGANæŸå¤±ï¼š <span class="math display">\[\begin{aligned}\mathcal{L}_{s d} &amp; =\mathbf{E}_{\mathbf{z}_{\mathbf{v}} \simp_{z_{v}}, \xi \sim p_{\xi}}\left[f\left(C N N_{\theta_{D}}(R(M,\xi))\right)\right] \\&amp; +\mathbf{E}_{\mathbf{z}_{\mathbf{v r}} \sim p_{z_{v r}}, \xi \simp_{\xi}}\left[f\left(-C N N_{\theta_{D}}\left(R\left(M_{r},\xi\right)\right)\right)\right] \\&amp; \text { wheref }(u)=-\log (1+\exp (-u))\end{aligned}\]</span> â€‹ æ€»æŸå¤±å‡½æ•°Lossè®¡ç®—ä¸ºä¸‰ä¸ªåˆ†é‡çš„åŠ æƒå’Œï¼š <spanclass="math display">\[Loss = \mathcal{L}_{sp}+\mathcal{L}_{r}+\lambda_{sd}\mathcal{L}_{sd}\]</span></p><h4 id="å®éªŒ-åˆ†æ">3 å®éªŒ &amp; åˆ†æ</h4><p><strong>1. æ¶ˆèå®éªŒ</strong></p><p>â€‹ å¯¹å½¢çŠ¶é‰´åˆ«å™¨(SD)ä¸ç¬”åˆ’å¢å¼ºæ¨¡å—è¿›è¡Œæ•ˆç”¨å®éªŒã€‚</p><figure><img src="image-20231015180807656.png" alt="image-20231015180807656" /><figcaption aria-hidden="true">image-20231015180807656</figcaption></figure><blockquote><p>éšæœºè§†ç‚¹é‡‡æ ·ä¸å½¢çŠ¶è¯†åˆ«ï¼ˆSDï¼‰ç›¸ç»“åˆï¼Œä»¥çœŸå®çš„å½¢çŠ¶ä½œä¸ºè¾“å…¥ï¼Œå…è®¸ç¥ç»ç½‘ç»œä»å¤šä¸ªè§’åº¦â€œçœ‹åˆ°â€çœŸå®çš„å½¢çŠ¶ï¼Œä»è€Œèƒ½å¤Ÿé¢„æµ‹åˆç†çš„ç»“æ„ä¿¡æ¯ï¼Œè¿™äº›ä¿¡æ¯ç”šè‡³ä¸å­˜åœ¨äºè‰å›¾ä¸­ï¼ˆç”±äºè§†ç‚¹çº¦æŸï¼Œå¯èƒ½æ— æ³•è¡¨ç¤ºï¼‰ã€‚</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>è®ºæ–‡ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>3D</tag>
      
      <tag>ç•¥è¯»</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>pi-GAN_ Periodic Implicit Generative Adversarial Networks for 3D-Aware</title>
    <link href="/posts/39032/"/>
    <url>/posts/39032/</url>
    
    <content type="html"><![CDATA[<h3id="pi-gan-periodic-implicit-generative-adversarial-networks-for-3d-aware">pi-GAN:Periodic Implicit Generative Adversarial Networks for 3D-Aware</h3><h4 id="æå‡ºçš„æ–¹æ³•è´¡çŒ®ç›¸å…³å·¥ä½œ">1 æå‡ºçš„æ–¹æ³•ï¼Œè´¡çŒ®ï¼Œç›¸å…³å·¥ä½œ</h4><p><strong>1. æ–¹æ³•</strong></p><p>â€‹æ‰€æå‡ºçš„æ–¹æ³•åˆ©ç”¨==åŸºäº<em>SIREN</em>==çš„ç¥ç»è¾å°„åœºè¡¨ç¤ºæ¥é¼“åŠ±å¤šè§†å›¾ä¸€è‡´æ€§ï¼Œä»è€Œå…è®¸ä»è¾ƒå®½çš„èŒƒå›´è¿›è¡Œæ¸²æŸ“ç›¸æœºå§¿åŠ¿èŒƒå›´å¹¶æä¾›å¯è§£é‡Šçš„3D ç»“æ„ã€‚<em>SIREN</em>éšå¼åœºæ™¯è¡¨ç¤ºåˆ©ç”¨å‘¨æœŸæ€§æ¿€æ´»å‡½æ•°ï¼Œæ¯”<em>ReLU</em>éšå¼è¡¨ç¤ºæ›´èƒ½è¡¨ç¤ºç²¾ç»†ç»†èŠ‚ï¼Œå¹¶ä½¿<em>Ï€-GAN</em>èƒ½å¤Ÿæ¸²æŸ“æ¯”ä»¥å‰çš„å·¥ä½œæ›´æ¸…æ™°çš„å›¾åƒã€‚</p><p>â€‹ä½¿ç”¨æ˜ å°„ç½‘ç»œé€šè¿‡==ç‰¹å¾çº¿æ€§è°ƒåˆ¶<em>FiLM</em>==æ¥è°ƒèŠ‚<em>SIREN</em>ä¸­çš„å±‚ã€‚è¿™ä¸€æ–¹æ³•å¯ä»¥æ›´å¹¿æ³›åœ°åº”ç”¨äº<em>GAN</em>ä¹‹å¤–çš„<em>SIREN</em>æ¶æ„ã€‚å…¶æ¬¡ï¼Œå—2Då·ç§¯<em>GAN</em>å…ˆå‰æˆåŠŸçš„å¯å‘ï¼Œå¼•å…¥äº†==æ¸è¿›å¼å¢é•¿ç­–ç•¥==ï¼Œä»¥åŠ é€Ÿè®­ç»ƒå¹¶æŠµæ¶ˆ3D GAN å¢åŠ çš„è®¡ç®—å¤æ‚æ€§ã€‚</p><p><strong>2. è´¡çŒ®</strong></p><ul><li>å¼•å…¥åŸºäº SIREN çš„éšå¼ GAN ä½œä¸ºå·ç§¯ GAN æ¶æ„çš„å¯è¡Œæ›¿ä»£æ–¹æ¡ˆã€‚</li><li>æå‡ºäº†ä¸€ä¸ªä»¥ FiLMè°ƒèŠ‚å’Œæ¸è¿›å¼å¢é•¿åˆ¤åˆ«å™¨ä½œä¸ºå…³é”®ç»„ä»¶çš„æ˜ å°„ç½‘ç»œï¼Œä»¥é€šè¿‡æˆ‘ä»¬æ–°é¢–çš„åŸºäº SIRENçš„éšå¼ GAN å®ç°é«˜è´¨é‡ç»“æœã€‚</li><li>è¯æ˜è§†å›¾ä¸€è‡´æ€§å’Œæ˜¾å¼ç›¸æœºæ§åˆ¶æ˜¯ä¾èµ–äºåº•å±‚ç¥ç»è¾å°„åœºè¡¨ç¤ºå’Œç»å…¸æ¸²æŸ“çš„æ–¹æ³•çš„ä¼˜åŠ¿ã€‚</li><li>æ ¹æ® CelebA ã€Cats å’Œ CARLA æ•°æ®é›†ä¸Šçš„æ— ç›‘ç£ 2D æ•°æ®è¿›è¡Œ 3Dæ„ŸçŸ¥å›¾åƒåˆæˆï¼Œå–å¾—äº†æœ€å…ˆè¿›çš„ç»“æœã€‚</li></ul><h4 id="æ–¹æ³•-æ¨¡å‹">2 æ–¹æ³• &amp; æ¨¡å‹</h4><p><strong>1. Overview: </strong></p><p><img src="image-20231013161535382.png" alt="image-20231013161535382" style="zoom:80%;" /></p><p>â€‹ ç›¸æ¯”äºç›´æ¥ä»è¾“å…¥çš„<em>noise, z</em>ç”Ÿæˆ2Då›¾åƒï¼ŒÏ€-GANçš„ç”Ÿæˆå™¨ <spanclass="math inline">\(G_{Î¸G} (z, \xi)\)</span> äº§ç”Ÿä¸€ä¸ªä»¥ zä¸ºæ¡ä»¶çš„éšå¼è¾å°„åœºã€‚è¯¥è¾å°„åœºæ˜¯ä½¿ç”¨ä½“ç§¯æ¸²æŸ“æ¥æ¸²æŸ“çš„ï¼Œä»¥æ ¹æ®æŸä¸ªç›¸æœºå§¿åŠ¿<span class="math inline">\(\xi\)</span> ç”Ÿæˆ 2D å›¾åƒã€‚</p><p><strong>2. SIREN-Based Implicit Radiance Field</strong></p><p>â€‹ä½¿ç”¨éšå¼ç¥ç»è¾å°„åœº(SIREN)è¡¨ç¤º3Då¯¹è±¡ï¼Œè¯¥ç¥ç»è¾å°„åœºè¢«å‚æ•°åŒ–ä¸ºå¤šå±‚æ„ŸçŸ¥æœº(MLP)ï¼Œè¾“å…¥ä¸ºç©ºé—´3Dåæ ‡x å’Œè§†å›¾æ–¹å‘ dï¼›è¾“å‡ºä¸ºå¯†åº¦ <span class="math inline">\(\sigma\)</span>ä»¥åŠè§†å›¾ç›¸å…³é¢œè‰² <span class="math inline">\((r,g,b)=c(x,d)\)</span>ã€‚ç„¶åï¼Œåˆ©ç”¨StyleGANçš„æ˜ å°„ç½‘ç»œï¼Œé€šè¿‡<em>FiLM</em>å°†<em>SIREN</em>è°ƒèŠ‚åˆ°æ—©ä¸Šå‘é‡z ä¸Šã€‚è€Œæ˜ å°„ç½‘ç»œé‡‡ç”¨ç®€å•çš„<em>ReLU MLP</em>ï¼Œè¾“å…¥ä¸ºå™ªå£°å‘é‡ z è¾“å‡ºä¸ºé¢‘ç‡<span class="math inline">\(\gamma_i\)</span> å’Œç›¸ç§» <spanclass="math inline">\(\beta_i\)</span> ï¼Œåšä¸ºFiLM SIRENçš„è¾“å…¥ã€‚</p><p>â€‹<code>ä¼˜åŠ¿ï¼š</code>è¿™ç§æ’å…¥çš„æ˜ å°„ç½‘ç»œç›¸æ¯”åŸºäºä¸²è”çš„è°ƒèŠ‚æ›´å…·æœ‰è¡¨ç°åŠ›ï¼Œæé«˜äº†å›¾åƒè´¨é‡ã€‚</p><blockquote><p>FiLMï¼šfeature-wise linear modulation(ç‰¹å¾çº¿æ€§è°ƒåˆ¶)</p></blockquote><p>â€‹ å°†FiLM SIREN éª¨å¹²ç½‘ç»œå½¢å¼åŒ–è¡¨ç¤ºä¸ºï¼š <span class="math display">\[\begin{aligned}\Phi(\mathbf{x})= &amp; \phi_{n-1} \circ \phi_{n-2} \circ \ldots \circ\phi_{0}(\mathbf{x}), \\&amp; \phi_{i}\left(\mathbf{x}_{i}\right)=\sin\left(\boldsymbol{\gamma}_{i} \cdot\left(\mathbf{W}_{i}\mathbf{x}_{i}+\mathbf{b}_{i}\right)+\boldsymbol{\beta}_{i}\right),\end{aligned}\]</span> å…¶ä¸­ï¼Œ<span class="math inline">\(\phi_{i}\)</span> ä¸ºMLPçš„ç¬¬i å±‚ï¼Œå®ƒç”±ä¸€ä¸ªä»¿å°„å˜æ¢å®šä¹‰ï¼ŒåŒ…æ‹¬æƒé‡çŸ©é˜µ <spanclass="math inline">\(W_i\)</span> å’Œåç½® <spanclass="math inline">\(b_i\)</span> ç»„æˆï¼ŒåŒæ—¶ä½œç”¨äºè¾“å…¥ <spanclass="math inline">\(x_i\)</span>ã€‚</p><p>â€‹ å°†éšå¼ä½“ç§¯å¯†åº¦å’Œé¢œè‰²å®šä¹‰ä¸ºï¼š <span class="math display">\[\begin{aligned}\sigma(\mathbf{x}) &amp; =\mathbf{W}_{\sigma}\Phi(\mathbf{x})+\mathbf{b}_{\sigma}\end{aligned}\]</span></p><p><span class="math display">\[\begin{aligned}\mathbf{c}(\mathbf{x}, \mathbf{d}) &amp; =\mathbf{W}_{c}\phi_{c}\left([\Phi(\mathbf{x}), \mathbf{d}]^{T}\right)+\mathbf{b}_{c}\end{aligned}\]</span></p><p>å…¶ä¸­ï¼Œ<span class="math inline">\(\mathbf{W}_{\sigma/c}\)</span> å’Œ<span class="math inline">\(b_{\sigma/c}\)</span>ä¸ºé¢å¤–çš„æƒé‡å’Œåå·®å‚æ•°ã€‚</p><p>==<strong>NeRFçš„MLPç½‘ç»œï¼š</strong>==</p><p><img src="image-20231014160022990.png" style="zoom:80%;" /></p><p>â€‹åŸå§‹çš„NeRFå®ƒçš„MLPç½‘ç»œä¸º8å±‚ï¼Œéƒ½æ˜¯ä½¿ç”¨çš„ReLUæ¿€æ´»å‡½æ•°ï¼›ç„¶åä¸€ä¸ªé¢å¤–ç‰¹å¾å±‚è¾“å‡º<span class="math inline">\(\sigma\)</span> ï¼Œä¸€ä¸ªç‰¹å¾å±‚è¾“å‡º RGBä¿¡æ¯ã€‚è€Œ pi-gan æå‡ºçš„ç½‘ç»œé€šè¿‡<em>FiLM</em> è°ƒåˆ¶ï¼Œåœ¨æ¯ä¸ªå±‚çš„åé¢æŠŠ<em>SIREN</em> åŠ è¿›å»ï¼Œå¾—åˆ°ä¸€ä¸ªæ–°çš„ MLP ç½‘ç»œï¼Œä»è€Œæé«˜å›¾åƒè´¨é‡ã€‚</p><blockquote><p>SIRENç½‘ç»œæ˜¯æŒ‡ä¸€ä¸ªç”¨äºè¡¨ç¤ºè¾å°„åœºçš„ç¥ç»ç½‘ç»œã€‚SIREN(SinusoidalRepresentationNetworks)ï¼Œå®ƒæ˜¯ä¸€ç§ç‰¹æ®Šç±»å‹çš„ç¥ç»ç½‘ç»œç»“æ„ã€‚è¿™ç§ç½‘ç»œä½¿ç”¨å‘¨æœŸæ€§çš„æ­£å¼¦æ¿€æ´»å‡½æ•°ï¼Œé€šå¸¸è¢«ç”¨äºè¡¨ç¤ºè¿ç»­çš„å‡½æ•°æˆ–åœºæ™¯ä¸­çš„ä¿¡å·ã€‚</p></blockquote><p><strong>3. Discriminator</strong></p><p>â€‹ é‡‡ç”¨å‚æ•°ä¸º <span class="math inline">\(\theta_{D}\)</span>é€æ¸å¢é•¿çš„å·ç§¯åˆ¤åˆ«å™¨ <span class="math inline">\(D_{\theta{D}}\)</span>ï¼Œå¼€å§‹è®­ç»ƒæ—¶ï¼Œé‡‡ç”¨ä½åˆ†ç‡å’Œé«˜æ‰¹é‡å¤§å°è¿›è¡Œè®­ç»ƒï¼Œç”Ÿæˆå™¨ç”Ÿæˆç²—ç³™çš„å½¢çŠ¶ã€‚éšç€è®­ç»ƒçš„è¿›è¡Œï¼Œæé«˜å›¾åƒåˆ†è¾¨ç‡å¹¶å‘é‰´åˆ«å™¨æ·»åŠ æ–°å±‚ä»¥å¤„ç†æ›´é«˜åˆ†è¾¨ç‡å¹¶åŒºåˆ†ç²¾ç»†ç»†èŠ‚ã€‚</p><blockquote><p>ç”±äºè®¡ç®—å¤æ‚æ€§éšç€å›¾åƒå¤§å°å‘ˆäºŒæ¬¡æ–¹å¢é•¿ï¼Œå› æ­¤ä»ä½åˆ†è¾¨ç‡å¼€å§‹çš„æ¸è¿›å¼å¢é•¿å…è®¸åœ¨è®­ç»ƒå¼€å§‹æ—¶ä½¿ç”¨æ›´å¤§çš„æ‰¹é‡å¤§å°ã€‚å¤§æ‰¹é‡æœ‰åŠ©äºç¨³å®šè®­ç»ƒï¼ŒåŒæ—¶è¿˜å¯ä»¥æé«˜æ¯æ¬¡è¿­ä»£çš„å›¾åƒååé‡ã€‚æ¸è¿›å¼å¢é•¿åŠå…¶æ”¯æŒçš„æ›´å¤§æ‰¹é‡å¤§å°æœ‰åŠ©äºç¡®ä¿ç”Ÿæˆå›¾åƒçš„è´¨é‡å’Œå¤šæ ·æ€§ã€‚</p><p>PSï¼šç¥ç»æ¸²æŸ“é‡‡ç”¨ä¸ NeRF ç›¸åŒçš„æ¸²æŸ“å…¬å¼ã€‚</p></blockquote><h4 id="å®éªŒ-åˆ†æ">3 å®éªŒ &amp; åˆ†æ</h4><p><strong>1. è®­ç»ƒ</strong></p><p>â€‹ åœ¨è®­ç»ƒæ—¶ï¼Œä»åˆ†å¸ƒ <span class="math inline">\(p_{\xi}\)</span>ä¸­éšæœºé‡‡æ ·ç›¸æœºå§¿åŠ¿ <span class="math inline">\(\xi\)</span>ã€‚æ¯ä¸ªæ•°æ®é›†çš„å§¿åŠ¿åˆ†å¸ƒéƒ½æ˜¯å…ˆéªŒå·²çŸ¥çš„ï¼Œå¯¹äº CelebA å’Œ Catsè¿‘ä¼¼ä¸ºé«˜æ–¯åˆ†å¸ƒï¼Œå¯¹äº CARLAè¿‘ä¼¼ä¸ºå‡åŒ€åˆ†å¸ƒã€‚==å°†ç›¸æœºä½ç½®é™åˆ¶åœ¨å•ä½çƒä½“çš„è¡¨é¢ï¼Œå¹¶å°†ç›¸æœºæŒ‡å‘åŸç‚¹==ã€‚åœ¨è®­ç»ƒæ—¶ï¼Œæ²¿çƒä½“çš„ä¿¯ä»°å’Œåèˆªæ˜¯ä»æ ¹æ®æ•°æ®é›†è°ƒæ•´çš„åˆ†å¸ƒä¸­é‡‡æ ·çš„ã€‚çœŸå®å›¾åƒI æ˜¯ä»å…·æœ‰åˆ†å¸ƒ <span class="math inline">\(p_{I}\)</span>çš„è®­ç»ƒé›†ä¸­é‡‡æ ·çš„ã€‚ä½¿ç”¨å¸¦æœ‰ R1 æ­£åˆ™åŒ–çš„éé¥±å’Œ GAN æŸå¤±å‡½æ•°ï¼š <spanclass="math display">\[\mathcal{L}(\theta , \phi ) = E_{z \sim p_{z, ~ \xi \simp_{\xi}}}[f(D_{\theta G}G_{\theta G}(z, \xi)]~ + ~ E_{I\sim p_{D}}[f(-D_{\theta D}(I)) + \lambda |\bigtriangledownD_{\theta  D}(I)|^2], \\where \quad f(u) = -log(1+exp(-u))\]</span> ç”Ÿæˆå™¨å°è¯•æœ€å°åŒ–ç­‰å¼ï¼Œè€Œåˆ¤åˆ«å™¨åŒæ—¶å°è¯•æœ€å¤§åŒ–ç­‰å¼ã€‚ä½¿ç”¨ Adamä¼˜åŒ–å™¨ï¼ŒÎ²1 = 0ï¼ŒÎ²2 = 0.9ã€‚</p><p><strong>2. ç»“æœå¯¹æ¯”</strong></p><p><code>Baseline:</code> HoloGAN, Generative Radiance Fields(GRAF)</p><p><img src="image-20231015082031213.png" alt="image-20231015082031213" style="zoom:80%;" /></p><p><code>è¯„ä»·æŒ‡æ ‡:</code> Frechet Inception Distance(FID), KernelIncerption Distance(KID), Inception Score</p><p><strong>3. æ¶ˆèå®éªŒ</strong></p><p>â€‹å¯¹==æ­£å¼¦æ¿€æ´»==å’Œ==æ˜ å°„ç½‘ç»œè°ƒèŠ‚==è¿›è¡Œæ¶ˆèï¼Œæ¥ä½“ç°å®ƒä»¬åœ¨ç½‘ç»œä¸­çš„ä½œç”¨ã€‚å°†==æ­£å¼¦æ¿€æ´»==çš„è¾å°„åœºä¸==ReLUæ¿€æ´»==å’Œä½ç½®ç¼–ç çš„è¾å°„åœºè¿›è¡Œæ¯”è¾ƒã€‚å°†é€šè¿‡==æ˜ å°„ç½‘ç»œå’ŒFiLMæ¡ä»¶è°ƒèŠ‚==çš„è¾å°„åœºä¸é€šè¿‡==çº§è”è°ƒèŠ‚==çš„è¾å°„åœºè¿›è¡Œæ¯”è¾ƒã€‚</p><figure><img src="/image-20231015102018486.png" alt="image-20231015102018486" /><figcaption aria-hidden="true">image-20231015102018486</figcaption></figure>]]></content>
    
    
    <categories>
      
      <category>è®ºæ–‡ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>3D</tag>
      
      <tag>ç²¾åº¦</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Shape, Pose, and Appearance from a Single Image via Bootstrapped Radiance Field Inversion</title>
    <link href="/posts/7366/"/>
    <url>/posts/7366/</url>
    
    <content type="html"><![CDATA[<h3id="shape-pose-and-appearance-from-a-single-image-via-bootstrapped-radiance-field-inversion">Shape,Pose, and Appearance from a Single Image via Bootstrapped Radiance FieldInversion</h3><h4 id="ä¸€æå‡ºçš„æ–¹æ³•ä¸è´¡çŒ®">ä¸€ã€æå‡ºçš„æ–¹æ³•ä¸è´¡çŒ®</h4><p><strong>1.æ–¹æ³•ï¼š</strong></p><p>â€‹ä½œè€…æå‡ºäº†ä¸€ç§æ–°çš„æ–¹æ³•ï¼Œå°†æ— æ¡ä»¶ç”Ÿæˆæ¨¡å‹ä¸æ··åˆåæ¼”èŒƒå¼ç›¸ç»“åˆï¼Œä»å•ä¸ªå›¾åƒä¸­æ¢å¤ä¸‰ç»´ä¿¡æ¯ã€‚å…·ä½“æ¥è¯´ï¼Œä»–ä»¬ä½¿ç”¨ç¥ç»è¾å°„åœºï¼ˆNeRFï¼‰æ¥è¡¨ç¤ºä¸‰ç»´åœºæ™¯ï¼Œå¹¶ä½¿ç”¨ç¼–ç å™¨äº§ç”Ÿæ½œåœ¨è¡¨ç¤ºå’Œå§¿æ€çš„ç¬¬ä¸€ä¸ªçŒœæµ‹ã€‚ç„¶åï¼Œä»–ä»¬é€šè¿‡ä¼˜åŒ–æ¥ç»†åŒ–è¿™äº›åˆå§‹ä¼°è®¡ï¼Œä»¥è·å¾—æ›´å‡†ç¡®çš„é‡å»ºã€‚</p><p><strong>2.è´¡çŒ®ï¼š</strong></p><ul><li>å¼•å…¥äº†ä¸€ä¸ªåŸºäºNeRFçš„ç«¯åˆ°ç«¯å•è§†å›¾ä¸‰ç»´é‡å»ºç®¡é“ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æˆåŠŸåœ°å±•ç¤ºäº†CMRåŸºå‡†ä¸‹è‡ªç„¶å›¾åƒçš„<spanclass="math inline">\(360^â—¦\)</span>å¯¹è±¡é‡å»ºã€‚</li><li>æå‡ºäº†ä¸€ç§ç”¨äºNeRFçš„æ··åˆåæ¼”æ–¹æ¡ˆï¼Œä»¥åŠ å¿«é¢„è®­ç»ƒçš„3Dæ„ŸçŸ¥ç”Ÿæˆå™¨çš„åè½¬ã€‚</li><li>å—å§¿æ€ä¼°è®¡æ–‡çŒ®çš„å¯å‘ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§åŸºäºPnPçš„å§¿æ€ä¼°è®¡å™¨ï¼Œå®ƒåˆ©ç”¨æˆ‘ä»¬çš„æ¡†æ¶å¹¶ä¸”ä¸éœ€è¦é¢å¤–çš„æ•°æ®å‡è®¾ã€‚</li></ul><h4 id="äºŒæ¨¡å‹ä¸æ¨¡å—">äºŒã€æ¨¡å‹ä¸æ¨¡å—</h4><p><strong>1. Unconditional generatorpre-trainingï¼ˆæ— æ¡ä»¶ç”Ÿæˆå™¨é¢„è®­ç»ƒæ¡†æ¶ï¼‰</strong></p><figure><img src="image-20230904201413230.png" alt="image-20230904201413230" /><figcaption aria-hidden="true">image-20230904201413230</figcaption></figure><p><code>æ€æƒ³ï¼š</code>ä¸»è¦æ€æƒ³æ¥è‡ªEG3Dçš„ä¸»å¹²ç½‘ç»œï¼Œä¸‰å¹³é¢ç¼–ç ã€‚<code>è¯¥éƒ¨åˆ†è¢«æ¡†æ¶ä½¿ç”¨åŸºäºNeRFçš„ç”Ÿæˆå™¨Gä¸2Då›¾åƒé‰´åˆ«å™¨ç›¸ç»“åˆã€‚</code></p><p><code>æ¨¡å—ï¼š</code>StyleGAN2ï¼ŒSDF representationï¼ŒAttention-basedcolor mappingï¼ŒPath Length Regularization revisitedã€‚</p><blockquote><p>StyleGAN2ï¼šç”Ÿæˆæ¨¡å‹ï¼ŒSDF representationï¼š3Dè¡¨ç¤ºï¼Œ</p><p><strong>Attention-based color mappingï¼šæé«˜é¢œè‰²æ³›åŒ–æ€§, Path LengthRegularizationrevisitedï¼šä½¿ä¸‰å¹³é¢è§£ç å™¨ä¸æ­£åˆ™åŒ–ï¼Œæé«˜å­¦ä¹ ç‡ã€‚</strong></p></blockquote><p><strong>2. Bootstrapping and poseestimationï¼ˆè‡ªä¸¾å’Œå§¿æ€ä¼°è®¡ï¼‰</strong></p><figure><img src="image-20230904201324234.png" alt="image-20230904201324234" /><figcaption aria-hidden="true">image-20230904201324234</figcaption></figure><p><code>æ€æƒ³ï¼š</code>ä¸»è¦æ€æƒ³æ¥è‡ªNOCSï¼Œ<code>æ”¹è¿›ï¼šæ˜¯ä½¿ç”¨ä»æ— æ¡ä»¶ç”Ÿæˆå™¨ç”Ÿæˆçš„æ•°æ®æ¥è®­ç»ƒç¼–ç å™¨è€Œä¸æ˜¯æ‰‹å·¥æ•°æ®ã€‚</code></p><p><code>å®ç°ï¼š</code>1ï¼‰å†»ç»“Gå¹¶è®­ç»ƒå›¾åƒç¼–ç å™¨Eï¼Œè”åˆä¼°è®¡å¯¹è±¡çš„å§¿åŠ¿åŠå…¶æ½œåœ¨ä»£ç ï¼ˆè‡ªä¸¾ï¼‰çš„åˆå§‹çŒœæµ‹ã€‚2ï¼‰å¯¹äºå§¿æ€ä¼°è®¡ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†ä¸€ç§åŸåˆ™æ€§çš„æ–¹æ³•æ¥é¢„æµ‹å±å¹•ç©ºé—´ä¸­çš„è§„èŒƒæ˜ å°„é€šè¿‡é€è§†nç‚¹(PnP)ç®—æ³•ã€‚<code>è¾“å…¥çœŸå®å›¾åƒï¼Œå°†é¢„æµ‹çš„è§„èŒƒæ˜ å°„è½¬æ¢ä¸ºç‚¹äº‘ï¼Œå¹¶è¿è¡ŒPnPæ±‚è§£å™¨æ¥æ¢å¤æ‰€æœ‰å§¿æ€å‚æ•°(è§†å›¾çŸ©é˜µå’Œç„¦è·)ã€‚</code></p><p><code>æ¨¡å—ï¼š</code>SegFormer</p><blockquote><p><strong>è®­ç»ƒSegFormerç½‘ç»œæ¥ä»RGBå›¾åƒä¸­é¢„æµ‹è§„èŒƒå›¾å’Œlatent codew</strong></p></blockquote><p><strong>SegFormeråˆ†å‰²ç½‘ç»œå›¾ï¼š</strong></p><figure><img src="image-20230904201508184.png" alt="image-20230904201508184" /><figcaption aria-hidden="true">image-20230904201508184</figcaption></figure><p><strong>3. Reconstruction via hybrid GANinversionï¼ˆé€šè¿‡æ··åˆGANåæ¼”é‡å»ºï¼‰</strong></p><figure><img src="image-20230904202404525.png" alt="image-20230904202404525" /><figcaption aria-hidden="true">image-20230904202404525</figcaption></figure><p>é€šè¿‡åŸºäºæ¢¯åº¦çš„ä¼˜åŒ–(æ··åˆåæ¼”)æ”¹è¿›äº†å‡ ä¸ªæ­¥éª¤çš„å§¿æ€å’Œæ½œåœ¨ä»£ç ã€‚æŸå¤±å‡½æ•°ï¼šVGG</p><p><code>æ¨¡å—ï¼š</code>adaptive discriminator augmentation(ADA)</p><blockquote><p>æœ‰åŠ©äºå‡å°‘æ¢¯åº¦çš„æ–¹å·®ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿè¿›ä¸€æ­¥æé«˜å­¦ä¹ ç‡ã€‚</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>è®ºæ–‡ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>NeRF</tag>
      
      <tag>ç²¾è¯»</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Efficient Geometry-aware 3D Generative Adversarial Networks</title>
    <link href="/posts/52856/"/>
    <url>/posts/52856/</url>
    
    <content type="html"><![CDATA[<h3id="efficient-geometry-aware-3d-generative-adversarial-networks">EfficientGeometry-aware 3D Generative Adversarial Networks</h3><h5 id="ä¸€æå‡ºçš„æ–¹æ³•è´¡çŒ®ç›¸å…³å·¥ä½œ">ä¸€ã€æå‡ºçš„æ–¹æ³•ã€è´¡çŒ®ã€ç›¸å…³å·¥ä½œ</h5><p><strong>1.æ–¹æ³•ï¼š</strong></p><p>â€‹è®¾è®¡äº†ä¸€ç§æ··åˆæ˜¾å¼-éšå¼3Dæ„ŸçŸ¥ç½‘ç»œï¼Œè¯¥ç½‘ç»œä½¿ç”¨å†…å­˜é«˜æ•ˆçš„<code>ä¸‰å¹³é¢è¡¨ç¤ºæ˜¾å¼åœ°</code>å­˜å‚¨ç”±è½»é‡çº§<code>éšå¼ç‰¹å¾è§£ç å™¨èšåˆ</code>çš„è½´å¯¹é½å¹³é¢ä¸Šçš„ç‰¹å¾ï¼Œä»¥å®ç°é«˜æ•ˆçš„ä½“ç»˜åˆ¶ï¼Œæé«˜äº†3DåŸºç¡€æ¸²æŸ“çš„è®¡ç®—æ•ˆç‡ã€‚ä½¿ç”¨äº†ä¸€äº›åç¦»3DåŸºç¡€æ¸²æŸ“çš„å›¾åƒç©ºé—´è¿‘ä¼¼ï¼ŒåŒæ—¶å¼•å…¥äº†ä¸€ç§åŒé‡åˆ¤åˆ«ç­–ç•¥ï¼Œè¯¥ç­–ç•¥ä¿æŒç¥ç»æ¸²æŸ“å’Œæœ€ç»ˆè¾“å‡ºä¹‹é—´çš„ä¸€è‡´æ€§ï¼Œä»¥è§„èŒƒå…¶è§†å›¾ä¸ä¸€è‡´çš„è¶‹åŠ¿ã€‚</p><blockquote><p>æ˜¾å¼è¡¨ç¤ºå¯ä»¥è¿›è¡Œå¿«é€Ÿè¯„ä¼°ï¼Œä½†æ˜¯éœ€è¦å¾ˆå¤§çš„å†…å­˜ï¼Œä½¿å¾—è¿™ç§æ–¹å¼éš¾ä»¥æ‰©å±•åˆ°é«˜åˆ†è¾¨ç‡æˆ–å¤æ‚åœºæ™¯ã€‚éšå¼è¡¨ç¤ºè™½ç„¶åœ¨å†…å­˜æ•ˆç‡å’Œåœºæ™¯å¤æ‚æ€§æ–¹é¢æœ‰ä¼˜åŠ¿ï¼Œä½†æ˜¯è¿™ç§æ–¹æ³•ä½¿ç”¨å¤§å‹çš„å…¨è¿æ¥ç½‘ç»œè¿›è¡Œè¯„ä¼°ï¼Œä½¿å¾—è®­ç»ƒé€Ÿåº¦ç¼“æ…¢ã€‚å› æ­¤ï¼Œæ˜¾å¼å’Œéšå¼è¡¨ç¤ºæä¾›äº†äº’è¡¥çš„å¥½å¤„ã€‚</p></blockquote><figure><img src="1.png" alt="3-plane" /><figcaption aria-hidden="true">3-plane</figcaption></figure><p><strong>2.è´¡çŒ®ï¼š</strong></p><ul><li>å¼•å…¥äº†ä¸€ä¸ªåŸºäºä¸‰å¹³é¢çš„3DGANæ¡†æ¶ï¼Œè¯¥æ¡†æ¶æ—¢é«˜æ•ˆåˆå¯Œæœ‰è¡¨ç°åŠ›ï¼Œä»¥å®ç°é«˜åˆ†è¾¨ç‡å‡ ä½•æ„ŸçŸ¥å›¾åƒåˆæˆã€‚</li><li>å¼€å‘äº†ä¸€ç§3DGANè®­ç»ƒç­–ç•¥ï¼Œé€šè¿‡åŒé‡åˆ¤åˆ«å’Œç”Ÿæˆå™¨å§¿åŠ¿æ¡ä»¶ä¿ƒè¿›å¤šè§†å›¾ä¸€è‡´æ€§ï¼ŒåŒæ—¶å¿ å®åœ°å»ºæ¨¡ç°å®ä¸–ç•Œæ•°æ®é›†ä¸­å­˜åœ¨çš„å§¿åŠ¿ç›¸å…³å±æ€§åˆ†å¸ƒï¼ˆä¾‹å¦‚è¡¨è¾¾å¼ï¼‰ã€‚</li><li>å±•ç¤ºäº†åœ¨FFHQå’ŒAFHQCatsæ•°æ®é›†ä¸Šæ— æ¡ä»¶3Dæ„ŸçŸ¥å›¾åƒåˆæˆçš„æœ€æ–°ç»“æœï¼Œä»¥åŠå®Œå…¨ä»2Dé‡å¤–å›¾åƒä¸­å­¦ä¹ çš„é«˜è´¨é‡3Då‡ ä½•å›¾å½¢ã€‚</li></ul><p><strong>3.ç›¸å…³å·¥ä½œï¼š</strong></p><p>â€‹ 1ï¼‰Neural scene representation and rendering(ç¥ç»åœºæ™¯è¡¨ç¤ºå’Œæ¸²æŸ“)</p><p>â€‹è®¾è®¡äº†ä¸€ç§æ–°çš„æ··åˆæ˜¾å¼éšå¼3Dæ„ŸçŸ¥ç½‘ç»œï¼Œè¯¥ç½‘ç»œä½¿ç”¨å†…å­˜é«˜æ•ˆçš„ä¸‰å¹³é¢è¡¨ç¤ºæ˜¾å¼åœ°å­˜å‚¨ç”±è½»é‡çº§éšå¼ç‰¹å¾è§£ç å™¨èšåˆçš„è½´å¯¹é½å¹³é¢ä¸Šçš„ç‰¹å¾ï¼Œä»¥å®ç°é«˜æ•ˆçš„ä½“ç»˜åˆ¶</p><p>â€‹ 2ï¼‰Generative 3D-aware image synthesis(ç”Ÿæˆå¼3Dæ„ŸçŸ¥å›¾åƒåˆæˆ)</p><p>â€‹ å…·æœ‰åŸºäº3Dçš„å…ˆéªŒåå·®çš„é«˜æ•ˆ3DGANæ¶æ„å¯¹äºæˆåŠŸç”Ÿæˆé«˜åˆ†è¾¨ç‡è§†å›¾ä¸€è‡´å›¾åƒå’Œé«˜è´¨é‡3Då½¢çŠ¶è‡³å…³é‡è¦ã€‚æ‰€ä»¥ä½œè€…é‡‡ç”¨äº†ä»¥ä¸‹æ–¹æ³•ï¼š</p><p>â€‹ a. ç›´æ¥åˆ©ç”¨åŸºäº2D CNNç‰¹å¾ç”Ÿæˆå™¨ï¼Œå³<code>StyleGAN2</code>ã€‚</p><p>â€‹ b.ä¸‰å¹³é¢è¡¨ç¤ºä½¿å¾—è¯¥è®ºæ–‡çš„æ–¹æ³•èƒ½åˆ©ç”¨ç¥ç»ä½“æ¸²æŸ“ä½œä¸ºå…ˆéªŒåå·®ï¼Œåœ¨è®¡ç®—ä¸Šæ¯”å®Œå…¨éšå¼3Dç½‘ç»œæ›´æœ‰æ•ˆã€‚</p><p>â€‹ c. åœ¨ç¥ç»æ¸²æŸ“åé‡‡ç”¨åŸºäº2DCNNçš„å‘ä¸Šé‡‡æ ·ï¼ŒåŒæ—¶å¼•å…¥åŒé‡è¾¨åˆ«å™¨å»é¿å…ä¸Šé‡‡æ ·å±‚å¸¦æ¥çš„è§†å›¾ä¸ä¸€è‡´ã€‚</p><h5 id="äºŒæ¨¡å‹ä¸æ¨¡å—">äºŒã€æ¨¡å‹ä¸æ¨¡å—</h5><p><strong>1. Tri-plane hybrid 3Drepresentation(Tri-planeæ··åˆ3Dè¡¨ç¤º)</strong></p><p><code>æ€æƒ³ï¼š</code>hybrid explicit-implicit tri-planerepresentation(æ··åˆæ˜¾å¼-éšå¼ä¸‰å¹³é¢è¡¨ç¤º)ã€‚</p><p><code>å®ç°ï¼š</code>æ²¿ç€ä¸‰ä¸ªè½´å¯¹é½çš„æ­£äº¤ç‰¹å¾å¹³é¢å¯¹é½æ˜¾å¼ç‰¹å¾ï¼Œæ¯ä¸ªç‰¹å¾å¹³é¢çš„åˆ†è¾¨ç‡å‡ä¸ºNÃ—NÃ—Cï¼ŒNä¸ºç©ºé—´ç»´åº¦ï¼ŒCä¸ºé€šé“æ•°ã€‚é€šè¿‡å°†3Dä½ç½®æŠ•å½±åˆ°ä¸‰ä¸ªç‰¹å¾å¹³é¢ä¸­æ¥æŸ¥è¯¢ä»»ä½•3Dä½ç½®ç‚¹<code>x</code>ï¼Œé€šè¿‡åŒçº¿æ€§æ’å€¼æ£€ç´¢ç›¸åº”çš„ç‰¹å¾å‘é‡<spanclass="math inline">\((F_{xy} ~,~ F_{xz}~ , ~F_{yz})\)</span>ï¼Œç„¶åé€šè¿‡æ±‚å’Œæ¥æ±‡æ€»è¿™ä¸‰ä¸ªç‰¹å¾å‘é‡ã€‚æœ€åå°†è¿™ä¸ªæ±‡æ€»çš„ç‰¹å¾Fè¾“å…¥åˆ°ä¸€ä¸ªå°å‹è§£ç å™¨(MLP)æ¥è§£ç ä¸ºé¢œè‰²å’Œå¯†åº¦ã€‚</p><p><code>æ¨¡å—ï¼š</code>å°å‹MLPç½‘ç»œã€‚</p><p><strong>2. 3D GAN framework(3D GANæ¡†æ¶)</strong></p><p><code>æ€æƒ³ï¼š</code>è®­ç»ƒä¸€ä¸ª3DGANï¼Œç”¨äºä»2Dç…§ç‰‡ä¸­è¿›è¡Œé›†åˆæ„ŸçŸ¥å›¾åƒåˆæˆï¼Œè€Œæ— éœ€ä»»ä½•æ˜¾å¼3Dæˆ–è€…å¤šè§†å›¾ç›‘ç£ã€‚åŒæ—¶ä½¿ç”¨ç°æˆçš„å§¿æ€æ£€æµ‹å™¨ï¼Œå°†æ¯ä¸ªè®­ç»ƒå›¾åƒä¸ä¸€ç»„ç›¸æœºå†…å‚å’Œå¤–å‚ç›¸å…³è”(<code>Deep3DFaceReconstruction</code>)ã€‚</p><p><code>å®ç°/Overview:</code></p><figure><img src="2.png" alt="overview" /><figcaption aria-hidden="true">overview</figcaption></figure><blockquote><p>â€‹ a. ä¸€ä¸ªåŸºäºå§¿æ€æ¡ä»¶çš„StyleGAN2ç‰¹å¾ç”Ÿæˆå™¨å’Œæ˜ å°„ç½‘ç»œã€‚</p><p>â€‹ b. ä¸€ä¸ªå…·æœ‰è½»é‡çº§ç‰¹å¾è§£ç å™¨çš„ä¸‰å¹³é¢3Dè¡¨ç¤ºã€‚</p><p>â€‹ c. ä¸€ä¸ªç¥ç»ä½“ç´ æ¸²æŸ“å™¨ã€‚</p><p>â€‹ d. ä¸€ä¸ªè¶…åˆ†è¾¨ç‡æ¨¡å—ã€‚</p><p>â€‹ e. ä¸€ä¸ªåŸºäºå§¿æ€æ¡ä»¶çš„å…·æœ‰åŒé‡è¾¨åˆ«çš„StyleGAN2è¾¨åˆ«å™¨ã€‚</p></blockquote><p>â€‹è¿™ä¸ªæ¶æ„å·§å¦™åœ°å°†ç‰¹å¾ç”Ÿæˆå’Œç¥ç»æ¸²æŸ“è§£è€¦ï¼Œä½¿å¾—å¯ä»¥åˆ©ç”¨å¼ºå¤§çš„StyleGAN2ç”Ÿæˆå™¨è¿›è¡Œ3Dåœºæ™¯çš„æ³›åŒ–ã€‚æ­¤å¤–ï¼Œè½»é‡çº§çš„ä¸‰å¹³é¢3Dè¡¨ç¤ºæ—¢èƒ½å¤Ÿè¡¨è¾¾ä¸°å¯Œçš„ä¿¡æ¯ï¼Œåˆèƒ½å¤Ÿåœ¨å®æ—¶ä¸­å®ç°é«˜è´¨é‡çš„3Dæ„ŸçŸ¥è§†å›¾åˆæˆã€‚åŒæ—¶ï¼Œé‡‡ç”¨ä¸¤é˜¶æ®µè®­ç»ƒç­–ç•¥åŠ é€Ÿè®­ç»ƒé€Ÿåº¦ã€‚ç¬¬ä¸€ä¸ªé˜¶æ®µï¼šä½¿ç”¨å‡å°‘<spanclass="math inline">\((64^2)\)</span>ç¥ç»æ¸²æŸ“åˆ†è¾¨ç‡è¿›è¡Œè®­ç»ƒï¼›ç¬¬äºŒä¸ªé˜¶æ®µï¼šåœ¨å®Œå…¨<spanclass="math inline">\((128^2)\)</span>ç¥ç»æ¸²æŸ“åˆ†è¾¨ç‡ä¸Šçš„çŸ­æœŸå¾®è°ƒã€‚</p><p><strong>3. CNN generator backbone andrendering(CNNç”Ÿæˆå™¨ä¸»å¹²å’Œæ¸²æŸ“)</strong></p><p><code>æ€æƒ³ï¼š</code>ç”±<code>StyleGAN2 CNNç”Ÿæˆå™¨ç”Ÿæˆä¸‰å¹³é¢è¡¨ç¤ºçš„ç‰¹å¾</code>ã€‚éšæœºæ½œåœ¨ä»£ç å’Œç›¸æœºå‚æ•°é¦–å…ˆç”±æ˜ å°„ç½‘ç»œå¤„ç†ä»¥äº§ç”Ÿä¸­é—´æ½œåœ¨ä»£ç ï¼Œç„¶åè°ƒåˆ¶å•ç‹¬åˆæˆç½‘ç»œçš„å·ç§¯æ ¸ã€‚</p><p><code>å®ç°ï¼š</code>æ”¹å˜StyleGAN2ä¸»å¹²ç½‘ç»œçš„è¾“å‡ºå½¢çŠ¶ï¼Œä¸æ˜¯ç”Ÿæˆä¸‰é€šé“RGBå›¾åƒï¼Œè€Œæ˜¯ç”Ÿæˆä¸€ä¸ª256Ã—256Ã—96çš„ç‰¹å¾å›¾åƒã€‚ä»ä¸‰å¹³é¢é‡‡æ ·ç‰¹å¾ï¼Œå¹¶èæ±‡ä»ä¸‰ä¸ªå¹³é¢é‡‡æ ·çš„ç‰¹å¾ï¼Œè¾“å…¥åˆ°è½»é‡çº§è§£ç å™¨(MLPï¼Œ64ä¸ªç¥ç»å…ƒçš„å•ä¸ªéšè—å±‚ï¼Œæ¿€æ´»å‡½æ•°ï¼šsoftplus)ã€‚</p><p><code>æ¨¡å—ï¼š</code>StyleGAN2ã€MLP</p><p><strong>4. Super resolution(è¶…åˆ†è¾¨ç‡)</strong></p><p><code>æ€æƒ³ï¼š</code>ä½¿ç”¨ä¸­ç­‰åˆ†è¾¨ç‡<spanclass="math inline">\((128^2)\)</span>è¿›è¡Œä½“æ¸²æŸ“ï¼Œå¹¶ä¾é å›¾åƒç©ºé—´å·ç§¯ä¸Šé‡‡æ ·ç¥ç»æ¸²æŸ“åˆ°<spanclass="math inline">\((256^2 ~ or ~ 512^2)\)</span>å›¾åƒå¤§å°ã€‚</p><p><code>å®ç°ï¼š</code>ç”±StyleGAN2è°ƒåˆ¶å·ç§¯å±‚çš„ä¸¤ä¸ªå—ç»„æˆã€‚1ï¼‰ä¸Šé‡‡æ ·ï¼Œå°†128Ã—128Ã—3åˆ†è¾¨ç‡æé«˜åˆ°512Ã—512Ã—3çš„åˆ†è¾¨ç‡ã€‚2ï¼‰è°ƒæ•´32é€šé“ç‰¹å¾å›¾åˆ°æœ€ç»ˆçš„RGBå›¾åƒã€‚</p><p><strong>5. Dual discrimination(åŒé‡è¾¨åˆ«å™¨)</strong></p><p><code>æ€æƒ³ï¼š</code>ä½¿ç”¨StyleGAN2çš„è¾¨åˆ«å™¨ï¼Œå¹¶è¿›è¡Œäº†ä¸¤æ¬¡ä¿®æ”¹ã€‚</p><p><code>å®ç°ï¼š</code>1ï¼‰å°†ç‰¹å¾å›¾è§£é‡Šä¸ºä½åˆ†è¾¨ç‡RGBå›¾åƒã€‚åŒé‡è¾¨åˆ«å™¨ç¡®ä¿ä½åˆ†è¾¨ç‡RGBå›¾åƒä¸é«˜åˆ†è¾¨ç‡å›¾åƒçš„ä¸€è‡´æ€§ï¼Œé€šè¿‡åŒçº¿æ€§ä¸Šé‡‡æ ·æˆåŒæ ·512Ã—512Ã—3å›¾åƒå¹¶ä¸è°ƒæ•´åçš„<spanclass="math inline">\((I^+_{RGB})\)</span>è¿›è¡Œè¿æ¥å˜æˆ6é€šé“å›¾åƒã€‚2ï¼‰å°†è¾“å…¥çš„3é€šé“RGBå›¾åƒä¸å…¶é€‚å½“æ¨¡ç³Šåçš„å›¾åƒè¿›è¡Œè¿æ¥ï¼Œå˜æˆ6é€šé“å›¾åƒä½œä¸ºè¾¨åˆ«å™¨çš„è¾“å…¥ã€‚</p><p><code>æ¨¡å—ï¼š</code>StyleGAN2-ADAç­–ç•¥</p><blockquote><p>â€‹StyleGAN2-ADAç­–ç•¥ï¼šå°†æ¸²æŸ“ç›¸æœºçš„å†…å¤–çŸ©é˜µ(P)ä¼ é€’ç»™é‰´åˆ«å™¨ä½œä¸ºæ¡ä»¶æ ‡ç­¾ã€‚è¿™ç§è°ƒèŠ‚å¼•å…¥äº†é¢å¤–çš„ä¿¡æ¯ï¼ŒæŒ‡å¯¼ç”Ÿæˆå™¨å­¦ä¹ æ­£ç¡®çš„3Då…ˆéªŒã€‚</p></blockquote><p><strong>6. Modeling pose-correlatedattributes(å»ºæ¨¡å§¿æ€ç›¸å…³å±æ€§)</strong></p><p><code>æ€æƒ³ï¼š</code>å¼•å…¥äº†<code>generator pose conditioning(ç”Ÿæˆå™¨å§¿åŠ¿æ¡ä»¶)</code>ä½œä¸ºå»ºæ¨¡å’Œè§£è€¦è®­ç»ƒå›¾åƒä¸­è§‚å¯Ÿåˆ°çš„å§¿åŠ¿ä¸å…¶ä»–å±æ€§ä¹‹é—´çš„ç›¸å…³æ€§çš„ä¸€ç§æ‰‹æ®µã€‚</p><p><code>å®ç°ï¼š</code>æŒ‰ç…§StyleGAN2-ADAæ¡ä»¶ç”Ÿæˆç­–ç•¥ï¼Œæå‡ºä¸€ä¸ªä¸»å¹²æ˜ å°„ç½‘ç»œï¼Œä¸ä»…æä¾›ä¸€ä¸ªæ½œåœ¨ä»£ç zï¼ŒåŒæ—¶æä¾›ç›¸æœºå‚æ•°Pä½œä¸ºè¾“å…¥ã€‚</p><h5 id="ä¸‰å…¶ä»–ç»†èŠ‚">ä¸‰ã€å…¶ä»–ç»†èŠ‚</h5><p><strong>1. Pose Estimators(å§¿æ€ä¼°è®¡)</strong></p><p>â€‹ç”¨æ°´å¹³ç¿»è½¬çš„æ–¹æ³•æ¥æ‰©å……æ•°æ®é›†ï¼Œå¹¶ä½¿ç”¨ç°æˆçš„å§¿æ€ä¼°è®¡æ¥æå–è¿‘ä¼¼çš„ç›¸æœºå¤–éƒ¨å‚æ•°ã€‚</p><blockquote><p>ç°æˆçš„å§¿æ€ä¼°è®¡æ–¹æ³•ï¼š</p><p>1ï¼‰https://github.com/Microsoft/Deep3DFaceReconstructionï¼Œç”¨æ¥ç”Ÿæˆè„¸çš„æ•°æ®é›†çš„å§¿æ€(FFHQ)ã€‚</p><p>2ï¼‰https://github.com/kairess/cat_hipsterizerï¼Œç”¨æ¥ç”ŸæˆçŒ«çš„æ•°æ®é›†çš„å§¿æ€(AFHQv2Cats)ã€‚</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>è®ºæ–‡ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>3D</tag>
      
      <tag>ç²¾è¯»</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Pix2NeRF_ Unsupervised Conditional Ï€-GAN for Single Image to Neural Radiance Fields Translation</title>
    <link href="/posts/9076/"/>
    <url>/posts/9076/</url>
    
    <content type="html"><![CDATA[<h3id="pix2nerf-unsupervised-conditional-Ï€-gan-for-single-image-to-neural-radiance-fields-translation">Pix2NeRF:Unsupervised Conditional Ï€-GAN for Single Image to Neural RadianceFields Translation</h3><h4 id="æå‡ºçš„æ–¹æ³•-è´¡çŒ®ç›¸å…³å·¥ä½œ">1 æå‡ºçš„æ–¹æ³•ï¼Œ è´¡çŒ®ï¼Œç›¸å…³å·¥ä½œ</h4><p><strong>1. æ–¹æ³•</strong></p><p>åŸºäºÏ€-GANæ¨¡å‹ï¼Œç”¨äºæ— æ¡ä»¶3Dæ„ŸçŸ¥å›¾åƒåˆæˆçš„ç”Ÿæˆæ¨¡å‹ï¼Œå®ƒè®²éšæœºlatentcodeæ˜ å°„åˆ°ä¸€ç±»å¯¹è±¡çš„è¾å°„åœºã€‚ä½œè€…åŒæ—¶ä¼˜åŒ–ä¸¤ä¸ªç›®æ ‡:ï¼ˆ1ï¼‰Ï€-GANç›®æ ‡ï¼Œä»¥åˆ©ç”¨å…¶é«˜ä¿çœŸåº¦çš„3Dæ„ŸçŸ¥ç”Ÿæˆèƒ½åŠ›ã€‚ï¼ˆ2ï¼‰ä¸€ä¸ªç»è¿‡ç²¾å¿ƒè®¾è®¡çš„é‡å»ºç›®æ ‡ï¼ŒåŒ…æ‹¬ä¸€ä¸ªä¸Ï€-GANç”Ÿæˆå™¨è€¦åˆçš„ç¼–ç å™¨ï¼Œå½¢æˆä¸€ä¸ªè‡ªåŠ¨ç¼–ç å™¨ã€‚</p><p>å¼•å…¥äº†å°†ç»™å®šå›¾åƒæ˜ å°„åˆ°latentspaceçš„ç¼–ç å™¨ï¼Œå¹¶å¯¹å…¶åšäº†äº›ä¼˜åŒ–ï¼šï¼ˆ1ï¼‰è®­ç»ƒÏ€-GANå’Œæ·»åŠ çš„ç¼–ç å™¨å°†ç”Ÿæˆçš„å›¾åƒæ˜ å°„å›latentspaceã€‚ï¼ˆ2ï¼‰å°†ç¼–ç å™¨ä¸Ï€-GANçš„ç”Ÿæˆå™¨ç»“åˆå½¢æˆå¸¦æ¡ä»¶çš„GANæ¨¡å‹ï¼ŒåŒæ—¶ä½¿ç”¨å¯¹æŠ—å’Œé‡å»ºæŸå¤±å¯¹å…¶è¿›è¡Œè®­ç»ƒã€‚</p><p><strong>2. è´¡çŒ®</strong></p><p>ï¼ˆ1ï¼‰æå‡ºPix2NeRFï¼Œç¬¬ä¸€ä¸ªæ— ç›‘ç£çš„å•è§†å›¾NeRFæ¨¡å‹ï¼Œå¯ä»¥ä»å›¾åƒä¸­å­¦ä¹ åœºæ™¯è¾å°„åœºï¼Œå¹¶ä¸”ä¸éœ€è¦3Dä¿¡æ¯ï¼Œå¤šè§†å›¾æˆ–è€…å§¿æ€ç›‘ç£ã€‚</p><p>ï¼ˆ2ï¼‰æå‡ºåŸºäºNeRFçš„GANåæ¼”ã€‚</p><p><strong>3. ç›¸å…³å·¥ä½œ</strong></p><p>ä½œè€…çš„å·¥ä½œå¯ä»¥åˆ†ç±»ä¸ºç‰¹å®šç±»åˆ«çš„3Dæ„ŸçŸ¥ç¥ç»æ–°è§†å›¾åˆæˆæ–¹æ³•ï¼Œè¯¥æ–¹æ³•åŸºäºNeRFå’ŒÏ€-GANã€‚</p><ul><li>ç¥ç»è¾å°„åœº</li><li>åŸºäºNeRFçš„GAN</li><li>å°‘æ ·æœ¬NeRF</li></ul><h4 id="æ¨¡å‹ä¸æ¨¡å—">2 æ¨¡å‹ä¸æ¨¡å—</h4><p><strong>1. æ€»ä½“æ¶æ„</strong></p><p>â€‹Pix2NeRFç”±ä¸‰ä¸ªç¥ç»ç½‘ç»œç»„æˆï¼Œä¸€ä¸ªç”Ÿæˆå™¨Gã€ä¸€ä¸ªè¾¨åˆ«å™¨Dï¼Œå…±åŒç»„æˆç”Ÿæˆå¯¹æŠ—ç½‘ç»œï¼Œä¸€ä¸ªç¼–ç å™¨Eï¼Œä¸ç”Ÿæˆå™¨Gå…±åŒç»„æˆä¸€ä¸ªè‡ªåŠ¨ç¼–ç å™¨ã€‚</p><p>â€‹ ç”Ÿæˆå™¨çº¦æŸï¼šoutput view pose d and latent code zã€‚</p><p>â€‹ Gï¼šç”Ÿæˆå™¨ï¼ŒDï¼šè¾¨åˆ«å™¨ï¼ŒEï¼šç¼–ç å™¨ï¼ŒIï¼šRGB imageï¼Œzï¼šlatentcodeï¼Œdï¼šposeï¼Œpï¼šprior distribution lï¼šlogit predict distributionã€‚</p><figure><img src="1.png" alt="1" /><figcaption aria-hidden="true">1</figcaption></figure><p><strong>1.1 Overview</strong></p><p>â€‹è®ºæ–‡ä¸­çš„æ–¹æ³•å°†ç¼–ç å™¨å’Œç”Ÿæˆå™¨è¾“å…¥æ˜ å°„çš„å›¾åƒçš„æ½œåœ¨è¡¨ç¤ºè§£è€¦ä¸ºå†…å®¹<code>z</code>å’Œå§¿æ€<code>d</code>ï¼Œå¹¶å¯¹è¿™ä¸¤ä¸ªéƒ¨åˆ†è¿›è¡Œå•ç‹¬å¤„ç†ã€‚</p><p><img src="2.png" alt="1" style="zoom:80%;" /></p><p>â€‹Pix2NeRFä»ä¸€å¼ è¾“å…¥çš„å›¾åƒä¸­è§£è€¦å§¿æ€å’Œå†…å®¹ï¼Œå¹¶ä¸”ç”Ÿæˆä¸€ä¸ªå†…å®¹çš„è¾å°„åœºï¼Œè¯¥è¾å°„åœºåŒ…æ‹¬ï¼ˆ1ï¼‰è§£è€¦å§¿æ€ä¸‹çš„è¾“å…¥ä¸€è‡´æ€§ï¼Œï¼ˆ2ï¼‰æ¥è‡ª<spanclass="math inline">\(~p_d~\)</span>ä¸åŒå§¿æ€ä¸‹çš„ä¸€è‡´æ€§é›¨é€¼çœŸæ€§ã€‚ä¸ºäº†å®Œæˆè¿™äº›ç›®æ ‡ï¼Œè®¾è®¡äº†å‡ ä¸ªè®­ç»ƒç›®æ ‡ï¼š</p><ul><li>Generatorï¼ˆç”Ÿæˆå™¨ï¼‰</li><li>Discriminatorï¼ˆè¾¨åˆ«å™¨ï¼‰</li><li>GAN inversionï¼ˆGANåæ¼”ï¼‰</li><li>Reconstructionï¼ˆé‡å»ºï¼‰</li><li>Conditional adversarial trainingï¼ˆæ¡ä»¶å¯¹æŠ—è®­ç»ƒï¼‰</li></ul><p><strong>2. GAN generator objectiveï¼ˆGANç”Ÿæˆå™¨ï¼‰</strong></p><p>â€‹ å¯¹latent code <span class="math inline">\(z_{rand} \simp_{z}\)</span> å’Œéšæœºå§¿æ€<span class="math inline">\(d_{rand} \simp_d\)</span> æˆå¯¹é‡‡æ ·ï¼Œç„¶åé€šè¿‡ç”Ÿæˆå™¨å»ç”Ÿæˆå‡çš„ç”Ÿæˆå›¾åƒï¼š<spanclass="math inline">\(I_{gen} ~ = ~G(z_{rand},~d_{rand})\)</span>ï¼Œæœ€åè¾“å…¥åˆ°å†»ç»“çš„è¾¨åˆ«å™¨ä¸­ï¼š<spanclass="math inline">\(l_{gen}, ~ d_{gen} ~ = ~D^*(I_{gen})\)</span>ã€‚ï¼ˆå·¦ä¸Šï¼‰</p><p>â€‹ ä½¿ç”¨ <code>MSE</code> ä½œä¸ºç”Ÿæˆçš„å§¿æ€ <spanclass="math inline">\(d_{gen}\)</span> å’Œéšæœºå§¿æ€è¾“å…¥ <spanclass="math inline">\(d_{rand}\)</span>ä¹‹é—´çš„æŸå¤±å‡½æ•°ï¼ŒåŒæ—¶ç”Ÿæˆå™¨Gçš„æŸå¤±å‡½æ•°å¦‚ä¸‹ï¼š <spanclass="math display">\[\begin{aligned}\mathcal{L}_{\mathrm{GAN}}(G)=\underset{\substack{z_{\text {rand }} \simp_{\mathrm{z}} \\d_{\text {rand }} \simp_{d}}}{\mathbb{E}}  [\text{softplus}\left(-l_{\text {gen}}\right)+\left.\lambda_{\text {pos }}\left\|d_{\text {rand }}-d_{\text{gen}}\right\|_{2}^{2}\right]\end{aligned}\]</span> å…¶ä¸­ $ _{pos}$ ä¸ºå¾®è°ƒæƒé‡å› å­ã€‚</p><p><strong>3. GAN discriminator objectiveï¼ˆGANè¾¨åˆ«å™¨ï¼‰</strong></p><p>â€‹ å¯¹latent code <span class="math inline">\(z_{rand} \simp_{z}\)</span> å’Œéšæœºå§¿æ€<span class="math inline">\(d_{rand} \simp_d\)</span> æˆå¯¹é‡‡æ ·ï¼Œç„¶åé€šè¿‡å†»ç»“çš„ç”Ÿæˆå™¨å»ç”Ÿæˆå‡çš„ç”Ÿæˆå›¾åƒï¼š<spanclass="math inline">\(I_{gen} ~ = ~G^*(z_{rand},~d_{rand})\)</span>ï¼Œç„¶åè¾¨åˆ«å™¨Dé€šè¿‡ <spanclass="math inline">\(G^*\)</span> ç”Ÿæˆçš„çš„å›¾åƒå’ŒçœŸå®å›¾åƒ <spanclass="math inline">\(I_{real} \sim p_{real}\)</span>æ¥è¿›è¡Œè®­ç»ƒã€‚ï¼ˆå·¦ä¸‹ï¼‰ <span class="math display">\[l_{real},~ d_{real} ~=~D(I_{real}), \\l_{gen}, ~ d_{gen} ~=~ D(I_{gen}).\]</span> â€‹ è€ƒè™‘å·²çŸ¥å§¿æ€çš„ <code>MSE</code> ç›‘ç£è€Œä¿®æ”¹çš„é‰´åˆ«å™¨çš„æŸå¤±å‡½æ•°<span class="math inline">\(\mathcal{L}_{GAN}(D)\)</span> å¯ä»¥è¡¨ç¤ºä¸ºï¼š<span class="math display">\[\begin{aligned}\mathcal{L}_{\mathrm{GAN}}(D)~ = ~\underset{I_{\text {real}} \simp_{\text {real}}}{\mathbb{E}}{\left[\operatorname{softplus}\left(-l_{\text {real}}\right)\right]~ +~} \\\underset{\substack{z_{\text {rand }} \sim p_{\mathrm{z}} \\d_{\text {rand}} \sim p_{d}}}{\mathbb{E}}{\left[\operatorname{softplus}\left(l_{\text {gen}}\right)~ + ~\right.}\left.\lambda_{\text {pos}}\left\|d_{\text {rand}}-d_{\text{gen}}\right\|_{2}^{2}\right]\end{aligned}\]</span> å…¶ä¸­ $ _{pos}$ ä¸ºå¾®è°ƒæƒé‡å› å­ã€‚</p><p><strong>4. GAN inversion objectiveï¼ˆGANåæ¼”ï¼‰</strong></p><p>â€‹ è”åˆä¼˜åŒ–ç¼–ç å™¨ E å’Œè¾¨åˆ«å™¨ Dï¼Œå¹¶å†»ç»“ç”Ÿæˆå™¨Gã€‚ç›®çš„æ˜¯ç¡®ä¿é‡‡æ ·çš„å†…å®¹å’Œå§¿æ€ä¸ç¼–ç å™¨ä»ç”Ÿæˆçš„å›¾åƒä¸­æå–çš„å†…å®¹å’Œå§¿æ€ä¹‹é—´çš„ä¸€è‡´æ€§ã€‚ï¼ˆå·¦ä¸‹ï¼‰<span class="math display">\[z_{pred}, ~ d_{pred} ~ = ~E(I_{gen})\]</span> GANåæ¼”ä½¿ç”¨ <code>MSE</code> æŸå¤±å‡½æ•°ï¼š <spanclass="math display">\[\begin{array}{r}\mathcal{L}_{\mathrm{GAN}^{-1}}(E)=\underset{\substack{z_{\text {rand }}\sim p_{\mathrm{z}} \\d_{\text {rand }} \sim p_{d}}}{\mathbb{E}}\left[\left\|z_{\text {pred}}-z_{\text {rand }}\right\|_{2}^{2} ~+ ~\right.\left.\left\|d_{\text {pred }}-d_{\text {rand }}\right\|_{2}^{2}\right]\end{array}\]</span> <strong>5. Reconstruction objectiveï¼ˆé‡å»ºï¼‰</strong></p><p>â€‹ é€šè¿‡ä½¿ç”¨ç¼–ç å™¨ E æå–å…¶ latent codeå’Œå§¿åŠ¿é¢„æµ‹æ¥åœ¨çœŸå®å›¾åƒä¸Šè°ƒèŠ‚ç”Ÿæˆå™¨Gï¼Œç„¶åä½¿ç”¨é¢„æµ‹çš„å§¿åŠ¿æ¸²æŸ“å…¶è§†å›¾ï¼Œ<code>ç›®çš„ä¸ºä¿ƒè¿›å›¾åƒç©ºé—´ä¸­ç»“æ„çš„çš„ä¸€è‡´æ€§ï¼Œå¹¶ä½¿å¾—å›¾åƒæ›´åŠ æ¸…æ™°</code>ã€‚ï¼ˆå³ä¸Šï¼‰<span class="math display">\[z_{pred}, ~ d_{pred} ~ = ~ E(I_{real}) \\I_{recon} ~ = ~ G(z_{pred}, ~ d_{pred})\]</span> é‡å»ºæŸå¤±å‡½æ•°ï¼ŒåŸºäº <code>MSE</code> æ”¹è¿›ï¼š <spanclass="math display">\[\begin{array}{r}\mathcal{L}_{\text {recon }}(G, E)=\underset{\begin{array}{c}{I_{real} } \sim { p_{real} }\end{array}}{\mathbb{E}}\left[\left\|I_{\text {recon }}-I_{\text {real}}\right\|_{2}^{2} ~ + ~\right. \\\lambda_{\text {ssim }} \mathcal{L}_{\text {ssim }}\left(I_{\text {recon}}, I_{\text {real }}\right) ~ + \\\left.\lambda_{\text {vgg }} \mathcal{L}_{\text {vgg }}\left(I_{\text{recon }}, I_{\text {real }}\right)\right]\end{array}\]</span> å…¶ä¸­ <span class="math inline">\(\mathcal{L}_{ssim}\)</span>ä¸ºSSIMæŸå¤±ï¼Œ<span class="math inline">\(\lambda_{ssim}\)</span>ä¸ºSSIMæŸå¤±çš„æƒé‡å› å­ï¼›<spanclass="math inline">\(\mathcal{L}_{vgg}\)</span> ä¸º VGG æ„ŸçŸ¥æŸå¤±ï¼Œ<spanclass="math inline">\(\lambda_{vgg}\)</span> ä¸ºå…¶æƒé‡å› å­ã€‚</p><p><strong>6. Conditional adversarialobjectiveï¼ˆæ¡ä»¶å¯¹æŠ—ç½‘ç»œï¼‰</strong></p><p>â€‹é‡å»ºç›®æ ‡æ—¨åœ¨æé«˜ç”±ç¼–ç å™¨Eæå–çš„å•ä¸ªè§†å›¾çš„è‰¯å¥½é‡å»ºè´¨é‡ã€‚è¿™å¯èƒ½ä¼šå¯¼è‡´ç½‘ç»œç»„åˆè¶‹å‘äºé¢„æµ‹å¾®ä¸é‡è¦çš„å§¿åŠ¿ï¼Œæˆ–è€…å¯¹ä»<span class="math inline">\(p_d\)</span>æå–çš„å…¶ä»–å§¿åŠ¿çš„é‡å»ºè¿›è¡Œä¸åˆ‡å®é™…çš„é¢„æµ‹ã€‚ä¸ºäº†ç¼“è§£è¿™ä¸€é—®é¢˜ï¼Œå½“ç”Ÿæˆå™¨åœ¨éšæœºå§¿åŠ¿ä¸‹æ¸²æŸ“å‡ºå›¾åƒ<span class="math inline">\(I_{real}\)</span> æ—¶ï¼Œè¿›ä¸€æ­¥åº”ç”¨å¯¹æŠ—ç›®æ ‡ã€‚<span class="math display">\[l_{cond}, ~ d_{cond} ~=~D^*(G(z_{pred}, ~d_{rand}))\]</span> æŸå¤±å‡½æ•°ä¸ºï¼š <span class="math display">\[\mathcal{L}_{cond}(G, ~E) ~=~\underset{\substack{\substack{I_{real}\sim p_{real}} \\d_{rand} \sim p_d}}{\mathbb{E}}\left[\operatorname{softplus}(-l_{cond}) \right]\]</span> <strong>7. Encoder warm-upï¼ˆç¼–ç å™¨é¢„çƒ­ï¼‰</strong></p><p>â€‹é‡å»ºæŸå¤±å¯èƒ½å¾ˆå®¹æ˜“å ä¸»å¯¼åœ°ä½ï¼Œå¯¼è‡´æ¨¡å‹è¿‡åº¦æ‹Ÿåˆäºè¾“å…¥è§†å›¾ï¼ŒåŒæ—¶å¤±å»äº†è¡¨ç¤º3Dçš„èƒ½åŠ›ã€‚å› æ­¤ï¼Œä½œè€…å¼•å…¥äº†ä¸€ç§ç®€å•çš„â€œé¢„çƒ­â€ç­–ç•¥æ¥åº”å¯¹è¿™ä¸ªé—®é¢˜ã€‚åœ¨è®­ç»ƒåè®®çš„å‰åŠéƒ¨åˆ†è¿­ä»£ä¸­ï¼Œå†»ç»“ç¼–ç å™¨ï¼ŒåŒæ—¶ä¼˜åŒ–é‡å»ºå’Œæ¡ä»¶å¯¹æŠ—æŸå¤±ï¼Œå¹¶ä¸”ä»…ä¼˜åŒ–ç”Ÿæˆå™¨ç”¨äºè¿™ä¸¤ä¸ªç›®æ ‡ã€‚è¿™ä½œä¸ºç”Ÿæˆå™¨çš„é¢„çƒ­ï¼Œå¤§è‡´å­¦ä¹ ç¼–ç å™¨è¾“å‡ºä¸ç¼–ç å›¾åƒä¹‹é—´çš„å¯¹åº”å…³ç³»ã€‚ç„¶åè§£å†»ç¼–ç å™¨ï¼Œä½¿å…¶èƒ½å¤Ÿè¿›ä¸€æ­¥æç‚¼å…¶å­¦ä¹ åˆ°çš„è¡¨ç¤ºã€‚åœ¨é¢„çƒ­é˜¶æ®µä¹‹åï¼Œç¼–ç å™¨å’Œç”Ÿæˆå™¨ç›´æ¥å½¢æˆäº†ä¸€ä¸ªç»è¿‡é¢„è®­ç»ƒçš„è‡ªåŠ¨ç¼–ç å™¨ï¼Œèƒ½å¤Ÿç”Ÿæˆæ¥è¿‘çœŸå®3Dè¡¨ç¤ºçš„ç»“æœï¼Œé¿å…äº†ç¹ççš„æ—©æœŸé‡å»ºç›®æ ‡ï¼Œè¿™åœ¨ä¸GANç›®æ ‡ç›¸å¹³è¡¡éå¸¸å›°éš¾çš„æƒ…å†µä¸‹å°¤ä¸ºé‡è¦ã€‚ä½œè€…é€šè¿‡æ¶ˆèç ”ç©¶å±•ç¤ºäº†è¿™ä¸€ç­–ç•¥çš„å¿…è¦æ€§ï¼Œå¹¶ä¸ä»…ä¸ºé‡å»ºæŸå¤±åˆ†é…è¾ƒå°æƒé‡çš„æƒ…å†µè¿›è¡Œäº†æ¯”è¾ƒã€‚</p><p><strong>8. Training and Inferenceï¼ˆè®­ç»ƒä¸æ¨æµ‹ï¼‰</strong></p><p>â€‹ åˆ¤åˆ«å™¨å’Œ GAN åæ¼”ç›®æ ‡åœ¨æ¯æ¬¡è¿­ä»£æ—¶éƒ½ä¼šè¿›è¡Œä¼˜åŒ–ï¼›GANç”Ÿæˆå™¨ç›®æ ‡åœ¨å¶æ¬¡è¿­ä»£æ—¶è¿›è¡Œä¼˜åŒ–ï¼›é‡å»ºå’Œæ¡ä»¶å¯¹æŠ—ç›®æ ‡åœ¨å¥‡æ•°è¿­ä»£æœŸé—´é€šè¿‡åŠ æƒå› å­<span class="math inline">\(Î»recon\)</span> è”åˆä¼˜åŒ–ï¼š <spanclass="math display">\[\mathcal{L}_{odd} ~=~ \mathcal{L}_{cond} ~ + ~\lambda_{recon}\mathcal{L}_{recon}\]</span> â€‹ åœ¨æ¨ç†é˜¶æ®µï¼ŒPix2NeRF åªéœ€è¦ä¸€ä¸ªè¾“å…¥å›¾åƒï¼Œå¯ä»¥å°†å…¶è¾“å…¥ç¼–ç å™¨Eï¼Œç„¶åè¾“å…¥ç”Ÿæˆå™¨Gï¼Œå†åŠ ä¸Šä»»æ„é€‰æ‹©çš„å§¿åŠ¿ä»¥è¿›è¡Œæ–°é¢–çš„è§†å›¾åˆæˆã€‚åŒæ—¶ï¼Œå¯ä»¥ä»å…ˆéªŒåˆ†å¸ƒ <spanclass="math inline">\(p_z\)</span> ä¸­å¯¹å…¶è¿›è¡Œé‡‡æ ·ï¼Œè€Œä¸æ˜¯ä»ç¼–ç å™¨ä¸­è·å–latent code zï¼Œä»¥ä½¿æ¨¡å‹åƒ Ï€-GAN ä¸€æ ·åˆæˆæ–°é¢–çš„æ ·æœ¬ã€‚</p><h4 id="å®éªŒ">3 å®éªŒ</h4><p><strong>1.æ•°æ®é›†</strong></p><p>CelebAï¼š200kå¼ ==äººè„¸ç…§ç‰‡==ï¼Œä½¿ç”¨==aligned==çš„ç‰ˆæœ¬ï¼Œå¹¶ä¸”é‡‡ç”¨ä¸­å¿ƒè£å‰ªï¼Œè£å‰ªå‡ºå¤§è‡´è„¸éƒ¨é¢ç§¯ï¼Œä½¿ç”¨8kå¼ ç…§ç‰‡ä½œä¸ºæµ‹è¯•é›†ã€‚</p><p>CARLAï¼šåŒ…å« 16 ä¸ª==æ±½è½¦æ¨¡å‹==çš„ 10k å›¾åƒï¼Œä½¿ç”¨ Carlaé©¾é©¶æ¨¡æ‹Ÿå™¨ä»¥éšæœºçº¹ç†æ¸²æŸ“ã€‚</p><p>ShapeNet-SRNï¼šè¯¥æ•°æ®é›†åŒ…å«æ¥è‡ª ShapeNet çš„ 50ä¸ªæ¸²æŸ“è§†å›¾ï¼Œå…¶ä¸­æ¯ä¸ªå®ä¾‹éƒ½æœ‰é˜¿åŸºç±³å¾·èºæ—‹ç›¸æœºå§¿åŠ¿ã€‚ç”±äº ShapeNet-SRNæ•°æ®é›†çš„éªŒè¯å’Œæµ‹è¯•é›†ä¸­ä¸åŒ…æ‹¬ä¸‹åŠçƒï¼Œå› æ­¤ä½œè€…è¿‡æ»¤è®­ç»ƒé›†ä»¥ä»…åŒ…å«ä¸ŠåŠçƒã€‚ä½œè€…ä½¿ç”¨==æ¤…å­==åˆ†å‰²æ¥ä¸ä¹‹å‰çš„å¤šè§†å›¾æ–¹æ³•è¿›è¡Œæ¯”è¾ƒã€‚</p><p><strong>2.æŠ€æœ¯ç»†èŠ‚</strong></p><p><code>baselineï¼š</code>==Ï€-GANï¼ˆPytorchï¼‰==,é‡ç”¨å…¶ç”Ÿæˆå™¨å’Œé‰´åˆ«å™¨æ¶æ„ã€‚</p><p><code>å‚æ•°ï¼š</code>é€‰æ‹© latent code å…ˆéªŒåˆ†å¸ƒ <spanclass="math inline">\(p_z\)</span> ä½œä¸º [-1, 1]ä¸Šçš„å¤šå…ƒå‡åŒ€åˆ†å¸ƒã€‚ä½¿ç”¨é‰´åˆ«å™¨æ¶æ„ä½œä¸ºç¼–ç å™¨ä¸»å¹²ï¼Œå¹¶ä¸”åœ¨latent codeå¤´éƒ¨çš„æœ«å°¾æ·»åŠ ==tanh==ï¼Œæ‰€æœ‰çš„æ¨¡å‹ä½¿ç”¨Adamä¼˜åŒ–å™¨è¿›è¡Œ300kè¿­ä»£ã€‚CelebAæ¨¡å‹åœ¨==resolution=64Ã—64ï¼Œbatchsize=48==ï¼Œæ¯æ¡å°„çº¿é‡‡æ ·24ä¸ªç‚¹çš„å‚æ•°ä¸‹è¿›è¡Œè®­ç»ƒï¼Œå…¶è¾¨åˆ«å™¨ã€ç”Ÿæˆå™¨ã€ç¼–ç å™¨çš„å­¦ä¹ ç‡åˆ†åˆ«ä¸º==2e-4,6e-5,2e-4==ã€‚å¯¹äºå…¶ä»–æ¨¡å‹åœ¨==resolution=32Ã—32==ï¼Œæ¯æ¡å°„çº¿é‡‡æ ·96ä¸ªç‚¹çš„å‚æ•°ä¸‹è¿›è¡Œè®­ç»ƒï¼Œå­¦ä¹ ç‡åˆ†åˆ«ä¸º==4e-5,4e-4,4e-4==.</p><p><strong>3.ç»“æœå¯¹æ¯”</strong></p><p><img src="3.png" alt="3" style="zoom:80%;" /></p><p><strong>4.æ¶ˆèå®éªŒ</strong></p><p>é€šè¿‡é€ä¸ªå»é™¤å…³é”®ç»„ä»¶å¹¶åœ¨å®Œæ•´æ¨¡å‹ç›¸åŒçš„è®¾ç½®ä¸‹è®­ç»ƒæ¨¡å‹ï¼Œæ¥éªŒè¯è®¾è®¡é€‰æ‹©ã€‚</p><p>ä¸»è¦å¯¹æ¯”çš„æ¨¡å‹ç»„ä»¶æœ‰ï¼š==Naive GAN inversion, Auto-encoder, No GANinversion, No conditional adversarial objective, Warm-up==</p><p><code>Naive GAN inversion:</code>åœ¨æœ´ç´ çš„GANåæ¼”ä¸­ï¼Œä½¿ç”¨ä¸€ä¸ªé¢„å…ˆè®­ç»ƒå¥½çš„GANï¼Œå†»ç»“å…¶æƒé‡ï¼Œå¹¶è®­ç»ƒä¸€ä¸ªç¼–ç å™¨å°†å›¾åƒæ˜ å°„åˆ°å®ƒä»¬å¯¹åº”çš„latent codeã€‚ç»“æœè¡¨æ˜ï¼Œç¼–ç å™¨å¯ä»¥å­¦ä¹ ä»å›¾åƒåˆ° latent codeçš„è¿‘ä¼¼æ˜ å°„ã€‚</p><p><code>Auto-encoder:</code>åˆ©ç”¨ Ï€-GANçš„æ¶æ„ä½œä¸ºè‡ªåŠ¨ç¼–ç å™¨ï¼Œå¹¶å°†==latentspace==ä»pipelineä¸­åˆ é™¤ï¼Œåªè®­ç»ƒé‡å»ºå’Œæ¡ä»¶å¯¹æŠ—æ¨¡å‹ã€‚å¾—åˆ°çš„ç»“æœè™½ç„¶åˆä¸é”™çš„è´¨é‡ï¼Œä½†æ˜¯æ˜æ˜¾èƒ½è§‚å¯Ÿåˆ°3Dä¸ä¸€è‡´ç°è±¡ã€‚</p><p><code>No GAN inversion:</code>å°†==GANinversion==ä»pipelineä¸­åˆ é™¤ä¹‹åï¼Œè§†è§‰ç»“æœå˜å¾—æ¨¡ç³Šã€‚è¿™ä¸€æ­¥å¯èƒ½æ˜¯ Ï€-GANè®­ç»ƒå’Œé‡å»ºä¹‹é—´çš„è”ç³»ï¼Œå½±å“æ•´ä½“æ€§èƒ½ã€‚</p><p><code>No conditional adversarial objective:</code>åœç”¨æ¡ä»¶å¯¹æŠ—æŸå¤±å¹¶é‡æ–°è®­ç»ƒï¼Œå¯¼è‡´æ¸²æŸ“å˜å¾—ä¸å®Œæ•´ï¼Œæœ‰æ˜æ˜¾çš„ä¼ªå½±ï¼Œå¹¶ä¸”ä¸€è‡´æ€§é™ä½ã€‚</p><p><code>Warm-up:</code>åˆ†åˆ«è®­ç»ƒä¸‰ä¸ªæ¨¡å‹ï¼Œ==æ²¡æœ‰warm-upï¼Œæ²¡æœ‰unfreezingç¼–ç å™¨ï¼ˆå§‹ç»ˆé¢„çƒ­ï¼‰ï¼Œä¸ºé‡å»ºåˆ†é…è¾ƒä½çš„æƒé‡è€Œä¸æ˜¯é¢„çƒ­==ã€‚æ²¡æœ‰warm-upç­–ç•¥ï¼Œå¯¼è‡´è¿‡æ‹Ÿåˆè¾“å…¥è§†å›¾ï¼Œå¹¶ä¸”æ— æ³•åœ¨æ–°é¢–å§¿æ€ä¸­äº§ç”Ÿæœ‰æ„ä¹‰çš„å†…å®¹ï¼›æ²¡æœ‰è§£å†»ç¼–ç å™¨ï¼Œåˆ™è’¸é¦ç›¸å¯¹å¼±ï¼Œå¯¼è‡´ç»†èŠ‚å¾ˆå°‘ï¼›ä½¿ç”¨è¾ƒä½çš„é‡å»ºæƒé‡è€Œä¸æ˜¯é¢„çƒ­ï¼Œä½¿æ–°è¯•å›¾åˆæˆçš„æ¨¡å¼å´©æºƒã€‚</p><h4 id="å…¶ä»–">4 å…¶ä»–</h4><ol type="1"><li>åˆ©ç”¨ 2D GANå‰é¦ˆåè½¬ç­‰æ›´æˆç†Ÿçš„ç¼–ç å™¨æ¶æ„ï¼Œä¾‹å¦‚Pixel2styleï¼Œå¯èƒ½ä¼šæ˜¾ç€æé«˜ Pix2NeRFçš„æ€§èƒ½ã€‚</li></ol>]]></content>
    
    
    <categories>
      
      <category>è®ºæ–‡ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>NeRF</tag>
      
      <tag>ç²¾åº¦</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ¯å‘¨æ€»ç»“(23.09.18-23.09.24)</title>
    <link href="/posts/51013/"/>
    <url>/posts/51013/</url>
    
    <content type="html"><![CDATA[<div align='center'><H3>Weekly report</div><p><strong>Date: 23.09.18-23.09.24</strong></p><h3 id="paper">Paper</h3><p><strong>Title:</strong><code>Pix2NeRF: Unsupervised Conditional Ï€-GAN for Single Image to Neural Radiance Fields Translation</code></p><h4 id="method-contribution-related-work">1 Method, Contribution,Related Work</h4><p><strong>1. Method</strong></p><p>â€‹ Based on the Ï€-GAN model, it is a generative model for unconditional3D perceptual image synthesis, which speaks of random latent codemapping to the radiation field of a class of objects. The authorsoptimize two goals at the same time: (1) Ï€-GAN targets to take advantageof their high-fidelity 3D perception generation capabilities. (2) Awell-designed reconstruction target consisting of an encoder coupled toa Ï€-GAN generator to form an autoencoder.</p><p>An encoder that maps a given image to a latent space is introducedand optimized: (1) The Ï€-GAN is trained and the added encoder maps thegenerated image back to latent space. (2) Combine the encoder with agenerator of Ï€-GAN to form a conditional GAN model, and train it usingadversarial and reconstruction losses.</p><p><strong>2. Contribution</strong></p><ol type="1"><li><p>The Pix2NeRF, the first unsupervised single-view NeRF model, canlearn the scene radiation field from the image, and does not require 3Dinformation, multi-view or attitude supervision.</p></li><li><p>A GAN inversion based on NeRF is proposed.</p></li></ol><p><strong>3. Related Work</strong></p><p>â€‹ The author's work can be categorized into specific types of 3Dperception neural new view synthesis methods, which are based on NeRFand Ï€-GAN.</p><ul><li>Neural Radiance Fields</li><li>NeRF-based GAN</li><li>Few-shot NeRF</li></ul><h4 id="model-and-modules">2 Model and Modules</h4><p><strong>1. Overall Architecture</strong></p><p>â€‹ Pix2NeRF consists of three neural networks: a generator G, adiscriminator D, which together form a Generative Adversarial Network(GAN), and an encoder E, which works in conjunction with the generator Gto create an autoencoder.</p><p>â€‹ Constraints on the generator: It generates output for view pose (d)and latent code (z).</p><p>â€‹ G: Generator, D: Discriminator, E: Encoder, I: RGB image, z: latentcode, d: pose, p: prior distribution, l: logit predict.</p><figure><img src="1.png" alt="arc" /><figcaption aria-hidden="true">arc</figcaption></figure><p><strong>1.1 Overview</strong></p><p>â€‹ The method in the paper decouples the latent representation of theinput images for the encoder and generator into content <code>z</code>and pose <code>d</code>, and processes these two parts separately.</p><p><img src="2.png?80*80" alt="overview" /> Pix2NeRF decouples pose andcontent from a single input image, generating a content radiance fieldthat includes (1) pose-consistency under decoupled poses and (2) realismconsistency across different poses from <spanclass="math display">\[p_d\]</span>. To achieve these objectives,several training objectives were designed:</p><ul><li>Generatorï¼ˆç”Ÿæˆå™¨ï¼‰</li><li>Discriminatorï¼ˆè¾¨åˆ«å™¨ï¼‰</li><li>GAN inversionï¼ˆGANåæ¼”ï¼‰</li><li>Reconstructionï¼ˆé‡å»ºï¼‰</li><li>Conditional adversarial trainingï¼ˆæ¡ä»¶å¯¹æŠ—è®­ç»ƒï¼‰</li></ul><p><strong>2. GAN generator objectiveï¼ˆGANç”Ÿæˆå™¨ï¼‰</strong></p><p>â€‹ Sampling pairs of latent code <span class="math inline">\(z_{rand}\sim p_{z}\)</span> and random poses <spanclass="math inline">\(d_{rand} \sim p_d\)</span>, and then generatingfake images using the generator: <span class="math inline">\(I_{gen} ~ =~ G(z_{rand},~d_{rand})\)</span>, finally inputting them into the frozendiscriminator: <span class="math inline">\(l_{gen}, ~ d_{gen} ~ = ~D^*(I_{gen})\)</span> (top-left).</p><p>Using <code>MSE</code> as the loss function between the generatedpose <span class="math inline">\(d_{gen}\)</span> and the random poseinput <span class="math inline">\(d_{rand}\)</span>, the loss functionfor the generator G is as follows: <span class="math display">\[\begin{aligned}\mathcal{L}_{\mathrm{GAN}}(G)=\underset{\substack{z_{\text {rand }} \simp_{\mathrm{z}} \\d_{\text {rand }} \simp_{d}}}{\mathbb{E}}  [\text{softplus}\left(-l_{\text {gen}}\right)+\left.\lambda_{\text {pos }}\left\|d_{\text {rand }}-d_{\text{gen}}\right\|_{2}^{2}\right]\end{aligned}\]</span> where $ _{pos}$ is the fine-tuning weight factor.</p><p><strong>3. GAN discriminator objectiveï¼ˆGANè¾¨åˆ«å™¨ï¼‰</strong></p><p>Sampling pairs of latent code <span class="math inline">\(z_{rand}\sim p_{z}\)</span> and random poses <spanclass="math inline">\(d_{rand} \sim p_d\)</span>, and then generatingfake images using the frozen generator: <spanclass="math inline">\(I_{gen} ~ = ~ G^*(z_{rand},~d_{rand})\)</span>,and training the discriminator D using images generated by <spanclass="math inline">\(G^*\)</span> and real images <spanclass="math inline">\(I_{real} \sim p_{real}\)</span> (bottom-left).<span class="math display">\[l_{real},~ d_{real} ~=~D(I_{real}), \\l_{gen}, ~ d_{gen} ~=~ D(I_{gen}).\]</span> The modified discriminator's GAN loss function <spanclass="math inline">\(\mathcal{L}_{GAN}(D)\)</span>, considering theknown pose <code>MSE</code> supervision, can be expressed as: <spanclass="math display">\[\begin{aligned}\mathcal{L}_{\mathrm{GAN}}(D)~ = ~\underset{I_{\text {real}} \simp_{\text {real}}}{\mathbb{E}}{\left[\operatorname{softplus}\left(-l_{\text {real}}\right)\right]~ +~} \\\underset{\substack{z_{\text {rand }} \sim p_{\mathrm{z}} \\d_{\text {rand}} \sim p_{d}}}{\mathbb{E}}{\left[\operatorname{softplus}\left(l_{\text {gen}}\right)~ + ~\right.}\left.\lambda_{\text {pos}}\left\|d_{\text {rand}}-d_{\text{gen}}\right\|_{2}^{2}\right]\end{aligned}\]</span> Where $ _{pos}$ is the fine-tuning weight factor.</p><p><strong>4. GAN inversion objectiveï¼ˆGANåæ¼”ï¼‰</strong></p><p>â€‹ Jointly optimizing the encoder E and discriminator D while freezingthe generator G, the goal is to ensure consistency between the sampledcontent and pose and the content and pose extracted by the encoder fromthe generated images (bottom-left). <span class="math display">\[z_{pred}, ~ d_{pred} ~ = ~E(I_{gen})\]</span> GAN inversion is performed using the <code>MSE</code> lossfunction: <span class="math display">\[\begin{array}{r}\mathcal{L}_{\mathrm{GAN}^{-1}}(E)=\underset{\substack{z_{\text {rand }}\sim p_{\mathrm{z}} \\d_{\text {rand }} \sim p_{d}}}{\mathbb{E}}\left[\left\|z_{\text {pred}}-z_{\text {rand }}\right\|_{2}^{2} ~+ ~\right.\left.\left\|d_{\text {pred }}-d_{\text {rand }}\right\|_{2}^{2}\right]\end{array}\]</span> <strong>5. Reconstruction objectiveï¼ˆé‡å»ºï¼‰</strong></p><p>â€‹ By using the encoder E to extract its latent code and posepredictions, adjusting the generator G on real images, and renderingtheir views using the predicted poses, the goal is to promote structuralconsistency in the image space and make the images clearer(top-right).</p><p><span class="math display">\[z_{pred}, ~ d_{pred} ~ = ~ E(I_{real}) \\I_{recon} ~ = ~ G(z_{pred}, ~ d_{pred})\]</span></p><p>The reconstruction loss function, improved based on <code>MSE</code>,is as follows:</p><p><span class="math display">\[\begin{array}{r}\mathcal{L}_{\text {recon }}(G, E)=\underset{\begin{array}{c}{I_{real} } \sim { p_{real} }\end{array}}{\mathbb{E}}\left[\left\|I_{\text {recon }}-I_{\text {real}}\right\|_{2}^{2} ~ + ~\right. \\\lambda_{\text {ssim }} \mathcal{L}_{\text {ssim }}\left(I_{\text {recon}}, I_{\text {real }}\right) ~ + \\\left.\lambda_{\text {vgg }} \mathcal{L}_{\text {vgg }}\left(I_{\text{recon }}, I_{\text {real }}\right)\right]\end{array}\]</span></p><p>Where <span class="math inline">\(\mathcal{L}_{ssim}\)</span> is theSSIM loss, and <span class="math inline">\(\lambda_{ssim}\)</span> isthe weight factor for the SSIM loss, while <spanclass="math inline">\(\mathcal{L}_{vgg}\)</span> is the VGG perceptualloss, and <span class="math inline">\(\lambda_{vgg}\)</span> is itsweight factor.</p><p><strong>6. Conditional adversarialobjectiveï¼ˆæ¡ä»¶å¯¹æŠ—ç½‘ç»œï¼‰</strong></p><p>â€‹ The reconstruction objective aims to improve the quality ofwell-reconstructed individual views extracted by the encoder E. This maylead to a tendency for the network to predict unimportant poses or makeunrealistic predictions for the reconstruction of other poses extractedfrom <span class="math inline">\(p_d\)</span>. To mitigate this issue,an additional adversarial objective is applied when the generatorrenders an image <span class="math inline">\(I_{real}\)</span> underrandom poses:</p><p><span class="math display">\[l_{cond}, ~ d_{cond} ~=~D^*(G(z_{pred}, ~d_{rand}))\]</span></p><p>The loss function for this conditional adversarial objective is:</p><p><span class="math display">\[\mathcal{L}_{cond}(G, ~E) ~=~\underset{\substack{\substack{I_{real}\sim p_{real}} \\d_{rand} \sim p_d}}{\mathbb{E}}\left[\operatorname{softplus}(-l_{cond}) \right]\]</span></p><p>â€‹ This additional adversarial objective helps in ensuring that thegenerated images under random poses are realistic and maintainconsistency with the real image distribution.</p><p><strong>7. Encoder warm-upï¼ˆç¼–ç å™¨é¢„çƒ­ï¼‰</strong></p><p>â€‹ The reconstruction loss can easily dominate and lead to overfittingto input views, potentially causing the model to lose its ability torepresent 3D structures. To address this issue, the authors introduced asimple "pre-warmup" strategy. In the first half of the trainingiterations, the encoder is frozen while optimizing both thereconstruction and conditional adversarial losses. Only the generator isoptimized for these two objectives. This serves as a "pre-warmup" forthe generator to roughly learn the correspondence between encoderoutputs and encoded images. Subsequently, the encoder is unfrozen,allowing it to further refine its learned representations. After thepre-warmup phase, the encoder and generator form a pretrainedautoencoder that can generate representations close to real 3Drepresentations, avoiding the cumbersome early reconstruction objective,which can be challenging to balance with the GAN objective.</p><p>The authors demonstrated the necessity of this strategy throughablation studies and compared it to cases where only a small weight wasallocated to the reconstruction loss. This strategy helps strike abalance between representation learning and reconstruction, ensuringthat the model can effectively capture 3D structures while generatingrealistic images.</p><p><strong>8. Training and Inferenceï¼ˆè®­ç»ƒä¸æ¨æµ‹ï¼‰</strong></p><p>â€‹ The discriminator and GAN inversion objectives are optimized at eachiteration, while the GAN generator objective is optimized every otheriteration. The reconstruction and conditional adversarial objectives arejointly optimized during odd-numbered iterations with a weighting factor<span class="math inline">\(Î»_{recon}\)</span>:</p><p><span class="math display">\[\mathcal{L}_{odd} ~=~ \mathcal{L}_{cond} ~ + ~\lambda_{recon}\mathcal{L}_{recon}\]</span></p><p>â€‹ During the inference phase, Pix2NeRF requires only one input image.This image can be fed into the encoder E, then into the generator G,followed by an arbitrary choice of pose for novel view synthesis.Additionally, sampling from the prior distribution <spanclass="math inline">\(p_z\)</span> can be done instead of obtaining thelatent code z from the encoder. This allows the model to synthesizenovel samples similar to Ï€-GAN.</p><h4 id="experiment">3 Experiment</h4><p><strong>1. Datasets</strong></p><p>CelebA: 200,000 images of ==human faces==, using the <em>aligned</em>version and employing center cropping to capture the approximate facialarea. 8,000 of these images are utilized as a test set.</p><p>CARLA: Comprising 10,000 images with 16 different ==car models==,generated using the CARLA driving simulator with random texturerendering.</p><p>ShapeNet-SRN: This dataset consists of 50 rendering views fromShapeNet, with each instance having an Archimedean spiral camera pose.The training set is filtered by the authors to include only the upperhemisphere since the validation and test sets of the ShapeNet-SRNdataset do not include the lower hemisphere. The authors utilize==chair== segmentation for comparison with previous multi-viewmethods.</p><p><strong>2. Technical details</strong></p><p><code>Baseline:</code> ==Ï€-GAN (PyTorch)==, reusing its generator anddiscriminator architecture.</p><p><code>Parameters:</code> The latent code prior distribution <spanclass="math inline">\(p_z\)</span> is chosen as a multivariate uniformdistribution on [-1, 1]. The discriminator architecture is used as theencoder backbone, and a ==tanh== activation function is added at the endof the latent code head. All models are optimized using the Adamoptimizer for 300,000 iterations. For the CelebA model, training is doneat a resolution of 64x64 with a batch size of 48, and each ray samples24 points. The learning rates for the discriminator, generator, andencoder are set to ==2e-4, 6e-5, and 2e-4==, respectively. For othermodels, training is conducted at a resolution of 32x32, with each raysampling 96 points. The learning rates are set to ==4e-5, 4e-4, and4e-4== for the discriminator, generator, and encoder, respectively.</p><p><strong>3. Comparison of Results</strong></p><figure><img src="3.png?80*80" alt="result" /><figcaption aria-hidden="true">result</figcaption></figure><p><strong>4. Ablation studies</strong></p><p>â€‹ The primary model components compared are: <em>Naive GAN inversion,Auto-encoder, No GAN inversion, No conditional adversarial objective,Warm-up</em>.</p><p><code>Naive GAN inversion:</code>In the naive GAN inversion, apre-trained GAN is used, its weights are frozen, and an encoder istrained to map images to their corresponding latent codes. The resultsshow that the encoder can learn an approximate mapping from images tolatent codes.</p><p><code>Auto-encoder:</code>The architecture of Ï€-GAN is used as anauto-encoder, and the ==latent space is removed from the pipeline==.Only reconstruction and conditional adversarial models are trained. Theresults yield good quality, but noticeable 3D inconsistencies areobserved.</p><p><code>No GAN inversion:</code> After ==removing GAN inversion fromthe pipeline==, the visual results become blurry. This step may be theconnection between Ï€-GAN training and reconstruction, affecting overallperformance.</p><p><code>No conditional adversarial objective:</code> Disabling theconditional adversarial loss and retraining results in incompleterendering, noticeable artifacts, and reduced consistency.</p><p><code>Warm-up:</code> Three models are trained separately withdifferent warm-up strategies: ==no warm-up, no unfreezing of the encoder(always warm), and assigning lower weights for reconstruction instead ofwarming up==. Without a warm-up strategy, it leads to overfitting ofinput views and an inability to generate meaningful content in novelposes. Not unfreezing the encoder results in relatively weakdistillation with few details. Using lower reconstruction weightsinstead of warming up causes the breakdown of patterns in newlyattempted synthesis.</p><h4 id="other">4 Other</h4><ol type="1"><li>Leveraging more mature encoder architectures like Pixel2Style2Pixelin 2D GAN forward inversion may significantly improve the performance ofPix2NeRF.</li></ol>]]></content>
    
    
    <categories>
      
      <category>æ¯å‘¨å›é¡¾</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ€»ç»“&amp;åæ€</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ¯å‘¨æ€»ç»“(23.09.04-23.09.10)</title>
    <link href="/posts/38005/"/>
    <url>/posts/38005/</url>
    
    <content type="html"><![CDATA[<div align='center'><H3>Weekly report</div><p><strong>Date: 23.09.04-23.09.10</strong></p><h3 id="paper">Paper</h3><p><strong>Title:</strong><code>Efficient Geometry-aware 3D Generative Adversarial Networks</code></p><h5 id="method-contribution-related-work.">1 Method, Contribution,Related Work.</h5><p><strong>1.1 Method:</strong></p><p>â€‹ A hybrid explicit-implicit 3D perception network has been designed,utilizing a <em>memory-efficient three-plane representation</em> toexplicitly store features on axis-aligned planes aggregated by a<em>lightweight implicit feature decoder</em>. This approach aims toachieve efficient volume rendering and enhance the computationalefficiency of 3D foundational rendering. It incorporates certain imagespace approximations deviating from traditional 3D foundationalrendering, while introducing a dual-discriminative strategy thatmaintains consistency between neural rendering and the final output toregulate tendencies of view inconsistency.</p><blockquote><p>Explicit representation allows for fast evaluation but requiressubstantial memory, making it challenging to scale to high resolutionsor complex scenes. Implicit representation, while advantageous in termsof memory efficiency and scene complexity, employs large fully connectednetworks for evaluation, leading to slow training speeds. Hence,explicit and implicit representations offer complementary benefits.</p></blockquote><figure><img src="1.png" alt="ä¸‰å¹³é¢æ¨¡å‹" /><figcaption aria-hidden="true">ä¸‰å¹³é¢æ¨¡å‹</figcaption></figure><p><strong>1.2 Contribution:</strong></p><ul><li>Introduced a three-plane-based 3D GAN framework that is bothefficient and expressive, enabling high-resolution geometric perceptionimage synthesis.</li><li>Developed a 3D GAN training strategy that promotes multi-viewconsistency through dual-discrimination and generator pose conditioning,while faithfully modeling pose-related attribute distributions presentin real-world datasets, such as expressions.</li><li>Demonstrated the latest results in unconditional 3D perception imagesynthesis on the FFHQ and AFHQ Cats datasets, as well as high-quality 3Dgeometric graphics learned entirely from 2D outdoor images.</li></ul><p><strong>1.3 Related Work:</strong></p><ol type="1"><li>Neural scene representation and rendering</li></ol><p>â€‹ A new hybrid explicit-implicit 3D perception network has beendesigned, which utilizes a memory-efficient three-plane representationto explicitly store features on axis-aligned planes aggregated by alightweight implicit feature decoder, aiming to achieve efficient volumerendering.</p><ol start="2" type="1"><li>Generative 3D-aware image synthesis</li></ol><p>â€‹ An efficient 3D GAN architecture with a 3D-based prior bias iscrucial for successfully generating high-resolution, view-consistentimages, and high-quality 3D shapes. Therefore, the authors adopted thefollowing approaches:</p><ul><li>Directly leverage a 2D CNN feature generator, namely<em>StyleGAN2</em>.</li><li>The three-plane representation allows this paper's approach toutilize neural volume rendering as a prior bias, making itcomputationally more efficient than fully implicit 3D networks.</li><li>Employing an up-sampling based on 2D CNNs after neural renderingwhile introducing dual discriminators to mitigate view inconsistenciesbrought about by the up-sampling layers.</li></ul><h4 id="model-and-modules">2 Model and Modules</h4><p><strong>2.1 Tri-plane hybrid 3D represnetation</strong></p><p><code>IDEA:</code>Hybrid explicit-implicit tri-planerepresentation.</p><p><code>Implement:</code>Align explicit features along threeaxis-aligned orthogonal feature planes, each with a resolution of NÃ—NÃ—C,where N represents spatial dimensions and C stands for the number ofchannels. To query any 3D position point <em>x</em>, project it onto thethree feature planes to retrieve the corresponding feature vector <spanclass="math inline">\((F_{xy} ~~,~~ F_{xz}~ , ~ F_{yz})\)</span> throughbilinear interpolation and then aggregate these three feature vectors bysummation. Finally, feed this aggregated feature F into a small decoder(MLP) to decode it into color and density.</p><p><strong>2.2 3D GAN framework</strong></p><p><code>IDEA:</code>Train a 3D GAN for collective perception imagesynthesis from 2D photos without the need for any explicit 3D ormulti-view supervision. Simultaneously, use a pre-trained pose detectorto associate each training image with a set of camera intrinsics andextrinsics(<em>Deep3DFaceReconstruction</em>).</p><p><code>Implement &amp;&amp; Overview:</code></p><figure><img src="2.jpg" alt="Overview" /><figcaption aria-hidden="true">Overview</figcaption></figure><blockquote><ol type="a"><li><p>A pose-conditioned StyleGAN2 feature generator and mappingnetwork.</p></li><li><p>Three-plane 3D representation with a lightweight featuredecoder.</p></li><li><p>A neural voxel renderer.</p></li><li><p>A super-resolution module.</p></li><li><p>A pose-conditioned StyleGAN2 discriminator with dualdiscrimination.</p></li></ol></blockquote><p>â€‹ This architecture cleverly decouples feature generation and neuralrendering, enabling the utilization of the powerful StyleGAN2 generatorfor generalizing 3D scenes. Furthermore, the lightweight three-plane 3Drepresentation can effectively convey rich information and achievehigh-quality 3D perception view synthesis in real-time. Additionally, atwo-stage training strategy is employed to accelerate training speed.The first stage involves training with reduced <spanclass="math inline">\((64^2)\)</span> neural rendering resolution, whilethe second stage consists of short-term fine-tuning at full <spanclass="math inline">\((128^2)\)</span> neural rendering resolution.</p><p><strong>2.3 CNN generator backbone and rendering</strong></p><p><code>IDEA:</code>The features of the <em>three-plane representationare generated by the StyleGAN2 CNN generator</em>. Random latent codesand camera parameters are first processed by the mapping network toproduce intermediate latent codes, which are then used to modulate theconvolution kernels of the separately synthesized network.</p><p><code>Implement:</code>Change the output shape of the StyleGAN2backbone network to generate a feature map of dimensions 256Ã—256Ã—96instead of generating a three-channel RGB image. Sample features fromthe three planes and merge the features sampled from these three planes,which are then fed into a lightweight decoder (MLP) with a single hiddenlayer of 64 neurons and the activation function being<em>softplus</em>.</p><p><code>Module:</code> StyleGAN2, MLP</p><p><strong>2.4 Super resolution</strong></p><p><code>IDEA:</code> Perform volume rendering at intermediateresolution <span class="math inline">\((128^2)\)</span> and rely onimage space convolutional upsampling for rendering to image sizes of<span class="math inline">\((256^2 ~ or ~ 512^2)\)</span>.</p><p><code>Implement:</code> Comprised of two blocks modulating theconvolutional layers in StyleGAN2:</p><ul><li>Upsampling, increasing the resolution from 128Ã—128Ã—3 to512Ã—512Ã—3.</li><li>Adapting the 32-channel feature map to the final RGB image.</li></ul><p><strong>2.5 Dual discrimination</strong></p><p><code>IDEA:</code>Utilize the StyleGAN2 discriminator and made it twomodifications.</p><p><code>Implement:</code> A) Interpret the feature map as alow-resolution RGB image. The dual discriminator ensures consistencybetween low-resolution RGB images and high-resolution images byupsampling them using bilinear interpolation to the same 512Ã—512Ã—3 sizeand concatenating them with the adjusted <spanclass="math inline">\((I^+_{RGB})\)</span>, resulting in a 6-channelimage. B) Concatenate the input 3-channel RGB image with itsappropriately blurred counterpart to form a 6-channel image as the inputto the discriminator.</p><p><code>Module:</code>StyleGAN2-ADA strategy</p><blockquote><p>StyleGAN2-ADA Strategy: Pass the camera's intrinsic and extrinsicmatrices (P) to the discriminator as conditional labels. This modulationintroduces additional information to guide the generator in learning thecorrect 3D priors.</p></blockquote><p><strong>2.6 Modeling pose-correlated attributions</strong></p><p><code>IDEA:</code>Introduced <em>generator pose conditioning</em> asa means to model and decouple the correlation between observed poses andother attributes in the training images.</p><p><code>Implement:</code>Following the StyleGAN2-ADA conditionalgeneration strategy, propose a backbone mapping network that not onlyprovides a latent code z but also takes camera parameters P asinput.</p><h4 id="other-details">3 Other details</h4><p><strong>3.1 Pose Estimators</strong></p><p>â€‹ Augment the dataset using horizontal flipping and utilizepre-existing pose estimation to extract approximate camera extrinsicparameters.</p><blockquote><p>Pre-existing pose estimation methods:</p><ol type="1"><li>https://github.com/Microsoft/Deep3DFaceReconstruction for generatingpose data for faces (FFHQ).</li><li>https://github.com/kairess/cat_hipsterizer for generating pose datafor cats (AFHQv2 Cats).</li></ol></blockquote><h3 id="other-work">Other Work</h3><p>â€‹ To read the code of this paper, especially the pose estimators andrun these code in the two links. Then I've been learning about StyleGAN2to understand methods in this paper better.Summray</p><p>â€‹é˜…è¯»äº†ä¸€ç¯‡è®ºæ–‡<code>Efficient Geometry-aware 3D Generative Adversarial Networks</code>ï¼Œå¹¶å°†ä¸Šæ¬¡çš„è®ºæ–‡é‡æ–°æ€»ç»“äº†ä¸€ä¸‹ã€‚å»äº†è§£è¿è¡Œäº†å§¿æ€ä¼°è®¡çš„ä»£ç ï¼Œå¹¶ä¸”å»äº†è§£äº†StyleGAN2çš„ä¸€äº›æ€æƒ³ï¼Œå’ŒStyleGAN2-ADAè‡ªé€‚åº”å¢å¼ºç­‰ä¸€äº›çŸ¥è¯†ã€‚</p><h3 id="paper-1">Paper</h3><h4id="title-efficient-geometry-aware-3d-generative-adversarial-networks"><strong>Title:</strong><code>Efficient Geometry-aware 3D Generative Adversarial Networks</code></h4><h5 id="ä¸€æå‡ºçš„æ–¹æ³•è´¡çŒ®ç›¸å…³å·¥ä½œ">ä¸€ã€æå‡ºçš„æ–¹æ³•ã€è´¡çŒ®ã€ç›¸å…³å·¥ä½œ</h5><p><strong>1.æ–¹æ³•ï¼š</strong></p><p>â€‹è®¾è®¡äº†ä¸€ç§æ··åˆæ˜¾å¼-éšå¼3Dæ„ŸçŸ¥ç½‘ç»œï¼Œè¯¥ç½‘ç»œä½¿ç”¨å†…å­˜é«˜æ•ˆçš„<code>ä¸‰å¹³é¢è¡¨ç¤ºæ˜¾å¼åœ°</code>å­˜å‚¨ç”±è½»é‡çº§<code>éšå¼ç‰¹å¾è§£ç å™¨èšåˆ</code>çš„è½´å¯¹é½å¹³é¢ä¸Šçš„ç‰¹å¾ï¼Œä»¥å®ç°é«˜æ•ˆçš„ä½“ç»˜åˆ¶ï¼Œæé«˜äº†3DåŸºç¡€æ¸²æŸ“çš„è®¡ç®—æ•ˆç‡ã€‚ä½¿ç”¨äº†ä¸€äº›åç¦»3DåŸºç¡€æ¸²æŸ“çš„å›¾åƒç©ºé—´è¿‘ä¼¼ï¼ŒåŒæ—¶å¼•å…¥äº†ä¸€ç§åŒé‡åˆ¤åˆ«ç­–ç•¥ï¼Œè¯¥ç­–ç•¥ä¿æŒç¥ç»æ¸²æŸ“å’Œæœ€ç»ˆè¾“å‡ºä¹‹é—´çš„ä¸€è‡´æ€§ï¼Œä»¥è§„èŒƒå…¶è§†å›¾ä¸ä¸€è‡´çš„è¶‹åŠ¿ã€‚</p><blockquote><p>æ˜¾å¼è¡¨ç¤ºå¯ä»¥è¿›è¡Œå¿«é€Ÿè¯„ä¼°ï¼Œä½†æ˜¯éœ€è¦å¾ˆå¤§çš„å†…å­˜ï¼Œä½¿å¾—è¿™ç§æ–¹å¼éš¾ä»¥æ‰©å±•åˆ°é«˜åˆ†è¾¨ç‡æˆ–å¤æ‚åœºæ™¯ã€‚éšå¼è¡¨ç¤ºè™½ç„¶åœ¨å†…å­˜æ•ˆç‡å’Œåœºæ™¯å¤æ‚æ€§æ–¹é¢æœ‰ä¼˜åŠ¿ï¼Œä½†æ˜¯è¿™ç§æ–¹æ³•ä½¿ç”¨å¤§å‹çš„å…¨è¿æ¥ç½‘ç»œè¿›è¡Œè¯„ä¼°ï¼Œä½¿å¾—è®­ç»ƒé€Ÿåº¦ç¼“æ…¢ã€‚å› æ­¤ï¼Œæ˜¾å¼å’Œéšå¼è¡¨ç¤ºæä¾›äº†äº’è¡¥çš„å¥½å¤„ã€‚</p></blockquote><figure><img src="1.png" alt="ä¸‰å¹³é¢æ¨¡å‹" /><figcaption aria-hidden="true">ä¸‰å¹³é¢æ¨¡å‹</figcaption></figure><p><strong>2.è´¡çŒ®ï¼š</strong></p><ul><li>å¼•å…¥äº†ä¸€ä¸ªåŸºäºä¸‰å¹³é¢çš„3DGANæ¡†æ¶ï¼Œè¯¥æ¡†æ¶æ—¢é«˜æ•ˆåˆå¯Œæœ‰è¡¨ç°åŠ›ï¼Œä»¥å®ç°é«˜åˆ†è¾¨ç‡å‡ ä½•æ„ŸçŸ¥å›¾åƒåˆæˆã€‚</li><li>å¼€å‘äº†ä¸€ç§3DGANè®­ç»ƒç­–ç•¥ï¼Œé€šè¿‡åŒé‡åˆ¤åˆ«å’Œç”Ÿæˆå™¨å§¿åŠ¿æ¡ä»¶ä¿ƒè¿›å¤šè§†å›¾ä¸€è‡´æ€§ï¼ŒåŒæ—¶å¿ å®åœ°å»ºæ¨¡ç°å®ä¸–ç•Œæ•°æ®é›†ä¸­å­˜åœ¨çš„å§¿åŠ¿ç›¸å…³å±æ€§åˆ†å¸ƒï¼ˆä¾‹å¦‚è¡¨è¾¾å¼ï¼‰ã€‚</li><li>å±•ç¤ºäº†åœ¨FFHQå’ŒAFHQCatsæ•°æ®é›†ä¸Šæ— æ¡ä»¶3Dæ„ŸçŸ¥å›¾åƒåˆæˆçš„æœ€æ–°ç»“æœï¼Œä»¥åŠå®Œå…¨ä»2Dé‡å¤–å›¾åƒä¸­å­¦ä¹ çš„é«˜è´¨é‡3Då‡ ä½•å›¾å½¢ã€‚</li></ul><p><strong>3.ç›¸å…³å·¥ä½œï¼š</strong></p><p>â€‹ 1ï¼‰Neural scene representation and rendering(ç¥ç»åœºæ™¯è¡¨ç¤ºå’Œæ¸²æŸ“)</p><p>â€‹è®¾è®¡äº†ä¸€ç§æ–°çš„æ··åˆæ˜¾å¼éšå¼3Dæ„ŸçŸ¥ç½‘ç»œï¼Œè¯¥ç½‘ç»œä½¿ç”¨å†…å­˜é«˜æ•ˆçš„ä¸‰å¹³é¢è¡¨ç¤ºæ˜¾å¼åœ°å­˜å‚¨ç”±è½»é‡çº§éšå¼ç‰¹å¾è§£ç å™¨èšåˆçš„è½´å¯¹é½å¹³é¢ä¸Šçš„ç‰¹å¾ï¼Œä»¥å®ç°é«˜æ•ˆçš„ä½“ç»˜åˆ¶</p><p>â€‹ 2ï¼‰Generative 3D-aware image synthesis(ç”Ÿæˆå¼3Dæ„ŸçŸ¥å›¾åƒåˆæˆ)</p><p>â€‹ å…·æœ‰åŸºäº3Dçš„å…ˆéªŒåå·®çš„é«˜æ•ˆ3DGANæ¶æ„å¯¹äºæˆåŠŸç”Ÿæˆé«˜åˆ†è¾¨ç‡è§†å›¾ä¸€è‡´å›¾åƒå’Œé«˜è´¨é‡3Då½¢çŠ¶è‡³å…³é‡è¦ã€‚æ‰€ä»¥ä½œè€…é‡‡ç”¨äº†ä»¥ä¸‹æ–¹æ³•ï¼š</p><p>â€‹ a. ç›´æ¥åˆ©ç”¨åŸºäº2D CNNç‰¹å¾ç”Ÿæˆå™¨ï¼Œå³<code>StyleGAN2</code>ã€‚</p><p>â€‹ b.ä¸‰å¹³é¢è¡¨ç¤ºä½¿å¾—è¯¥è®ºæ–‡çš„æ–¹æ³•èƒ½åˆ©ç”¨ç¥ç»ä½“æ¸²æŸ“ä½œä¸ºå…ˆéªŒåå·®ï¼Œåœ¨è®¡ç®—ä¸Šæ¯”å®Œå…¨éšå¼3Dç½‘ç»œæ›´æœ‰æ•ˆã€‚</p><p>â€‹ c. åœ¨ç¥ç»æ¸²æŸ“åé‡‡ç”¨åŸºäº2DCNNçš„å‘ä¸Šé‡‡æ ·ï¼ŒåŒæ—¶å¼•å…¥åŒé‡è¾¨åˆ«å™¨å»é¿å…ä¸Šé‡‡æ ·å±‚å¸¦æ¥çš„è§†å›¾ä¸ä¸€è‡´ã€‚</p><h5 id="äºŒæ¨¡å‹ä¸æ¨¡å—">äºŒã€æ¨¡å‹ä¸æ¨¡å—</h5><p><strong>1. Tri-plane hybrid 3Drepresentation(Tri-planeæ··åˆ3Dè¡¨ç¤º)</strong></p><p><code>æ€æƒ³ï¼š</code>hybrid explicit-implicit tri-planerepresentation(æ··åˆæ˜¾å¼-éšå¼ä¸‰å¹³é¢è¡¨ç¤º)ã€‚</p><p><code>å®ç°ï¼š</code>æ²¿ç€ä¸‰ä¸ªè½´å¯¹é½çš„æ­£äº¤ç‰¹å¾å¹³é¢å¯¹é½æ˜¾å¼ç‰¹å¾ï¼Œæ¯ä¸ªç‰¹å¾å¹³é¢çš„åˆ†è¾¨ç‡å‡ä¸ºNÃ—NÃ—Cï¼ŒNä¸ºç©ºé—´ç»´åº¦ï¼ŒCä¸ºé€šé“æ•°ã€‚é€šè¿‡å°†3Dä½ç½®æŠ•å½±åˆ°ä¸‰ä¸ªç‰¹å¾å¹³é¢ä¸­æ¥æŸ¥è¯¢ä»»ä½•3Dä½ç½®ç‚¹<code>x</code>ï¼Œé€šè¿‡åŒçº¿æ€§æ’å€¼æ£€ç´¢ç›¸åº”çš„ç‰¹å¾å‘é‡<spanclass="math inline">\((F_{xy} ~,~ F_{xz}~ , ~F_{yz})\)</span>ï¼Œç„¶åé€šè¿‡æ±‚å’Œæ¥æ±‡æ€»è¿™ä¸‰ä¸ªç‰¹å¾å‘é‡ã€‚æœ€åå°†è¿™ä¸ªæ±‡æ€»çš„ç‰¹å¾Fè¾“å…¥åˆ°ä¸€ä¸ªå°å‹è§£ç å™¨(MLP)æ¥è§£ç ä¸ºé¢œè‰²å’Œå¯†åº¦ã€‚</p><p><code>æ¨¡å—ï¼š</code>å°å‹MLPç½‘ç»œã€‚</p><p><strong>2. 3D GAN framework(3D GANæ¡†æ¶)</strong></p><p><code>æ€æƒ³ï¼š</code>è®­ç»ƒä¸€ä¸ª3DGANï¼Œç”¨äºä»2Dç…§ç‰‡ä¸­è¿›è¡Œé›†åˆæ„ŸçŸ¥å›¾åƒåˆæˆï¼Œè€Œæ— éœ€ä»»ä½•æ˜¾å¼3Dæˆ–è€…å¤šè§†å›¾ç›‘ç£ã€‚åŒæ—¶ä½¿ç”¨ç°æˆçš„å§¿æ€æ£€æµ‹å™¨ï¼Œå°†æ¯ä¸ªè®­ç»ƒå›¾åƒä¸ä¸€ç»„ç›¸æœºå†…å‚å’Œå¤–å‚ç›¸å…³è”(<code>Deep3DFaceReconstruction</code>)ã€‚</p><p><code>å®ç°/Overview:</code></p><figure><img src="2.jpg" alt="Overview" /><figcaption aria-hidden="true">Overview</figcaption></figure><blockquote><p>â€‹ a. ä¸€ä¸ªåŸºäºå§¿æ€æ¡ä»¶çš„StyleGAN2ç‰¹å¾ç”Ÿæˆå™¨å’Œæ˜ å°„ç½‘ç»œã€‚</p><p>â€‹ b. ä¸€ä¸ªå…·æœ‰è½»é‡çº§ç‰¹å¾è§£ç å™¨çš„ä¸‰å¹³é¢3Dè¡¨ç¤ºã€‚</p><p>â€‹ c. ä¸€ä¸ªç¥ç»ä½“ç´ æ¸²æŸ“å™¨ã€‚</p><p>â€‹ d. ä¸€ä¸ªè¶…åˆ†è¾¨ç‡æ¨¡å—ã€‚</p><p>â€‹ e. ä¸€ä¸ªåŸºäºå§¿æ€æ¡ä»¶çš„å…·æœ‰åŒé‡è¾¨åˆ«çš„StyleGAN2è¾¨åˆ«å™¨ã€‚</p></blockquote><p>â€‹è¿™ä¸ªæ¶æ„å·§å¦™åœ°å°†ç‰¹å¾ç”Ÿæˆå’Œç¥ç»æ¸²æŸ“è§£è€¦ï¼Œä½¿å¾—å¯ä»¥åˆ©ç”¨å¼ºå¤§çš„StyleGAN2ç”Ÿæˆå™¨è¿›è¡Œ3Dåœºæ™¯çš„æ³›åŒ–ã€‚æ­¤å¤–ï¼Œè½»é‡çº§çš„ä¸‰å¹³é¢3Dè¡¨ç¤ºæ—¢èƒ½å¤Ÿè¡¨è¾¾ä¸°å¯Œçš„ä¿¡æ¯ï¼Œåˆèƒ½å¤Ÿåœ¨å®æ—¶ä¸­å®ç°é«˜è´¨é‡çš„3Dæ„ŸçŸ¥è§†å›¾åˆæˆã€‚åŒæ—¶ï¼Œé‡‡ç”¨ä¸¤é˜¶æ®µè®­ç»ƒç­–ç•¥åŠ é€Ÿè®­ç»ƒé€Ÿåº¦ã€‚ç¬¬ä¸€ä¸ªé˜¶æ®µï¼šä½¿ç”¨å‡å°‘<spanclass="math inline">\((64^2)\)</span>ç¥ç»æ¸²æŸ“åˆ†è¾¨ç‡è¿›è¡Œè®­ç»ƒï¼›ç¬¬äºŒä¸ªé˜¶æ®µï¼šåœ¨å®Œå…¨<spanclass="math inline">\((128^2)\)</span>ç¥ç»æ¸²æŸ“åˆ†è¾¨ç‡ä¸Šçš„çŸ­æœŸå¾®è°ƒã€‚</p><p><strong>3. CNN generator backbone andrendering(CNNç”Ÿæˆå™¨ä¸»å¹²å’Œæ¸²æŸ“)</strong></p><p><code>æ€æƒ³ï¼š</code>ç”±<code>StyleGAN2 CNNç”Ÿæˆå™¨ç”Ÿæˆä¸‰å¹³é¢è¡¨ç¤ºçš„ç‰¹å¾</code>ã€‚éšæœºæ½œåœ¨ä»£ç å’Œç›¸æœºå‚æ•°é¦–å…ˆç”±æ˜ å°„ç½‘ç»œå¤„ç†ä»¥äº§ç”Ÿä¸­é—´æ½œåœ¨ä»£ç ï¼Œç„¶åè°ƒåˆ¶å•ç‹¬åˆæˆç½‘ç»œçš„å·ç§¯æ ¸ã€‚</p><p><code>å®ç°ï¼š</code>æ”¹å˜StyleGAN2ä¸»å¹²ç½‘ç»œçš„è¾“å‡ºå½¢çŠ¶ï¼Œä¸æ˜¯ç”Ÿæˆä¸‰é€šé“RGBå›¾åƒï¼Œè€Œæ˜¯ç”Ÿæˆä¸€ä¸ª256Ã—256Ã—96çš„ç‰¹å¾å›¾åƒã€‚ä»ä¸‰å¹³é¢é‡‡æ ·ç‰¹å¾ï¼Œå¹¶èæ±‡ä»ä¸‰ä¸ªå¹³é¢é‡‡æ ·çš„ç‰¹å¾ï¼Œè¾“å…¥åˆ°è½»é‡çº§è§£ç å™¨(MLPï¼Œ64ä¸ªç¥ç»å…ƒçš„å•ä¸ªéšè—å±‚ï¼Œæ¿€æ´»å‡½æ•°ï¼šsoftplus)ã€‚</p><p><code>æ¨¡å—ï¼š</code>StyleGAN2ã€MLP</p><p><strong>4. Super resolution(è¶…åˆ†è¾¨ç‡)</strong></p><p><code>æ€æƒ³ï¼š</code>ä½¿ç”¨ä¸­ç­‰åˆ†è¾¨ç‡<spanclass="math inline">\((128^2)\)</span>è¿›è¡Œä½“æ¸²æŸ“ï¼Œå¹¶ä¾é å›¾åƒç©ºé—´å·ç§¯ä¸Šé‡‡æ ·ç¥ç»æ¸²æŸ“åˆ°<spanclass="math inline">\((256^2 ~ or ~ 512^2)\)</span>å›¾åƒå¤§å°ã€‚</p><p><code>å®ç°ï¼š</code>ç”±StyleGAN2è°ƒåˆ¶å·ç§¯å±‚çš„ä¸¤ä¸ªå—ç»„æˆã€‚1ï¼‰ä¸Šé‡‡æ ·ï¼Œå°†128Ã—128Ã—3åˆ†è¾¨ç‡æé«˜åˆ°512Ã—512Ã—3çš„åˆ†è¾¨ç‡ã€‚2ï¼‰è°ƒæ•´32é€šé“ç‰¹å¾å›¾åˆ°æœ€ç»ˆçš„RGBå›¾åƒã€‚</p><p><strong>5. Dual discrimination(åŒé‡è¾¨åˆ«å™¨)</strong></p><p><code>æ€æƒ³ï¼š</code>ä½¿ç”¨StyleGAN2çš„è¾¨åˆ«å™¨ï¼Œå¹¶è¿›è¡Œäº†ä¸¤æ¬¡ä¿®æ”¹ã€‚</p><p><code>å®ç°ï¼š</code>1ï¼‰å°†ç‰¹å¾å›¾è§£é‡Šä¸ºä½åˆ†è¾¨ç‡RGBå›¾åƒã€‚åŒé‡è¾¨åˆ«å™¨ç¡®ä¿ä½åˆ†è¾¨ç‡RGBå›¾åƒä¸é«˜åˆ†è¾¨ç‡å›¾åƒçš„ä¸€è‡´æ€§ï¼Œé€šè¿‡åŒçº¿æ€§ä¸Šé‡‡æ ·æˆåŒæ ·512Ã—512Ã—3å›¾åƒå¹¶ä¸è°ƒæ•´åçš„<spanclass="math inline">\((I^+_{RGB})\)</span>è¿›è¡Œè¿æ¥å˜æˆ6é€šé“å›¾åƒã€‚2ï¼‰å°†è¾“å…¥çš„3é€šé“RGBå›¾åƒä¸å…¶é€‚å½“æ¨¡ç³Šåçš„å›¾åƒè¿›è¡Œè¿æ¥ï¼Œå˜æˆ6é€šé“å›¾åƒä½œä¸ºè¾¨åˆ«å™¨çš„è¾“å…¥ã€‚</p><p><code>æ¨¡å—ï¼š</code>StyleGAN2-ADAç­–ç•¥</p><blockquote><p>â€‹StyleGAN2-ADAç­–ç•¥ï¼šå°†æ¸²æŸ“ç›¸æœºçš„å†…å¤–çŸ©é˜µ(P)ä¼ é€’ç»™é‰´åˆ«å™¨ä½œä¸ºæ¡ä»¶æ ‡ç­¾ã€‚è¿™ç§è°ƒèŠ‚å¼•å…¥äº†é¢å¤–çš„ä¿¡æ¯ï¼ŒæŒ‡å¯¼ç”Ÿæˆå™¨å­¦ä¹ æ­£ç¡®çš„3Då…ˆéªŒã€‚</p></blockquote><p><strong>6. Modeling pose-correlatedattributes(å»ºæ¨¡å§¿æ€ç›¸å…³å±æ€§)</strong></p><p><code>æ€æƒ³ï¼š</code>å¼•å…¥äº†<code>generator pose conditioning(ç”Ÿæˆå™¨å§¿åŠ¿æ¡ä»¶)</code>ä½œä¸ºå»ºæ¨¡å’Œè§£è€¦è®­ç»ƒå›¾åƒä¸­è§‚å¯Ÿåˆ°çš„å§¿åŠ¿ä¸å…¶ä»–å±æ€§ä¹‹é—´çš„ç›¸å…³æ€§çš„ä¸€ç§æ‰‹æ®µã€‚</p><p><code>å®ç°ï¼š</code>æŒ‰ç…§StyleGAN2-ADAæ¡ä»¶ç”Ÿæˆç­–ç•¥ï¼Œæå‡ºä¸€ä¸ªä¸»å¹²æ˜ å°„ç½‘ç»œï¼Œä¸ä»…æä¾›ä¸€ä¸ªæ½œåœ¨ä»£ç zï¼ŒåŒæ—¶æä¾›ç›¸æœºå‚æ•°Pä½œä¸ºè¾“å…¥ã€‚</p><h5 id="ä¸‰å…¶ä»–ç»†èŠ‚">ä¸‰ã€å…¶ä»–ç»†èŠ‚</h5><p><strong>1. Pose Estimators(å§¿æ€ä¼°è®¡)</strong></p><p>â€‹ç”¨æ°´å¹³ç¿»è½¬çš„æ–¹æ³•æ¥æ‰©å……æ•°æ®é›†ï¼Œå¹¶ä½¿ç”¨ç°æˆçš„å§¿æ€ä¼°è®¡æ¥æå–è¿‘ä¼¼çš„ç›¸æœºå¤–éƒ¨å‚æ•°ã€‚</p><blockquote><p>ç°æˆçš„å§¿æ€ä¼°è®¡æ–¹æ³•ï¼š</p><p>1ï¼‰https://github.com/Microsoft/Deep3DFaceReconstructionï¼Œç”¨æ¥ç”Ÿæˆè„¸çš„æ•°æ®é›†çš„å§¿æ€(FFHQ)ã€‚</p><p>2ï¼‰https://github.com/kairess/cat_hipsterizerï¼Œç”¨æ¥ç”ŸæˆçŒ«çš„æ•°æ®é›†çš„å§¿æ€(AFHQv2Cats)ã€‚</p></blockquote><h4id="titileshape-pose-and-appearance-from-a-single-image-via-bootstrapped-radiance-field-inversion">Titileï¼š<code>Shape, Pose, and Appearance from a Single Image via Bootstrapped Radiance Field Inversion</code></h4><h5 id="ä¸€æå‡ºçš„æ–¹æ³•ä¸è´¡çŒ®">ä¸€ã€æå‡ºçš„æ–¹æ³•ä¸è´¡çŒ®</h5><p><strong>1.æ–¹æ³•ï¼š</strong></p><p>â€‹ä½œè€…æå‡ºäº†ä¸€ç§æ–°çš„æ–¹æ³•ï¼Œå°†æ— æ¡ä»¶ç”Ÿæˆæ¨¡å‹ä¸æ··åˆåæ¼”èŒƒå¼ç›¸ç»“åˆï¼Œä»å•ä¸ªå›¾åƒä¸­æ¢å¤ä¸‰ç»´ä¿¡æ¯ã€‚å…·ä½“æ¥è¯´ï¼Œä»–ä»¬ä½¿ç”¨ç¥ç»è¾å°„åœºï¼ˆNeRFï¼‰æ¥è¡¨ç¤ºä¸‰ç»´åœºæ™¯ï¼Œå¹¶ä½¿ç”¨ç¼–ç å™¨äº§ç”Ÿæ½œåœ¨è¡¨ç¤ºå’Œå§¿æ€çš„ç¬¬ä¸€ä¸ªçŒœæµ‹ã€‚ç„¶åï¼Œä»–ä»¬é€šè¿‡ä¼˜åŒ–æ¥ç»†åŒ–è¿™äº›åˆå§‹ä¼°è®¡ï¼Œä»¥è·å¾—æ›´å‡†ç¡®çš„é‡å»ºã€‚</p><p><strong>2.è´¡çŒ®ï¼š</strong></p><ul><li>å¼•å…¥äº†ä¸€ä¸ªåŸºäºNeRFçš„ç«¯åˆ°ç«¯å•è§†å›¾ä¸‰ç»´é‡å»ºç®¡é“ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬æˆåŠŸåœ°å±•ç¤ºäº†CMRåŸºå‡†ä¸‹è‡ªç„¶å›¾åƒçš„<spanclass="math inline">\(360^â—¦\)</span>å¯¹è±¡é‡å»ºã€‚</li><li>æå‡ºäº†ä¸€ç§ç”¨äºNeRFçš„æ··åˆåæ¼”æ–¹æ¡ˆï¼Œä»¥åŠ å¿«é¢„è®­ç»ƒçš„3Dæ„ŸçŸ¥ç”Ÿæˆå™¨çš„åè½¬ã€‚</li><li>å—å§¿æ€ä¼°è®¡æ–‡çŒ®çš„å¯å‘ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§åŸºäºPnPçš„å§¿æ€ä¼°è®¡å™¨ï¼Œå®ƒåˆ©ç”¨æˆ‘ä»¬çš„æ¡†æ¶å¹¶ä¸”ä¸éœ€è¦é¢å¤–çš„æ•°æ®å‡è®¾ã€‚</li></ul><h5 id="äºŒæ¨¡å‹ä¸æ¨¡å—-1">äºŒã€æ¨¡å‹ä¸æ¨¡å—</h5><p><strong>1. Unconditional generatorpre-trainingï¼ˆæ— æ¡ä»¶ç”Ÿæˆå™¨é¢„è®­ç»ƒæ¡†æ¶ï¼‰</strong></p><figure><img src="3.png" alt="æ— æ¡ä»¶ç”Ÿæˆå™¨" /><figcaption aria-hidden="true">æ— æ¡ä»¶ç”Ÿæˆå™¨</figcaption></figure><p><code>æ€æƒ³ï¼š</code>ä¸»è¦æ€æƒ³æ¥è‡ªEG3Dçš„ä¸»å¹²ç½‘ç»œï¼Œä¸‰å¹³é¢ç¼–ç ã€‚<code>è¯¥éƒ¨åˆ†è¢«æ¡†æ¶ä½¿ç”¨åŸºäºNeRFçš„ç”Ÿæˆå™¨Gä¸2Då›¾åƒé‰´åˆ«å™¨ç›¸ç»“åˆã€‚</code></p><p><code>æ¨¡å—ï¼š</code>StyleGAN2ï¼ŒSDF representationï¼ŒAttention-basedcolor mappingï¼ŒPath Length Regularization revisitedã€‚</p><blockquote><p>StyleGAN2ï¼šç”Ÿæˆæ¨¡å‹ï¼ŒSDF representationï¼š3Dè¡¨ç¤ºï¼Œ</p><p><strong>Attention-based color mappingï¼šæé«˜é¢œè‰²æ³›åŒ–æ€§, Path LengthRegularizationrevisitedï¼šä½¿ä¸‰å¹³é¢è§£ç å™¨ä¸æ­£åˆ™åŒ–ï¼Œæé«˜å­¦ä¹ ç‡ã€‚</strong></p></blockquote><p><strong>2. Bootstrapping and poseestimationï¼ˆè‡ªä¸¾å’Œå§¿æ€ä¼°è®¡ï¼‰</strong></p><figure><img src="4.png" alt="å§¿æ€ä¼°è®¡" /><figcaption aria-hidden="true">å§¿æ€ä¼°è®¡</figcaption></figure><p><code>æ€æƒ³ï¼š</code>ä¸»è¦æ€æƒ³æ¥è‡ªNOCSï¼Œ<code>æ”¹è¿›ï¼šæ˜¯ä½¿ç”¨ä»æ— æ¡ä»¶ç”Ÿæˆå™¨ç”Ÿæˆçš„æ•°æ®æ¥è®­ç»ƒç¼–ç å™¨è€Œä¸æ˜¯æ‰‹å·¥æ•°æ®ã€‚</code></p><p><code>å®ç°ï¼š</code>1ï¼‰å†»ç»“Gå¹¶è®­ç»ƒå›¾åƒç¼–ç å™¨Eï¼Œè”åˆä¼°è®¡å¯¹è±¡çš„å§¿åŠ¿åŠå…¶æ½œåœ¨ä»£ç ï¼ˆè‡ªä¸¾ï¼‰çš„åˆå§‹çŒœæµ‹ã€‚2ï¼‰å¯¹äºå§¿æ€ä¼°è®¡ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†ä¸€ç§åŸåˆ™æ€§çš„æ–¹æ³•æ¥é¢„æµ‹å±å¹•ç©ºé—´ä¸­çš„è§„èŒƒæ˜ å°„é€šè¿‡é€è§†nç‚¹(PnP)ç®—æ³•ã€‚<code>è¾“å…¥çœŸå®å›¾åƒï¼Œå°†é¢„æµ‹çš„è§„èŒƒæ˜ å°„è½¬æ¢ä¸ºç‚¹äº‘ï¼Œå¹¶è¿è¡ŒPnPæ±‚è§£å™¨æ¥æ¢å¤æ‰€æœ‰å§¿æ€å‚æ•°(è§†å›¾çŸ©é˜µå’Œç„¦è·)ã€‚</code></p><p><code>æ¨¡å—ï¼š</code>SegFormer</p><blockquote><p><strong>è®­ç»ƒSegFormerç½‘ç»œæ¥ä»RGBå›¾åƒä¸­é¢„æµ‹è§„èŒƒå›¾å’Œlatent codew</strong></p></blockquote><p><strong>SegFormeråˆ†å‰²ç½‘ç»œå›¾ï¼š</strong></p><figure><img src="5.png" alt="åˆ†å‰²ç½‘ç»œ" /><figcaption aria-hidden="true">åˆ†å‰²ç½‘ç»œ</figcaption></figure><p><strong>3. Reconstruction via hybrid GANinversionï¼ˆé€šè¿‡æ··åˆGANåæ¼”é‡å»ºï¼‰</strong></p><figure><img src="6.png" alt="æ··åˆåæ¼”" /><figcaption aria-hidden="true">æ··åˆåæ¼”</figcaption></figure><p>é€šè¿‡åŸºäºæ¢¯åº¦çš„ä¼˜åŒ–(æ··åˆåæ¼”)æ”¹è¿›äº†å‡ ä¸ªæ­¥éª¤çš„å§¿æ€å’Œæ½œåœ¨ä»£ç ã€‚æŸå¤±å‡½æ•°ï¼šVGG</p><p><code>æ¨¡å—ï¼š</code>adaptive discriminator augmentation(ADA)</p><blockquote><p>æœ‰åŠ©äºå‡å°‘æ¢¯åº¦çš„æ–¹å·®ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿè¿›ä¸€æ­¥æé«˜å­¦ä¹ ç‡ã€‚</p></blockquote><h3 id="other-work-1">Other Work</h3><p>â€‹é˜…è¯»è¿™ç¯‡è®ºæ–‡çš„ä»£ç ï¼Œç‰¹åˆ«æ˜¯å§¿æ€ä¼°è®¡å™¨çš„éƒ¨åˆ†ï¼Œå¹¶åœ¨è¿™ä¸¤ä¸ªé“¾æ¥ä¸­è¿è¡Œè¿™äº›ä»£ç ã€‚ç„¶åï¼Œæˆ‘ä¸€ç›´åœ¨å­¦ä¹ å…³äºStyleGAN2ï¼Œä»¥æ›´å¥½åœ°ç†è§£è¿™ç¯‡è®ºæ–‡ä¸­çš„æ–¹æ³•ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>æ¯å‘¨å›é¡¾</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ€»ç»“&amp;åæ€</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ¯å‘¨æ€»ç»“(23.08.28-23.09.03)</title>
    <link href="/posts/36354/"/>
    <url>/posts/36354/</url>
    
    <content type="html"><![CDATA[<div align="center"><H3>Weekly report</div><p><strong>Date: 23.08.28-23.09.03</strong></p><h4 id="paper">1.Paper</h4><p><strong>Title:</strong><code>Efficient Geometry-aware 3D Generative Adversarial Networks</code></p><p>â€‹è¿™ç¯‡è®ºæ–‡ä»‹ç»äº†ä¸€ç§é«˜æ•ˆçš„å‡ ä½•æ„ŸçŸ¥3Dç”Ÿæˆå¯¹æŠ—ç½‘ç»œï¼ˆGANsï¼‰æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å¯ä»¥ä½¿ç”¨å•è§†è§’2Dç…§ç‰‡é›†åˆç”Ÿæˆé«˜è´¨é‡çš„å¤šè§†è§’ä¸€è‡´å›¾åƒå’Œ3Då½¢çŠ¶ã€‚è¯¥æ–¹æ³•é‡‡ç”¨äº†æ··åˆæ˜¾å¼-éšå¼ç½‘ç»œæ¶æ„ï¼Œå¯ä»¥å®ç°å®æ—¶åˆæˆé«˜åˆ†è¾¨ç‡çš„å¤šè§†è§’ä¸€è‡´å›¾åƒå’Œé«˜è´¨é‡çš„3Då‡ ä½•å½¢çŠ¶ã€‚è¯¥æ–¹æ³•è¿˜æå‡ºäº†åŒé‡æ­§è§†å’Œç”Ÿæˆå™¨å§¿åŠ¿è°ƒèŠ‚æ¥å‡å°‘è¡¨æƒ…æ‰­æ›²ï¼Œæé«˜å¤šè§†è§’ä¸€è‡´æ€§ã€‚ä½œè€…åœ¨ShapeNetå’ŒCelebAæ•°æ®é›†ä¸Šè¿›è¡Œäº†å®éªŒï¼Œç»“æœè¡¨æ˜è¯¥æ–¹æ³•åœ¨å¤šè§†è§’ä¸€è‡´æ€§å’Œ3Då½¢çŠ¶è´¨é‡æ–¹é¢ä¼˜äºç°æœ‰æ–¹æ³•ï¼Œå¹¶ä¸”å¯ä»¥åˆæˆå…·æœ‰é€¼çœŸé¢éƒ¨è¡¨æƒ…å’Œå§¿åŠ¿çš„é«˜è´¨é‡å›¾åƒã€‚æ­¤å¤–ï¼Œä½œè€…è¿˜è®¨è®ºäº†è¯¥æ–¹æ³•çš„ä¸€äº›å±€é™æ€§å’Œå¯èƒ½çš„æ”¹è¿›æ–¹å‘ã€‚</p><p><strong>Framework:</strong></p><p><img src="23.08.28-23.09.03/image-20231009220945991.png" alt="image-20231009220945991" style="zoom:80%;" /></p><p>â€‹è®¾è®¡äº†ä¸€ç§æ–°çš„æ··åˆæ˜¾å¼éšå¼3Dæ„ŸçŸ¥ç½‘ç»œï¼Œè¯¥ç½‘ç»œä½¿ç”¨å†…å­˜é«˜æ•ˆçš„ä¸‰å¹³é¢è¡¨ç¤ºæ˜¾å¼åœ°å°†ç‰¹å¾å­˜å‚¨åœ¨ç”±è½»é‡çº§éšå¼ç‰¹å¾è§£ç å™¨èšåˆçš„è½´å¯¹é½å¹³é¢ä¸Šï¼Œä»¥å®ç°é«˜æ•ˆçš„ä½“ç»˜åˆ¶ã€‚ï¼ˆè¿˜æ²¡çœ‹å®Œï¼Œä»£ç è·‘é€šäº†ï¼‰</p><p><strong>Title:</strong><code>Shape, Pose, and Appearance from a Single Image via Bootstrapped Radiance Field Inversion</code></p><p>â€‹è¿™ç¯‡è®ºæ–‡ä»‹ç»äº†ä¸€ç§ä»å•ä¸€å›¾åƒä¸­é‡å»ºå¯¹è±¡çš„å½¢çŠ¶ã€å§¿æ€å’Œå¤–è§‚çš„æ–°æ–¹æ³•ã€‚è¯¥æ–¹æ³•åˆ©ç”¨äº†è¿‘æœŸåœ¨NeRFè¡¨ç¤ºæ–¹é¢çš„è¿›å±•ï¼Œå¹¶å°†é—®é¢˜æ„å»ºä¸ºä¸€ä¸ª3Dæ„ŸçŸ¥çš„GANåæ¼”ä»»åŠ¡ã€‚é€šè¿‡å­¦ä¹ ä¸€ä¸ªç¼–ç å™¨æ¥åŠ é€Ÿè¿™ä¸ªè¿‡ç¨‹ï¼Œç¼–ç å™¨æä¾›äº†è§£å†³æ–¹æ¡ˆçš„åˆæ­¥çŒœæµ‹ï¼Œå¹¶åŒ…æ‹¬äº†ä¸€ä¸ªæœ‰åŸåˆ™çš„å§¿æ€ä¼°è®¡æŠ€æœ¯ã€‚è¯¥æ–¹æ³•åœ¨åˆæˆå’ŒçœŸå®åŸºå‡†æµ‹è¯•ä¸­éƒ½è¾¾åˆ°äº†æœ€å…ˆè¿›çš„æ€§èƒ½ï¼Œå¹¶ä¸”åœ¨å°æ•°æ®é›†ä¸Šè¡¨ç°å‡ºäº†é«˜æ•ˆå’Œæœ‰æ•ˆçš„ç‰¹ç‚¹ã€‚åœ¨æœªæ¥ï¼Œä½œè€…å¸Œæœ›å°†è¿™ç§æ–¹æ³•æ‰©å±•åˆ°æ›´é«˜çš„åˆ†è¾¨ç‡ï¼Œå¹¶é€šè¿‡åˆ©ç”¨é¢å¤–è§†å›¾æˆ–å½¢çŠ¶å…ˆéªŒçš„åŠç›‘ç£æ¥æ”¹è¿›é‡å»ºè¡¨é¢è´¨é‡ã€‚ä»–ä»¬è¿˜å¸Œæœ›æ¢ç´¢ä»æ•°æ®ä¸­è‡ªåŠ¨æ¨æ–­å§¿æ€åˆ†å¸ƒçš„æ–¹æ³•ã€‚</p><p><strong>Framework:</strong></p><p>â€‹å¯¹è®ºæ–‡çš„æ¡†æ¶è¿›è¡Œåˆ†æï¼Œä½œè€…ä½¿ç”¨EG3Dä¸­æå‡ºçš„çš„ä¸‰å¹³é¢è¡¨ç¤ºæ–¹æ³•è®¾è®¡äº†ä¸€ä¸ªæ— æ¡ä»¶ç”Ÿæˆå™¨é¢„è®­ç»ƒæ¨¡å‹ï¼Œæé«˜æ¸²æŸ“é€Ÿåº¦çš„åŒæ—¶ä¿è¯äº†å›¾åƒçš„åˆ†è¾¨ç‡ã€‚åŒæ—¶è®ºæ–‡ä¸­ä½¿ç”¨3DGANåæ¼”çš„æ–¹æ³•æ¥è¿›è¡Œè¿­ä»£ä¼˜åŒ–ï¼Œå°†åæ¼”å‡ºæ¥çš„å›¾åƒä¸çœŸå®å›¾åƒè¿›è¡ŒæŸå¤±è®¡ç®—ï¼Œä»è€Œå¯¹æ¨¡å‹è¿›è¡Œè°ƒæ•´ã€‚å¹¶ä¸”å¯¹ç”Ÿæˆçš„å›¾åƒå’ŒçœŸå®å›¾åƒåšäº†å›¾åƒå¢å¼ºå¤„ç†ï¼ŒåŠ å¿«æ”¶æ•›ã€‚å› ä¸ºæ¨¡å‹ä¸­ä½¿ç”¨äº†PnP(Perspective-n-point)æ–¹æ³•ç”¨äºä»2Då›¾åƒä¸­ä¼°è®¡ç‰©ä½“å§¿æ€ï¼Œè¿™ç§è®¾è®¡è™½ç„¶èƒ½å¤Ÿè·å¾—è¾ƒä¸ºå‡†ç¡®çš„ç‰©ä½“å§¿æ€ï¼Œä½†æ˜¯ä¼šå¯¼è‡´è®­ç»ƒçš„é€Ÿåº¦å¾ˆæ…¢ï¼ŒåŒæ—¶è¿˜è¦æ±‚åŠå…¶é«˜çš„GPUç¼“å­˜ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>æ¯å‘¨å›é¡¾</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ€»ç»“&amp;åæ€</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ¯å‘¨æ€»ç»“(23.08.14-23.08.20)</title>
    <link href="/posts/22085/"/>
    <url>/posts/22085/</url>
    
    <content type="html"><![CDATA[<div align="center"><H3>Weekly report</div><p><strong>Date: 23.08.14-23.08.20</strong></p><h4 id="paper">1.Paper</h4><p><strong>Title:</strong><code>Pix2NeRF: Unsupervised Conditional Ï€-GAN for Single Image to Neural Radiance Fields Translation</code></p><p><strong>Summary:</strong></p><p>â€‹ Pix2NeRF consists of two main components: a generative model and areconstruction objective. The generative model uses a combination of agenerative adversarial network (GAN) and an autoencoder to encode inputimages into vector representations in latent space and generatehigh-quality 3D-aware images. The reconstruction objective uses acombination of reconstruction error and MSE supervision to penalize thegenerator and learn a "canonical" 3D space. These two componentstogether form the Pix2NeRF method for generating Neural Radiance Fields(NeRF) based on a single input image. Overall, Pix2NeRF is an excitingnew approach to generating high-quality 3D-aware images and has thepotential to be used in a wide range of applications.</p><p><strong>Framework:</strong></p><p>â€‹ The framework of the paper consists of two parts: a generative modeland a reconstruction objective. The generative model uses a combinationof a generative adversarial network (GAN) and an autoencoder to encodeinput images into vector representations in latent space and generatehigh-quality 3D-aware images. The reconstruction objective uses acombination of reconstruction error and MSE supervision to penalize thegenerator G and learn a "canonical" 3D space. These two componentstogether form the Pix2NeRF method for generating Neural Radiance Fields(NeRF) based on a single input image.</p><p><strong>Generative mode and Reconstruction objective: </strong></p><p>â€‹ The generative model uses a combination of a generative adversarialnetwork (GAN) and an autoencoder. The goal of the GAN is to train thegenerator G and discriminator D to generate high-quality 3D-awareimages. The goal of the autoencoder is to encode input images intovector representations in latent space, which can be used for imagereconstruction or generating new viewpoints. We use the Ï€-GAN objectiveto optimize the training of the generator G and discriminator D, toimprove the 3D consistency of the generated images. Specifically, thegenerator G is trained to "fool" the discriminator D by progressivelygenerating realistic images. The generator G and discriminator D aretrained together to generate high-quality 3D-aware images.</p><p>â€‹ The reconstruction objective uses a combination of reconstructionerror and MSE supervision to penalize the generator G and learn a"canonical" 3D space. The reconstruction error refers to the differencebetween the generated 3D-aware image and the ground truth image. The MSEsupervision penalizes the generator G if the image pose recovered by thediscriminator does not correspond to the sampled pose. This helps tolearn a "canonical" 3D space, especially when the pose distribution ofreal data is noisy. These two components together form the Pix2NeRFmethod for generating Neural Radiance Fields (NeRF) based on a singleinput image.</p><p><strong>The steps of Pix2NeRF:</strong></p><blockquote><ol type="1"><li>Extract 2D features from a single input image.</li><li>Encode the 2D features into vector representations in latent spaceusing a combination of a generative adversarial network (GAN) and anautoencoder.</li><li>Sample random vectors from the latent space and use the generator togenerate 3D-aware images.</li><li>Penalize the generator using a combination of reconstruction errorand MSE supervision to learn a "canonical" 3D space.</li><li>Repeat steps 3 and 4 until the difference between the generated3D-aware image and the ground truth image is minimized.</li><li>Use the generated NeRF model to generate new viewpoints orreconstruct the input image.</li></ol></blockquote><p>In summary, the steps of Pix2NeRF are: extract 2D features, encodeinto vector representations in latent space, generate 3D-aware images,learn a "canonical" 3D space, and generate new viewpoints or reconstructthe input image.</p><h4 id="code">2.Code</h4><p>â€‹ I tested the trained model of 'Shape, Pose, and Appearance from aSingle Image via Bootstrapped Radiance Field Inversion' and trained anlarger model(batch size is 16). Built the environment of this paper.</p>]]></content>
    
    
    <categories>
      
      <category>æ¯å‘¨å›é¡¾</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ€»ç»“&amp;åæ€</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ¯å‘¨æ€»ç»“(23.08.07-23.08.13)</title>
    <link href="/posts/8519/"/>
    <url>/posts/8519/</url>
    
    <content type="html"><![CDATA[<div align="center"><H3>Weekly report</div><p><strong>Date:2023.08.07-2023.08.13</strong></p><h4 id="paper">1.Paper</h4><p><strong>Title:</strong><code>Shape, Pose, and Appearance from a Single Image via Bootstrapped Radiance Field Inversion</code></p><p><strong>Summary:</strong></p><p>â€‹ This paper presents a new method for reconstructing the shape, pose,and appearance of an object from a single image. The approach leveragesrecent advances in NeRF representations and frames the problem as a3D-aware GAN inversion task. The process is accelerated by learning anencoder that provides a first guess of the solution and incorporates aprincipled pose estimation technique. The method achievesstate-of-the-art performance on both synthetic and real benchmarks andis shown to be efficient and effective on small datasets. In the future,the authors hope to scale the method to higher resolutions and improvethe reconstructed surface quality by leveraging semi-supervision onextra views or shape priors. They also hope to explore ways toautomatically infer the pose distribution from the data.</p><p><strong>Framework:</strong></p><p>â€‹ The overall framework of this paper is an end-to-end reconstructionframework for reconstructing 3D scenes from a single 2D image. Theframework includes the following steps:</p><blockquote><ol type="1"><li>Generating 3D scenes using NeRF representation.</li><li>Converting 3D scenes to 2D images using GAN inversion.</li><li>Accelerating the reconstruction process using a hybrid inversionmethod.</li><li>Estimating the 3D pose of the object using a deep learning-basedpose estimation technique.</li><li>Providing the first guess of the solution using an encoder.</li></ol></blockquote><p><strong>NeRF representation and GAN inversion:</strong></p><ol type="1"><li>Firstly, an unconditional generator G based on NeRF representationis trained in combination with a 2D image discriminator, following theliterature on 3D-aware GANs. This framework requires minimalassumptions, namely 2D images and the corresponding posedistribution.</li></ol><figure><img src="1.png?100*100" alt="NeRF representation" /><figcaption aria-hidden="true">NeRF representation</figcaption></figure><ol start="2" type="1"><li>Then, the generator G is frozen and an image encoder E is trained tojointly estimate the pose of the object as well as an initial guess ofits latent code (bootstrapping). For pose estimation, a principledapproach is adopted that predicts a canonical map in screen spacefollowed by a Perspective-n-Point (PnP) algorithm for estimation.</li></ol><figure><img src="2.png?100*100" alt="GAN inversion" /><figcaption aria-hidden="true">GAN inversion</figcaption></figure><ol start="3" type="1"><li>Finally, NeRF representation is used to generate 3D scenes.Specifically, the generator G and the encoder E are used to generate 3Dscenes, and a hybrid inversion method is used to convert the 3D scenesto 2D images.</li></ol><figure><img src="3.png?100*100" alt="hybrid inversion" /><figcaption aria-hidden="true">hybrid inversion</figcaption></figure><p><strong>Hybrid inversion:</strong></p><p>â€‹ The encoder E and the generator G are used to generate 3D scenes,which are then converted to 2D images using the hybrid inversionmethod.</p><p>â€‹ The hybrid inversion method consists of two steps: the first stepinvolves generating 3D scenes using the encoder E and the generator G,which the second step involves iteratively optimizing the 3D scenerepresentation using an optimization algorithm to obtain a more accuraterepresentation.</p><p>â€‹ This iterative optimization method can be implemented usingbackpropagation and can be seamlessly integrated with the GAN framework.By using the hybrid inversion method, this paper is able to acceleratethe reconstruction process without sacrificing reconstructionquality.</p><h4 id="code">2. Code</h4><p>â€‹ The code from this paper has been fully implemented; however, due tothe requirement of a minimum of 160GB GPU memory in their environment, Ihad to adjust the batch size to 8 (originally 32) to successfully trainthe model. I plan to test the trained model next week and explore thepossibility of training an even larger model afterward.</p>]]></content>
    
    
    <categories>
      
      <category>æ¯å‘¨å›é¡¾</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ€»ç»“&amp;åæ€</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Summary</title>
    <link href="/posts/39277/"/>
    <url>/posts/39277/</url>
    
    <content type="html"><![CDATA[<div align= "center"><H3>Summary</div><p>â€‹ Over the past one month, I have delved into the realm of computergraphics, exploring concepts like Camera Transformation, ProjectionTransformation, and Viewport Transformation. During this time, I alsogained insights into camera parameters, camera coordinate systems, andworld coordinate systems, developing proficiency in transformingcoordinates between them. Furthermore, I manually deduced renderingformulas to deepen my understanding. In parallel, I devoted time tostudying Deep Learning, broadening my knowledge in this fascinatingfield.</p><p>Following my theoretical endeavors, I embarked on a coding journey torestructure NeRF (Neural Radiance Fields). My aim was to rewrite theNeRF code from the Tensorflow framework to PyTorch framework. Thishands-on process not only enhanced my coding skills but also provided mewith a profound comprehension of NeRF, rendering techniques, and theworkings of Multi-Layer Perceptrons (MLP).</p><p>â€‹ In particular, I came to understand two essential aspects of NeRF'scode:</p><p>â€‹ Position Encoding: The authors of NeRF utilized Position Encoding toaddress challenges associated with accurately representinghigh-frequency variations in color and geometry. To achieve this, theyemployed a clever mapping of the input coordinates (x, y, z, and viewcoordinate) to a higher-dimensional space using high-frequencyfunctions. Notably, they used sine and cosine functions (sin^2(Lx) andcos^2(Lx), with L=10) to transform the three-dimensional input into asixty-dimensional space.</p><p>â€‹ NeRF Model: In the code implementation, NeRF comprises an MLPnetwork with eight fully-connected ReLU layers. Each layer features 256dimensions, except for the fifth layer, which acts as a skip connectionand contains 316 features (256 from the previous layers and 60 from thepositional encoding). Additionally, there is an extra layer responsiblefor outputting the volume density and a 256-dimensional feature vector.This feature vector is combined with the positional encoding of theinput viewing direction (Î³(d)), and the resulting combination isprocessed by an additional fully-connected ReLU layer with 128 channels.Finally, a final layer with a sigmoid activation function yields theemitted RGB radiance at position x, as viewed by a ray with directiond.</p><p>â€‹ Loss: The loss function employed in the code is straightforward. Itcalculates the L2 loss between the rendered image and the ground truthimage, and subsequently optimizes the model based on this loss.</p><p>â€‹ Besides, I read tow papers, named â€˜Instant Neural GraphicsPrimitives with a Multiresolution Hash Encodingâ€™ and â€˜Shape, Pose, andAppearance from a Single Image via Bootstrapped Radiance FieldInversionâ€™ respectively.</p><p>â€‹ The paper "Instant Neural Graphics Primitives with a MultiresolutionHash Encoding" introduces a novel approach called "Instant NeuralGraphics Primitives (Instant-NGP)" with the integration of amultiresolution hash encoding. This method aims to improve theefficiency and performance of existing neural rendering algorithms.</p><p>The core idea of the paper is to utilize multiresolution hashencoding to encode the geometry and material information of scenes,enabling efficient rendering of complex 3D scenes. Instant-NGPrepresents scenes as a collection of basic graphics primitives (such asspheres, cubes, etc.) and associates each primitive with itscorresponding geometry and material information using hash encoding,resulting in an efficient scene representation and renderingprocess.</p><p>In the experimental section, the paper demonstrates the outstandingperformance of the Instant-NGP method in various 3D scene renderingtasks. Compared to traditional ray-tracing-based rendering algorithms,Instant-NGP achieves significant improvements in computation speed andmemory usage. Furthermore, Instant-NGP exhibits high scalability andversatility, making it suitable for a wide range of 3D scene renderingtasks.</p><figure><img src="1.jpg" alt="framework" /><figcaption aria-hidden="true">framework</figcaption></figure><figure><img src="2.jpg" alt="framework" /><figcaption aria-hidden="true">framework</figcaption></figure><p>â€‹ After read the paper, I run itâ€™s code successfully, but itâ€™s codewritten by CUDA, I just learned how to use.</p><p>The paper "Shape, Pose, and Appearance from a Single Image viaBootstrapped Radiance Field Inversion" proposes an iterativeoptimization framework based on bootstrapped radiance field inversionfor estimating the 3D shape, pose, and appearance of objects from asingle image. The method iteratively optimizes the estimated radiancefield and object geometry while utilizing a deep neural network toestimate the object's appearance. The main advantage of this method isits ability to estimate the 3D shape, pose, and appearance of objectsfrom a single image without requiring multiple images or priorknowledge.</p><p>â€‹ Specifically, the method first uses an initial radiance field togenerate a set of virtual images, which are then compared to theoriginal image to compute an error function. Next, the method updatesthe estimated radiance field and object geometry using the errorfunction and employs a deep neural network to estimate the object'sappearance. By iteratively optimizing the estimated radiance field andobject geometry while utilizing a deep neural network to estimate theobject's appearance, the method achieves the goal of estimating the 3Dshape, pose, and appearance of objects from a single image.</p><p>â€‹ The method is evaluated on multiple datasets, demonstrating itseffectiveness in estimating the 3D shape, pose, and appearance ofobjects from a single image. Additionally, data augmentation techniquesand loss functions are used to improve the accuracy of theestimations.</p><p>â€‹ The paperâ€™s code has not run successfully, and I will debug the codein the next week.</p>]]></content>
    
    
    <categories>
      
      <category>æ¯å‘¨å›é¡¾</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ€»ç»“&amp;åæ€</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>åŸºç¡€çŸ¥è¯†</title>
    <link href="/posts/14876/"/>
    <url>/posts/14876/</url>
    
    <content type="html"><![CDATA[<h4 id="åŸºæœ¬æ–¹æ³•">åŸºæœ¬æ–¹æ³•</h4><ol type="1"><li>np(torch).stack([], axis=)å‡½æ•°</li></ol><p>ä½œç”¨ï¼šæ˜¯å°†ä¸€ç»„æ•°ç»„æ²¿ç€æ–°çš„è½´å †å èµ·æ¥ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br>a = np.array([[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], <br>              [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]])<br><br>b = np.array([[<span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>],<br>              [<span class="hljs-number">10</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>]])<br><br>c = np.stack([a, b], <span class="hljs-number">0</span>) <span class="hljs-comment"># axis = 0</span><br><br><span class="hljs-comment"># æŒ‰ç…§åŸæ•°ç»„ç›´æ¥å †å </span><br><span class="hljs-comment"># array([[[ 1,  2,  3],</span><br><span class="hljs-comment">#         [ 4,  5,  6]],</span><br><br><span class="hljs-comment">#         [[ 7,  8,  9],</span><br><span class="hljs-comment">#         [10, 11, 12]]])</span><br><br>c = np.stack([a, b], <span class="hljs-number">1</span>) <span class="hljs-comment"># axis = 1</span><br><br><span class="hljs-comment"># æ ¹æ®åˆ—è¡¨ä¸­æ•°ç»„çš„è¡Œå †å </span><br><span class="hljs-comment"># array([[[ 1,  2,  3],</span><br><span class="hljs-comment">#         [ 7,  8,  9]],</span><br><br><span class="hljs-comment">#        [[ 4,  5,  6],</span><br><span class="hljs-comment">#         [10, 11, 12]]])</span><br><br>c = np.stack([a, b], <span class="hljs-number">2</span>) <span class="hljs-comment"># axis = 2</span><br><br><span class="hljs-comment"># æ ¹æ®åˆ—è¡¨ä¸­æ•°ç»„çš„åˆ—d</span><br><span class="hljs-comment"># array([[[ 1,  7],</span><br><span class="hljs-comment">#         [ 2,  8],</span><br><span class="hljs-comment">#         [ 3,  9]],</span><br><br><span class="hljs-comment">#        [[ 4, 10],</span><br><span class="hljs-comment">#         [ 5, 11],</span><br><span class="hljs-comment">#         [ 6, 12]]])</span><br></code></pre></td></tr></table></figure><ol start="2" type="1"><li>np.meshgrid()</li></ol><p><code>np.meshgrid</code>æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºç”Ÿæˆå¤šç»´ç½‘æ ¼çŸ©é˜µã€‚å®ƒæ¥å—å¤šä¸ªä¸€ç»´å¼ é‡ä½œä¸ºè¾“å…¥ï¼Œå¹¶è¿”å›ä¸è¾“å…¥å¼ é‡æ•°ç›¸åŒçš„è¾“å‡ºå¼ é‡åˆ—è¡¨ï¼Œæ¯ä¸ªè¾“å‡ºå¼ é‡åŒ…å«ç›¸åº”ç»´åº¦ä¸­è¾“å…¥å¼ é‡å€¼çš„é‡å¤ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br><span class="hljs-comment"># äºŒç»´</span><br>x = torch.tensor([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]) <span class="hljs-comment"># 3</span><br>y = torch.tensor([<span class="hljs-number">4</span>, <span class="hljs-number">5</span>])<span class="hljs-comment"># 2</span><br><br>X, Y = np.meshgrid(x, y)<br><span class="hljs-built_in">print</span>(X)<br><span class="hljs-comment"># tensor([[1, 2, 3],</span><br><span class="hljs-comment">#         [1, 2, 3]])</span><br><br><span class="hljs-built_in">print</span>(Y)<br><span class="hljs-comment"># tensor([[4, 4, 4],</span><br><span class="hljs-comment">#         [5, 5, 5]])</span><br><br><span class="hljs-comment"># ä¸‰ç»´</span><br>z = torch.tensor([<span class="hljs-number">6</span>,<span class="hljs-number">7</span>,<span class="hljs-number">8</span>])<br><br>X,Y,Z = np.meshgrid(x,y,z)<br><br><span class="hljs-built_in">print</span>(X.shape, Y.shape, Z.shape)<br><span class="hljs-comment"># torch.Size([2, 3, 3]) torch.Size([2, 3, 3]) torch.Size([2, 3, 3])</span><br><br><span class="hljs-built_in">print</span>(X)  <span class="hljs-comment"># 2*3*3</span><br><span class="hljs-comment"># tensor([[[1, 2, 3],</span><br><span class="hljs-comment">#          [1, 2, 3],</span><br><span class="hljs-comment">#          [1, 2, 3]],</span><br><br><span class="hljs-comment">#         [[1, 2, 3],</span><br><span class="hljs-comment">#          [1, 2, 3],</span><br><span class="hljs-comment">#          [1, 2, 3]]])</span><br><br><span class="hljs-built_in">print</span>(Y)<br><span class="hljs-comment"># tensor([[[4, 4, 4],</span><br><span class="hljs-comment">#          [5, 5, 5],</span><br><span class="hljs-comment">#          [6, 6, 6]],</span><br><br><span class="hljs-comment">#         [[4, 4, 4],</span><br><span class="hljs-comment">#          [5, 5, 5],</span><br><span class="hljs-comment">#          [6, 6, 6]]])</span><br><br><span class="hljs-built_in">print</span>(Z)<br><span class="hljs-comment"># tensor([[[6, 6, 6],</span><br><span class="hljs-comment">#          [6, 6, 6],</span><br><span class="hljs-comment">#          [6, 6, 6]],</span><br><br><span class="hljs-comment">#         [[7, 7, 7],</span><br><span class="hljs-comment">#          [7, 7, 7],</span><br><span class="hljs-comment">#          [7, 7, 7]]])</span><br><br><br></code></pre></td></tr></table></figure><ol start="3" type="1"><li>torch.meshgrid()</li></ol><p><code>torch.meshgrid</code>æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºç”Ÿæˆå¤šç»´ç½‘æ ¼çŸ©é˜µã€‚å®ƒæ¥å—å¤šä¸ªä¸€ç»´å¼ é‡ä½œä¸ºè¾“å…¥ï¼Œå¹¶è¿”å›ä¸è¾“å…¥å¼ é‡æ•°ç›¸åŒçš„è¾“å‡ºå¼ é‡åˆ—è¡¨ï¼Œæ¯ä¸ªè¾“å‡ºå¼ é‡åŒ…å«ç›¸åº”ç»´åº¦ä¸­è¾“å…¥å¼ é‡å€¼çš„é‡å¤ã€‚torchå’Œnumpyçš„ä½œç”¨æ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯å…¶x,yçš„åæ ‡æœ‰æ‰€åŒºåˆ«ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><br><span class="hljs-comment"># äºŒç»´</span><br>x = torch.tensor([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]) <span class="hljs-comment"># 3</span><br>y = torch.tensor([<span class="hljs-number">4</span>, <span class="hljs-number">5</span>])<span class="hljs-comment"># 2</span><br><br>X, Y = torch.meshgrid(x, y)<br><br><span class="hljs-built_in">print</span>(X) <span class="hljs-comment"># i j </span><br><br><span class="hljs-comment"># tensor([[1, 1],</span><br><span class="hljs-comment">#         [2, 2],</span><br><span class="hljs-comment">#         [3, 3]])</span><br><br><span class="hljs-built_in">print</span>(Y)<br><span class="hljs-comment"># tensor([[4, 5],</span><br><span class="hljs-comment">#         [4, 5],</span><br><span class="hljs-comment">#         [4, 5]])</span><br><br><span class="hljs-comment">#ä¸‰ç»´</span><br>z = torch.tensor([<span class="hljs-number">6</span>,<span class="hljs-number">7</span>,<span class="hljs-number">8</span>]) <span class="hljs-comment"># 3   </span><br><br>X,Y,Z = torch.meshgrid(x,y,z)<br><br><span class="hljs-built_in">print</span>(X)<span class="hljs-comment"># 3*2*3</span><br><span class="hljs-comment"># tensor([[[1, 1, 1],</span><br><span class="hljs-comment">#          [1, 1, 1]],</span><br><span class="hljs-comment"># </span><br><span class="hljs-comment">#         [[2, 2, 2],</span><br><span class="hljs-comment">#          [2, 2, 2]],</span><br><span class="hljs-comment"># </span><br><span class="hljs-comment">#         [[3, 3, 3],</span><br><span class="hljs-comment">#          [3, 3, 3]]])</span><br><br><span class="hljs-built_in">print</span>(Y)<br><span class="hljs-comment"># tensor([[[4, 4, 4],</span><br><span class="hljs-comment">#          [5, 5, 5]],</span><br><span class="hljs-comment"># </span><br><span class="hljs-comment">#         [[4, 4, 4],</span><br><span class="hljs-comment">#          [5, 5, 5]],</span><br><span class="hljs-comment"># </span><br><span class="hljs-comment">#         [[4, 4, 4],</span><br><span class="hljs-comment">#          [5, 5, 5]]])</span><br><br><span class="hljs-built_in">print</span>(Z)<br><span class="hljs-comment"># tensor([[[6, 7, 8],</span><br><span class="hljs-comment">#          [6, 7, 8]],</span><br><span class="hljs-comment"># </span><br><span class="hljs-comment">#         [[6, 7, 8],</span><br><span class="hljs-comment">#          [6, 7, 8]],</span><br><span class="hljs-comment"># </span><br><span class="hljs-comment">#         [[6, 7, 8],</span><br><span class="hljs-comment">#          [6, 7, 8]]])</span><br></code></pre></td></tr></table></figure><ol start="4" type="1"><li>torch.norm()</li></ol><p><code>torch.norm()</code>å‡½æ•°ç”¨äºè®¡ç®—å¼ é‡çš„èŒƒæ•°ã€‚å®ƒå¯ä»¥è®¡ç®—ç»™å®šç»´åº¦ä¸Šçš„å‘é‡èŒƒæ•°æˆ–çŸ©é˜µèŒƒæ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªå¼ é‡ã€‚é»˜è®¤ä¸º2èŒƒæ•°ï¼Œå¯ä»¥è®¾ç½®pæŒ‡å®šèŒƒæ•°ã€‚åŒæ—¶å¯ä»¥è®¾ç½®<code>keepdim</code>æ¥å†³å®šæ˜¯å¦ä¿ç•™åŸå…ˆçš„ç»´åº¦ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> torch<br><br><span class="hljs-comment"># Example 1: Compute the L2-norm of a vector</span><br>x = torch.tensor([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], dtype=torch.float32)<br>l2_norm = torch.norm(x, p=<span class="hljs-number">2</span>)<br><span class="hljs-built_in">print</span>(l2_norm)   <span class="hljs-comment"># Output: tensor(3.7417)</span><br><br><span class="hljs-comment"># Example 2: Compute the Frobenius norm of a matrix</span><br>A = torch.tensor([[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>]], dtype=torch.float32)<br>fro_norm = torch.norm(A, p=<span class="hljs-string">&#x27;fro&#x27;</span>)<br><span class="hljs-built_in">print</span>(fro_norm)  <span class="hljs-comment"># Output: tensor(5.4772)</span><br><br><span class="hljs-comment"># Example 3: Compute the L1-norm of a vector along a specific dimension</span><br>B = torch.tensor([[<span class="hljs-number">1</span>, -<span class="hljs-number">2</span>, <span class="hljs-number">3</span>], [-<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, -<span class="hljs-number">6</span>]], dtype=torch.float32)<br>l1_norm = torch.norm(B, p=<span class="hljs-number">1</span>, dim=<span class="hljs-number">1</span>)<br><span class="hljs-built_in">print</span>(l1_norm)   <span class="hljs-comment"># Output: tensor([6., 15.])</span><br><br></code></pre></td></tr></table></figure><ol start="5" type="1"><li>torch.gather()</li></ol><p>ä½œç”¨ï¼šæ²¿ç€ç”±dimæŒ‡å®šçš„è½´æ”¶é›†æ•°å€¼ï¼Œä½œä¸ºå–å€¼çš„ç´¢å¼•ã€‚</p><p><code>torch.gather(input, dim, index, *, sparse_grad=False, out=None) â†’ Tensor</code></p><blockquote><p>input (Tensor) â€“ ç›®æ ‡å˜é‡ï¼Œè¾“å…¥ dim (int) â€“ éœ€è¦æ²¿ç€å–å€¼çš„åæ ‡è½´index (LongTensor) â€“ éœ€è¦å–å€¼çš„ç´¢å¼•çŸ©é˜µ sparse_grad (bool,optional) â€“å¦‚æœä¸ºçœŸï¼Œè¾“å…¥å°†æ˜¯ä¸€ä¸ªç¨€ç–å¼ é‡ out (Tensor, optional) â€“ è¾“å‡º</p><p>indexçŸ©é˜µä½œä¸ºå½“å‰è½´çš„ç´¢å¼•ï¼Œå‰©ä¸‹çš„è½´ä¾æ—§æŒ‰ç…§é¡ºåºæ’åº[0-n]</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># dim = 0</span><br><br><span class="hljs-built_in">input</span> = [<br>    [<span class="hljs-number">0.0</span>, <span class="hljs-number">0.1</span>, <span class="hljs-number">0.2</span>, <span class="hljs-number">0.3</span>],<br>    [<span class="hljs-number">1.0</span>, <span class="hljs-number">1.1</span>, <span class="hljs-number">1.2</span>, <span class="hljs-number">1.3</span>],<br>    [<span class="hljs-number">2.0</span>, <span class="hljs-number">2.1</span>, <span class="hljs-number">2.2</span>, <span class="hljs-number">2.3</span>]<br>]<span class="hljs-comment">#shape [3,4]</span><br><span class="hljs-built_in">input</span> = torch.tensor(<span class="hljs-built_in">input</span>)<br>length = torch.LongTensor([<br>    [<span class="hljs-number">2</span>,<span class="hljs-number">2</span>,<span class="hljs-number">2</span>,<span class="hljs-number">2</span>],<br>    [<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>],<br>    [<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>],<br>    [<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">0</span>]<br>])<span class="hljs-comment">#[4,4]</span><br>out = torch.gather(<span class="hljs-built_in">input</span>, dim=<span class="hljs-number">0</span>, index=length)<br><span class="hljs-built_in">print</span>(out)<br><br><span class="hljs-comment"># ç»“æœ</span><br><span class="hljs-comment"># tensor([[2.0000, 2.1000, 2.2000, 2.3000],</span><br><span class="hljs-comment">#         [1.0000, 1.1000, 1.2000, 1.3000],</span><br><span class="hljs-comment">#         [0.0000, 0.1000, 0.2000, 0.3000],</span><br><span class="hljs-comment">#         [0.0000, 1.1000, 2.2000, 0.3000]])</span><br><br></code></pre></td></tr></table></figure><p><span class="math display">\[å–å€¼ç´¢å¼•çŸ©é˜µ=\left[\begin{array}{llll}X_{20} &amp; X_{21} &amp; X_{22} &amp; X_{23} \\X_{10} &amp; X_{11} &amp; X_{12} &amp; X_{13} \\X_{00} &amp; X_{01} &amp; X_{02} &amp; X_{03} \\X_{00} &amp; X_{11} &amp; X_{22} &amp; X_{03}\end{array}\right]\]</span></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># dim = 1</span><br><br><span class="hljs-built_in">input</span> = [<br>    [<span class="hljs-number">0.0</span>, <span class="hljs-number">0.1</span>, <span class="hljs-number">0.2</span>, <span class="hljs-number">0.3</span>],<br>    [<span class="hljs-number">1.0</span>, <span class="hljs-number">1.1</span>, <span class="hljs-number">1.2</span>, <span class="hljs-number">1.3</span>],<br>    [<span class="hljs-number">2.0</span>, <span class="hljs-number">2.1</span>, <span class="hljs-number">2.2</span>, <span class="hljs-number">2.3</span>]<br>]<span class="hljs-comment">#shape [3,4]</span><br><span class="hljs-built_in">input</span> = torch.tensor(<span class="hljs-built_in">input</span>)<br>length = torch.LongTensor([<br>    [<span class="hljs-number">2</span>,<span class="hljs-number">2</span>,<span class="hljs-number">2</span>,<span class="hljs-number">2</span>],<br>    [<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>],<br>    [<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">0</span>]<br>])<span class="hljs-comment">#[3,4]</span><br>out = torch.gather(<span class="hljs-built_in">input</span>, dim=<span class="hljs-number">1</span>, index=length)<br><span class="hljs-built_in">print</span>(out)<br><br><br><span class="hljs-comment"># ç»“æœ</span><br><span class="hljs-comment"># tensor([[0.2000, 0.2000, 0.2000, 0.2000],</span><br><span class="hljs-comment">#         [1.1000, 1.1000, 1.1000, 1.1000],</span><br><span class="hljs-comment">#         [2.0000, 2.1000, 2.2000, 2.0000]])</span><br><br></code></pre></td></tr></table></figure><p><span class="math display">\[å–å€¼ç´¢å¼•çŸ©é˜µ =\left[\begin{array}{llll}\mathrm{X}_{02} &amp; \mathrm{X}_{02} &amp; \mathrm{X}_{02} &amp;\mathrm{X}_{02} \\\mathrm{X}_{11} &amp; \mathrm{X}_{11} &amp; \mathrm{X}_{11} &amp;\mathrm{X}_{11} \\\mathrm{X}_{20} &amp; \mathrm{X}_{21} &amp; \mathrm{X}_{22} &amp;\mathrm{X}_{20}\end{array}\right]\]</span></p>]]></content>
    
    
    <categories>
      
      <category>æ·±åº¦å­¦ä¹ </category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ·±åº¦å­¦ä¹ </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ¯å‘¨æ€»ç»“(23.05.15-23.05.19)</title>
    <link href="/posts/20521/"/>
    <url>/posts/20521/</url>
    
    <content type="html"><![CDATA[<div align = "center"><H3>å·¥ä½œæ€»ç»“</div><p><strong>æ—¥æœŸï¼š2023.05.15-2023.05.19</strong></p><h4 id="paper">1.Paper</h4><p><strong>Titleï¼š</strong><code>NeRF++: Analyzing and Improving Neural Radiance Fields.</code></p><p><strong>æ€»ç»“ï¼š</strong>è¿™ç¯‡è®ºæ–‡ä¸»è¦é’ˆå¯¹ç¥ç»è¾å°„åœº(NeRF_æ–¹æ³•è¿›è¡Œäº†åˆ†æå’Œæ”¹è¿›ã€‚NeRFæ˜¯ä¸€ç§ç”¨äº3Dé‡å»ºå’Œæ¸²æŸ“çš„æ·±åº¦å­¦ä¹ æ¨¡å‹ï¼Œå®ƒé€šè¿‡å»ºç«‹åœºæ™¯ä¸­æ¯ä¸ªç‚¹çš„é¢œè‰²å’Œå¯†åº¦å‡½æ•°æ¥è¡¨ç¤º3Dä¿¡æ¯ï¼Œå¹¶å¯ä»¥ç”Ÿæˆæé«˜è´¨é‡çš„é€¼çœŸå›¾åƒã€‚ä½†è¯¥æ–¹æ³•åœ¨è®­ç»ƒå’Œæµ‹è¯•æ—¶å­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œå¦‚è®¡ç®—æ—¶é—´å’Œå†…å­˜å¼€é”€å¤§ã€ä¸ç¨³å®šæ€§ç­‰ã€‚</p><blockquote><p>ä¸ºæ­¤ï¼ŒNeRF++é€šè¿‡å¼•å…¥å¤šé¡¹æ–°æŠ€æœ¯å¯¹NeRFè¿›è¡Œæ”¹è¿›ï¼ŒåŒ…æ‹¬ï¼š</p><ol type="1"><li>é¦–å…ˆï¼Œæ–‡ç« æå‡ºäº†ä¸€ä¸ªè‡ªé€‚åº”é‡‡æ ·ç­–ç•¥ï¼Œä½¿å¾—æ›´å¤šçš„é‡‡æ ·ç‚¹å¯ä»¥åœ¨ç‰©ä½“è¡¨é¢ä¸Šï¼Œä»è€Œå‡å°‘äº†æ— æ•ˆæ ·æœ¬ï¼Œæé«˜äº†æ¨¡å‹çš„ç²¾åº¦ã€‚</li><li>å…¶æ¬¡ï¼Œæ–‡ç« é€šè¿‡å¢åŠ æ­£åˆ™åŒ–é¡¹å’Œæé«˜ç½‘ç»œæ·±åº¦ï¼Œåœ¨ä¿æŒæ¨¡å‹æ€§èƒ½çš„åŒæ—¶ï¼Œæ˜¾è‘—å‡å°‘äº†å†…å­˜å’Œè®¡ç®—æ—¶é—´çš„æ¶ˆè€—ã€‚</li><li>å¦å¤–ï¼Œæ–‡ç« è¿˜æå‡ºäº†ä¸€ç§æ–°çš„å…‰æºé‡‡æ ·æ–¹æ³•ï¼Œå¯ä»¥åœ¨è¾ƒçŸ­çš„æ—¶é—´å†…å¯¹å¤æ‚å…‰ç…§æƒ…å†µä¸‹çš„åœºæ™¯è¿›è¡Œå¿«é€Ÿä¸”å‡†ç¡®çš„æ¸²æŸ“ã€‚</li><li>æœ€åï¼Œæ–‡ç« è¿˜æå‡ºäº†ä¸€ç§è‡ªåŠ¨æ›å…‰æ§åˆ¶ï¼ˆauto-exposurecontrolï¼‰æ–¹æ³•ï¼Œå¯ä»¥å¸®åŠ©æ¨¡å‹æ›´å¥½åœ°é€‚åº”ä¸åŒçš„åœºæ™¯å…‰ç…§æƒ…å†µã€‚</li></ol><p>NeRF++çš„å®éªŒç»“æœè¡¨æ˜ï¼Œè¯¥æ–¹æ³•åœ¨ç²¾åº¦å’Œæ•ˆç‡æ–¹é¢éƒ½æœ‰æ‰€æé«˜ï¼Œå¯ä»¥å¾ˆå¥½åœ°è§£å†³NeRFæ–¹æ³•å­˜åœ¨çš„é—®é¢˜ã€‚è¿™äº›æ”¹è¿›ä½¿å¾—NeRF++æ–¹æ³•æˆä¸ºä¸€ä¸ªæ›´åŠ ç¨³å®šã€å¯æ‰©å±•ã€é€‚ç”¨äºå¤æ‚åœºæ™¯çš„æ·±åº¦å­¦ä¹ 3Dé‡å»ºå’Œæ¸²æŸ“å·¥å…·ï¼Œå…·æœ‰å¹¿æ³›çš„åº”ç”¨å‰æ™¯ã€‚#### 2.Code</p></blockquote><p>ç»§ç»­ç ”ç©¶å­¦ä¹ NeRF-Pytorchä»£ç ï¼Œå¯¹å…¶è¿›è¡Œé€ä¸€è°ƒè¯•åˆ†æï¼Œäº†è§£NeRFçš„å…·ä½“è¿ä½œåŸç†ä¸å…¶ä½¿ç”¨çš„ä¸€äº›æ–¹æ³•ï¼Œè¿›åº¦ï¼š3/4ã€‚æ­å»ºNeRF++ç¯å¢ƒï¼Œå¹¶æˆåŠŸè¿è¡Œå…¶ä»£ç ï¼Œå¾—åˆ°ç»“æœã€‚</p><h4 id="other">3.Other</h4><ol type="1"><li><p>é€šè¿‡å¯¹ä»£ç çš„è°ƒè¯•ï¼Œå­¦ä¹ åˆ°äº†ä¸€äº›æ–°çš„çŸ¥è¯†ï¼ŒåŒæ—¶ä¹Ÿå¯¹è®ºæ–‡ä¸­æå‡ºçš„ä¸€äº›æ–¹æ³•æœ‰äº†æ›´åŠ æ·±åˆ»çš„äº†è§£ã€‚</p><ul><li><p>ä½ç½®ç¼–ç </p><p>NeRFåœ¨å°†ä½ç½®ä¿¡æ¯è¾“å…¥åˆ°MLPä¸­è¿›è¡Œé¢„æµ‹å‰ï¼Œå¯¹ä½ç½®ä¿¡æ¯è¿›è¡Œäº†ä½ç½®ç¼–ç ï¼Œä»è€Œè§£å†³å¯¹å›¾åƒä¸­é«˜é¢‘ä¿¡æ¯é¢„æµ‹ä¸å‡†ç¡®ï¼Œå¾—åˆ°äº†ç»“æœæ¨¡ç³Šçš„é—®é¢˜ã€‚</p><p>NeRFé€šè¿‡ä¸€ç³»åˆ—çš„[sin,cos]å‡½æ•°ç¼–ç ä½ç½®ä¿¡æ¯ï¼Œå°†ä½ç½®ä¿¡æ¯ä»3ç»´å¢åŠ åˆ°60ç»´ï¼Œå¦‚ä½•å†ä½œä¸ºMLPç½‘ç»œçš„è¾“å…¥ã€‚</p></li><li><p>MLPç½‘ç»œ</p><p>NeRFæœ‰ä¸€ä¸ª8å±‚çš„MLPç½‘ç»œï¼Œç¬¬ä¸€å±‚çš„è¾“å…¥ç»´åº¦ä¸º60ï¼Œè¾“å‡ºä¸º256ï¼Œ<code>ç¬¬äº”å±‚ä¸ºè·¨è¶Šè¿æ¥å±‚</code>ï¼Œå…¶è¾“å…¥çš„ç»´åº¦é¢å¤–å¢åŠ 60ï¼Œè¾“å‡ºä»ç„¶ä¿æŒ256ï¼Œè¯¥æ–¹æ³•å¯ä»¥å¢å¼ºæ¨¡å‹çš„è¡¨ç¤ºèƒ½åŠ›å’Œæ³›åŒ–æ€§èƒ½ï¼Œå¹¶å‡å°‘è®­ç»ƒæ—¶é—´å’Œå¤æ‚åº¦ï¼Œè¿™8å±‚çº¿æ€§è¿æ¥å±‚çš„æ¿€æ´»å‡½æ•°éƒ½ä¸ºReLUã€‚å†ç»å†8å±‚è¿æ¥å±‚åï¼Œé¢å¤–å¢åŠ ä¸€å±‚256ç‰¹å¾çš„çº¿æ€§å±‚ï¼Œå…¶è¾“å‡ºç»´åº¦ä¸º128ï¼Œç”¨æ¥è¾“å‡ºç‚¹çš„å¯†åº¦densityï¼ŒåŒæ—¶è¿™ä¸€å±‚åŠ å…¥æ–¹å‘åæ ‡ç»´åº¦ç”¨æ¥è¾“å‡ºRGBä¿¡æ¯ã€‚</p></li></ul></li><li><p>å­¦ä¹ äº†ä¸€äº›YOLOç›®æ ‡æ£€æµ‹çš„çŸ¥è¯†ã€‚</p></li></ol>]]></content>
    
    
    <categories>
      
      <category>æ¯å‘¨å›é¡¾</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ€»ç»“&amp;åæ€</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ¯å‘¨æ€»ç»“(23.05.08-23.05.12)</title>
    <link href="/posts/48714/"/>
    <url>/posts/48714/</url>
    
    <content type="html"><![CDATA[<div align = "center"><H3>å·¥ä½œæ€»ç»“</div><p><strong>æ—¥æœŸï¼š2023.05.08-2023.05.12</strong></p><h4 id="paper">1.Paper</h4><p><strong>Titleï¼š</strong><code>NeRF: Representing Scenes as Neural Radiance Fields for View Synthesis</code></p><p><strong>æ€»ç»“ï¼š</strong>NeRFæ˜¯ä¸€ç§åŸºäºç¥ç»ç½‘ç»œçš„è§†å›¾ç»¼åˆæ–¹æ³•ï¼Œå¯ä»¥ä»æœ‰é™æ•°é‡çš„è¾“å…¥è§†å›¾åˆæˆé«˜è´¨é‡ã€é«˜åˆ†è¾¨ç‡çš„æ–°è§†å›¾ã€‚</p><blockquote><ul><li>é‡‡é›†è¾“å…¥æ•°æ®ï¼šä»ä¸åŒè§’åº¦æ‹æ‘„ä¸€ç»„å›¾ç‰‡ï¼ŒåŒæ—¶è®°å½•ç›¸æœºå‚æ•°å’Œæ·±åº¦å€¼ä¿¡æ¯ã€‚</li><li>è¾“å…¥ï¼š5Dåæ ‡(3Dä½ç½®åæ ‡+2Dæ–¹å‘åæ ‡)</li><li>è¾“å‡ºï¼šé€šè¿‡MLPå¤šå±‚æ„ŸçŸ¥æœºè½¬æ¢æˆå¯¹åº”çš„($RGB$)</li><li>é¢„æµ‹æ–°è§†è§’ï¼šå¯¹äºç»™å®šçš„ä»»æ„è§†è§’ï¼Œè®¡ç®—è¯¥è§†è§’ä¸æ¯ä¸ªç©ºé—´ä½ç½®çš„äº¤ç‚¹ï¼Œå¹¶åˆ©ç”¨é¢„å…ˆè®­ç»ƒå¥½çš„ç¥ç»è¾å°„åœºè®¡ç®—é¢œè‰²å’Œé€æ˜åº¦å€¼ã€‚æœ€åï¼ŒåŸºäºå…‰çº¿æŠ•å°„ç®—æ³•ï¼Œå°†è¿™äº›é¢œè‰²å€¼åˆæˆä¸ºä¸€å¼ æ–°çš„å›¾åƒã€‚</li></ul></blockquote><h4 id="code">2.Code</h4><p>å­¦ä¹ NeRF-pytorchä»£ç ,å·²ç»çœ‹äº†1/4çš„ä»£ç ï¼Œäº†è§£äº†ä»£ç çš„è¾“å…¥ï¼Œæ•°æ®çš„è½¬æ¢ä»¥åŠåæ ‡è½´çš„è½¬æ¢ã€‚</p><h4 id="other">3.Other</h4><p>å­¦ä¹ äº†è§†å›¾å˜æ¢ä¸ç›¸æœºå‚æ•°çš„ä¸€äº›åŸºæœ¬çŸ¥è¯†ã€‚</p><p>äº†è§£äº†è§†å›¾å˜æ¢ï¼ŒåŒ…æ‹¬</p><blockquote><ul><li>ç›¸æœºå˜æ¢(camera/view transformation)</li><li>æŠ•å½±å˜æ¢(projection transformation)</li><li>è§†å£å˜æ¢(viewport transformation)</li></ul></blockquote><ol type="1"><li>æŠ•å½±å˜æ¢æ˜¯NeRFä¸­çš„é‡è¦å˜æ¢ï¼ŒåŒ…æ‹¬</li></ol><blockquote><ul><li>æ­£äº¤æŠ•å½±(orthographic projection)</li><li>é€è§†æŠ•å½±(perspection projection)</li></ul></blockquote><p>å®ƒä»¬çš„å˜æ¢çŸ©é˜µåˆ†åˆ«å¦‚ä¸‹ï¼š</p><p><strong>é€è§†æŠ•å½±çŸ©é˜µï¼š</strong> <span class="math display">\[M_{persp \to -ortho} = P=\left[\begin{array}{cccc}n &amp; 0 &amp; 0&amp; 0 \\0 &amp; n &amp; 0 &amp; 0 \\0 &amp; 0 &amp; n+f &amp; -nf \\0&amp; 0 &amp; 0 &amp; 1\end{array}\right]\]</span> <strong>æ­£äº¤æŠ•å½±çŸ©é˜µï¼š</strong> <span class="math display">\[M_{orth}=\left[\begin{array}{cccc}\frac{2}{l-r} &amp; 0 &amp; 0 &amp; 0 \\0 &amp; \frac{2}{b-t}&amp; 0 &amp; 0 \\0 &amp; 0 &amp; \frac{2}{n-f} &amp; 0 \\0 &amp; 0 &amp; 0 &amp; 1\end{array}\right]\left[\begin{array}{cccc}1 &amp; 0 &amp; 0 &amp; -\frac{r+l}{2} \\0 &amp; 1 &amp; 0 &amp; -\frac{t+b}{2} \\0 &amp; 0 &amp; 1 &amp; -\frac{n+f}{2} \\0 &amp; 0 &amp; 0 &amp; 1\end{array}\right]=\left[\begin{array}{cccc}\frac{2}{l-r} &amp; 0 &amp; 0 &amp; -\frac{r+l}{2} \\0 &amp; \frac{2}{b-t}&amp; 0 &amp; -\frac{t+b}{2} \\0 &amp; 0 &amp; \frac{2}{n-f} &amp; -\frac{n+f}{2} \\0 &amp; 0 &amp; 0 &amp; 1\end{array}\right]\]</span></p><ol start="2" type="1"><li><p>ç›¸æœºå‚æ•°</p><p><strong>ç›¸æœºå¤–å‚T:</strong> <span class="math display">\[T=\left[\begin{array}{cc}R &amp; t \\0^T &amp; 1\\\end{array}\right]\]</span></p><p><strong>ç›¸æœºå†…å‚K:</strong> <span class="math display">\[K = \left|\begin{array}{ccc}    f_x &amp; 0 &amp; u_0 \\    0 &amp; f_y &amp; v_0 \\    0 &amp; 0  &amp; 1    \end{array}\right|\]</span></p></li></ol>]]></content>
    
    
    <categories>
      
      <category>æ¯å‘¨å›é¡¾</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æ€»ç»“&amp;åæ€</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>NeRFæºç è§£è¯»</title>
    <link href="/posts/15494/"/>
    <url>/posts/15494/</url>
    
    <content type="html"><![CDATA[<p>imgs : æ ¹æ® .json æ–‡ä»¶åŠ è½½åˆ°çš„æ‰€æœ‰å›¾åƒæ•°æ®ã€‚ï¼ˆNï¼ŒHï¼ŒWï¼Œ4ï¼‰N ä»£è¡¨ç”¨äºtrainã€testã€val çš„æ€»æ•°é‡(4:RGBÎ²) poses : è½¬ç½®çŸ©é˜µã€‚ï¼ˆNï¼Œ4ï¼Œ4ï¼‰render_poses : ç”¨äºæµ‹è¯•çš„ pose ã€‚ï¼ˆ40ï¼Œ4ï¼Œ4ï¼‰ i_split : [[0:train],[train:val], [val:test]]</p><p><em>Î³</em>(<em>p</em>)=(sin(20<em>Ï€p</em>),cos(20<em>Ï€p</em>),â‹¯,sin(2<em>L</em>âˆ’1<em>Ï€p</em>),cos(2<em>L</em>âˆ’1<em>Ï€p</em>))</p><h4 id="å‚æ•°">å‚æ•°</h4><p>images: (138, 400, 400, 4), å›¾åƒæ€»æ•°, é«˜å®½åˆ†åˆ«ä¸º400, 400,4é€šé“(RGBA)</p><p>poses: (138, 4, 4), 138ä¸ªå›¾åƒå¯¹åº”çš„ç›¸æœºä½å§¿(4*4çš„c2wå˜æ¢çŸ©é˜µ)</p><p>render_poses: (40, 4, 4), 40ä¸ªç”¨äºæµ‹è¯•çš„ä½å§¿(4*4çš„c2wå˜æ¢çŸ©é˜µ)</p><p>hwf: (3,), å›¾åƒçš„é«˜å®½å’Œç„¦è·</p><p>i_split: train[0:100], val[0:13], tea-st[0:25]å›¾åƒçš„ç´¢å¼•</p><p>include_input: ç¼–ç ç»“æœæ˜¯å¦åŒ…æ‹¬åŸå§‹åæ ‡</p><p>input_dims: è¾“å…¥æ•°æ®çš„ç»´åº¦</p><p>max_freq_log2: ä½ç½®ç¼–ç å‡½æ•°æœ€å¤§é¢‘ç‡ L-1</p><p>num_freqs: ä½ç½®ç¼–ç å‡½æ•°çš„é¢‘ç‡æ•° L</p><p>log_sampling: é¢‘ç‡æ˜¯å¦ä½¿ç”¨æŒ‡æ•°å¢é•¿</p><p>periodic_fns: ç¼–ç å‡½æ•°[sin, cos]</p><p>embed_fns: å­˜å‚¨ç¼–ç å‡½æ•°</p><p>out_dim: å­˜å‚¨ç¼–ç åçš„æ€»ç»´åº¦</p><p>embed_fn: ä½ç½®ç¼–ç å™¨</p><p>input_ch: ç¼–ç åçš„æ€»ç»´åº¦(ä½œä¸ºMLPè¾“å…¥æ—¶çš„ç»´åº¦)</p><p>use_viewdirs: ä½¿ç”¨å®Œæ•´çš„5Dåæ ‡</p><p>embeddirs_fn: å­˜å‚¨æ–¹å‘åæ ‡ç¼–ç å‡½æ•°</p><p>input_ch_views: ç¼–ç åçš„æ€»ç»´åº¦(æ–¹å‘åæ ‡)</p><p>netdepth: ç½‘ç»œæ·±åº¦ 8å±‚</p><p>netwidth: ç½‘ç»œå®½åº¦ 256 ç²—ç³™ç½‘ç»œ(coarse network)ä¸Šå– 64 ç‚¹,ç²¾ç»†ç½‘ç»œ(fine network)ä¸Šå– 64 + 128 = 192ä¸ªç‚¹, ä¸€å…±256ä¸ªç‚¹</p><p>input_ch: ä½ç½®åæ ‡è¾“å…¥ç»´åº¦x 63</p><p>output_ch: è¾“å‡ºç»´åº¦ 5 (RGB + density)</p><p>skips: è·³è·ƒè¿æ¥å±‚ ç¬¬äº”å±‚ è¾“å…¥å‘é‡ç»´åº¦ä¸º319</p><p>input_ch_views: è§†è§’æ–¹å‘è¾“å…¥ç»´åº¦d 27</p><p>use_viewdirs: æ˜¯å¦ä½¿ç”¨è§†è§’æ–¹å‘</p><p>pst_linears: å­˜å‚¨MLPçš„8ä¸ªéšè—å±‚(åŒ…å«ä¸€ä¸ªè·¨è¶Šå±‚ï¼Œ319ä¸ªç‰¹å¾è¾“å…¥)</p><p>views_linears:å­˜å‚¨ä¸€ä¸ªé¢å¤–çš„çº¿æ€§å±‚(ç”¨äºè¾“å…¥æ–¹å‘åæ ‡ä¿¡æ¯ï¼Œè¾“å‡ºå¯†åº¦densityï¼Œè¾“å…¥256+27ï¼Œè¾“å‡º128)</p><p>netdepth_fine: ç²¾ç»†ç½‘ç»œæ·±åº¦ 8</p><p>netwidth_fine: ç²¾ç»†ç½‘ç»œç‰¹å¾ 256</p><p>netchunk: ç½‘ç»œæ‰¹é‡å¤„ç†çš„æ•°é‡ 1024<em>64 rays </em> points</p><p>N_rand: æ‰¹é‡å¤§å°(æ¯ä¸ªæ¢¯åº¦çš„éšæœºå°„çº¿æ•°é‡)</p><p>N_samples: æ¯æ¡å°„çº¿çš„ç²—ç³™ç½‘ç»œé‡‡æ ·ç‚¹æ•°</p><p>N_importance: æ¯æ¡å°„çº¿é¢å¤–çš„ç²¾ç»†ç½‘ç»œé‡‡æ ·ç‚¹æ•°</p>]]></content>
    
    
    <categories>
      
      <category>æºç è§£è¯»</category>
      
    </categories>
    
    
    <tags>
      
      <tag>NeRF</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç›¸æœºå‚æ•°</title>
    <link href="/posts/63805/"/>
    <url>/posts/63805/</url>
    
    <content type="html"><![CDATA[<h3 id="ç›¸æœºåæ ‡ç³»">1.ç›¸æœºåæ ‡ç³»</h3><p><img src="1.jpg" /></p><p>ç›¸æœºä¸­æœ‰å››ä¸ªåæ ‡ç³»</p><ul><li>ä¸–ç•Œåæ ‡ç³»ï¼šå¯ä»¥ä»»æ„æŒ‡å®š<spanclass="math inline">\(x_w\)</span>è½´å’Œ<spanclass="math inline">\(y_w\)</span>è½´</li><li>ç›¸æœºåæ ‡ç³»ï¼šåŸç‚¹ä½äºå°å­”ï¼Œzè½´ä¸å…‰è½´é‡åˆï¼Œ<spanclass="math inline">\(x_c\)</span>è½´å’Œ<spanclass="math inline">\(y_c\)</span>è½´å¹³è¡ŒæŠ•å½±é¢</li><li>å›¾åƒåæ ‡ç³»ï¼šåŸç‚¹ä½äºå…‰è½´å’ŒæŠ•å½±é¢çš„äº¤ç‚¹ï¼Œ<spanclass="math inline">\(x_p\)</span>è½´å’Œ<spanclass="math inline">\(y_p\)</span>è½´å¹³è¡ŒæŠ•å½±é¢</li><li>åƒç´ åæ ‡ç³»ï¼šä»å°å­”å‘æŠ•å½±é¢æ–¹å‘çœ‹ï¼ŒæŠ•å½±é¢çš„å·¦ä¸Šè§’ä¸ºåŸç‚¹ï¼Œuvè½´å’ŒæŠ•å½±é¢ä¸¤è¾¹é‡åˆ</li></ul><p>ä¸€èˆ¬æ¥è¯´ï¼Œæ ‡å®šçš„è¿‡ç¨‹åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼š</p><ul><li>ç¬¬ä¸€æ­¥æ˜¯ä»ä¸–ç•Œåæ ‡ç³»è½¬ä¸ºç›¸æœºåæ ‡ç³»ï¼Œè¿™ä¸€æ­¥æ˜¯ä¸‰ç»´ç‚¹åˆ°ä¸‰ç»´ç‚¹çš„è½¬æ¢ï¼ŒåŒ…æ‹¬Rï¼ŒTï¼ˆç›¸æœºå¤–å‚ï¼Œç¡®å®šäº†ç›¸æœºåœ¨æŸä¸ªä¸‰ç»´ç©ºé—´ä¸­çš„ä½ç½®å’Œæœå‘ï¼‰ç­‰å‚æ•°</li><li>ç¬¬äºŒéƒ¨æ˜¯ä»ç›¸æœºåæ ‡ç³»è½¬ä¸ºæˆåƒå¹³é¢åæ ‡ç³»ï¼ˆåƒç´ åæ ‡ç³»ï¼‰ï¼Œè¿™ä¸€æ­¥æ˜¯ä¸‰ç»´ç‚¹åˆ°äºŒç»´ç‚¹çš„è½¬æ¢ï¼ŒåŒ…æ‹¬Kï¼ˆç›¸æœºå†…å‚,æ˜¯å¯¹ç›¸æœºç‰©ç†ç‰¹æ€§çš„è¿‘ä¼¼ï¼‰ç­‰å‚æ•°</li></ul><h3 id="é½æ¬¡åæ ‡ç³»">2.é½æ¬¡åæ ‡ç³»</h3><p>é½æ¬¡åæ ‡(Homogeneouscoordinate)å°±æ˜¯å°†ä¸€ä¸ªåŸæœ¬æ˜¯nç»´çš„å‘é‡ç”¨ä¸€ä¸ªn+1ç»´å‘é‡æ¥è¡¨ç¤ºï¼Œæ˜¯æŒ‡ä¸€ä¸ªç”¨äºæŠ•å½±å‡ ä½•é‡Œçš„åæ ‡ç³»ç»Ÿï¼Œå¦‚åŒç”¨äºæ¬§æ°å‡ ä½•é‡Œçš„ç¬›å¡å„¿åæ ‡ä¸€èˆ¬ã€‚ç»™å‡ºç‚¹çš„é½æ¬¡è¡¨è¾¾å¼[XY H]ï¼Œå°±å¯æ±‚å¾—å…¶äºŒç»´ç¬›å¡å°”åæ ‡ï¼Œå³$ [ X : Y : H ] = [ : : ] = [ X : Y :1 ]$ï¼Œ è¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºå½’ä¸€åŒ–å¤„ç†ã€‚åœ¨å‡ ä½•æ„ä¹‰ä¸Šï¼Œç›¸å½“äºæŠŠå‘ç”Ÿåœ¨ä¸‰ç»´ç©ºé—´çš„å˜æ¢é™åˆ¶åœ¨H=1çš„å¹³é¢å†…ã€‚åŒæ—¶åœ¨é½æ¬¡åæ ‡ç³»ä¸‹<code>(1, 2, 3), (2, 4, 6),(4, 8, 12)</code>å¯¹åº”åŒä¸€ä¸ªæ¬§å‡ é‡Œå¾—ç‚¹<code>(1/3, 2/3)</code>ï¼Œå› æ­¤è¿™äº›ç‚¹æ˜¯åŒä¸€ä¸ªç‚¹ï¼Œè¿™ä½¿å¾—åœ¨é€è§†ç©ºé—´é‡Œï¼Œä¸¤æ¡å¹³è¡Œçº¿å¯ä»¥ç›¸äº¤å¾—åˆ°äº†è§£å†³(è¿‘å¤§è¿œå°)ã€‚</p><p><img src="3.png?100x100" /></p><p>è®¸å¤šå›¾å½¢åº”ç”¨æ¶‰åŠåˆ°å‡ ä½•å˜æ¢ï¼Œä¸»è¦åŒ…æ‹¬<strong>å¹³ç§»ã€æ—‹è½¬ã€ç¼©æ”¾</strong>ã€‚ä»¥çŸ©é˜µè¡¨è¾¾å¼æ¥è®¡ç®—è¿™äº›å˜æ¢æ—¶ï¼Œå¹³ç§»æ˜¯çŸ©é˜µç›¸åŠ ï¼Œæ—‹è½¬å’Œç¼©æ”¾åˆ™æ˜¯çŸ©é˜µç›¸ä¹˜ï¼Œå¼•å…¥é½æ¬¡åæ ‡çš„ç›®çš„ä¸»è¦æ˜¯åˆå¹¶çŸ©é˜µè¿ç®—ä¸­çš„ä¹˜æ³•å’ŒåŠ æ³•ã€‚å¼•å…¥é½æ¬¡åæ ‡åï¼Œå¹³ç§»ã€æ—‹è½¬ã€ç¼©æ”¾å¯ä»¥è¡¨ç¤ºä¸ºï¼š<span class="math display">\[\begin{align}   &amp; å¹³ç§»å˜æ¢ï¼š    \left[\begin{array}{lll}    x^{\prime} &amp; y^{\prime} &amp; 1    \end{array}\right]=\left[\begin{array}{lll}    x &amp; y &amp; 1    \end{array}\right]\left|\begin{array}{ccc}    1 &amp; 0 &amp; 0 \\    0 &amp; 1 &amp; 0 \\    \mathrm{~d} x &amp; \mathrm{~d} y &amp; 1    \end{array}\right|    \quad \\   &amp; æ—‹è½¬å˜æ¢ï¼š    \left[\begin{array}{lll}    x^{\prime} &amp; y^{\prime} &amp; 1    \end{array}\right]=\left[\begin{array}{lll}    x &amp; y &amp; 1    \end{array}\right]\left|\begin{array}{ccc}    \cos{\theta} &amp; \sin{\theta} &amp; 0 \\    -\sin{\theta} &amp; \cos{\theta} &amp; 0 \\    0 &amp; 0  &amp; 1    \end{array}\right|    \quad \\   &amp; ç¼©æ”¾å˜æ¢ï¼š    \left[\begin{array}{lll}    x^{\prime} &amp; y^{\prime} &amp; 1    \end{array}\right]=\left[\begin{array}{lll}    x &amp; y &amp; 1    \end{array}\right]\left|\begin{array}{ccc}    S_x &amp; 0 &amp; 0 \\    0 &amp; S_y &amp; 0 \\    0 &amp; 0  &amp; 1    \end{array}\right|\end{align}\]</span></p><h3 id="ç›¸æœºå†…å¤–å‚æ•°">3.ç›¸æœºå†…å¤–å‚æ•°</h3><ol type="1"><li><p>ç›¸æœºå¤–éƒ¨å‚æ•°</p><blockquote><ul><li>3ä¸ªæ—‹è½¬çŸ©é˜µå‚æ•°R(ç»•x,y,zè½´)</li><li>3ä¸ªå¹³ç§»çŸ©é˜µå‚æ•°T(æ²¿x,y,zè½´)</li></ul></blockquote><p>camera to world(c2w)ï¼š</p><p>è®¾<span class="math inline">\(P_c\)</span>ä¸º<spanclass="math inline">\(P\)</span>åœ¨ç›¸æœºåæ ‡ç³»ä¸‹çš„åæ ‡ï¼Œ<spanclass="math inline">\(P_w\)</span>æ˜¯å…¶åœ¨ä¸–ç•Œåæ ‡ç³»ä¸‹çš„åæ ‡ï¼Œå¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ—‹è½¬çŸ©é˜µ<code>R</code>å’Œä¸€ä¸ªå¹³ç§»å‘é‡<code>t</code>ï¼Œå°†<spanclass="math inline">\(P_c\)</span>å˜æ¢ä¸º<spanclass="math inline">\(P_w\)</span>: <span class="math display">\[P_c = RP_w + t\]</span>å…¶ä¸­<code>R</code>æ˜¯ä¸€ä¸ª3Ã—3çš„æ—‹è½¬çŸ©é˜µï¼Œ<code>t</code>æ˜¯3Ã—1çš„å¹³ç§»å‘é‡ï¼Œä¸€ä¸‹ä¸ºé½æ¬¡åæ ‡å½¢å¼ï¼š<span class="math display">\[\left[\begin{array}{c}X_{c} \\Y_{c} \\Z_{c}\end{array}\right]=\left[\begin{array}{lll}R_{11} &amp; R_{12} &amp; R_{13} \\R_{21} &amp; R_{22} &amp; R_{23} \\R_{31} &amp; R_{32} &amp; R_{33}\end{array}\right]\left[\begin{array}{l}X_{w} \\Y_{w} \\Z_{w}\end{array}\right]+\left[\begin{array}{l}t_{1} \\t_{2} \\t_{3}\end{array}\right]\quad \Rightarrow  \quad\left[\begin{array}{c}X_{c} \\Y_{c} \\Z_{c} \\1\end{array}\right]=\left[\begin{array}{cccc}R_{11} &amp; R_{12} &amp; R_{13} &amp; t_{1} \\R_{21} &amp; R_{22} &amp; R_{23} &amp; t_{2} \\R_{31} &amp; R_{32} &amp; R_{33} &amp; t_{3} \\0 &amp; 0 &amp; 0 &amp; 1\end{array}\right]\left[\begin{array}{c}X_{w} \\Y_{w} \\Z_{w} \\1\end{array}\right]\]</span></p><p>å°†æ—‹è½¬çŸ©é˜µ<code>R</code>å’Œå¹³ç§»å‘é‡<code>t</code>å¸¦å…¥ï¼š <spanclass="math display">\[\left[\begin{array}{c}X_{c} \\Y_{c} \\Z_{c} \\1\end{array}\right]=\left[\begin{array}{cc}R &amp; t \\0^T &amp; 1\\\end{array}\right]\left[\begin{array}{c}X_{w} \\Y_{w} \\Z_{w} \\1\end{array}\right]\]</span> ä¸Šé¢å°±æ¨å¯¼å‡ºäº†ç›¸æœºçš„<code>å¤–éƒ¨å‚æ•°T</code>: <spanclass="math display">\[T=\left[\begin{array}{cc}R &amp; t \\0^T &amp; 1\\\end{array}\right]\]</span></p></li><li><p>ç›¸æœºå†…éƒ¨å‚æ•°</p><p>å†…å‚çŸ©é˜µKä¸ºï¼š <span class="math display">\[K = \left|\begin{array}{ccc}    f_x &amp; 0 &amp; u_0 \\    0 &amp; f_y &amp; v_0 \\    0 &amp; 0  &amp; 1    \end{array}\right|\]</span> <span class="math inline">\(f_x=\frac{f}{d_x} \:,f_y=\frac{f}{d_y}\)</span></p><ul><li><p>fï¼šç„¦è·ï¼Œå•ä½æ¯«ç±³</p></li><li><p>dxï¼šåƒç´ xæ–¹å‘å®½åº¦ï¼Œå•ä½æ¯«ç±³(ä¸€ä¸ªåƒç´ åœ¨æ„Ÿå…‰æ¿ä¸Šæ˜¯å¤šå°‘æ¯«ç±³)</p></li><li><p>f/dxï¼šä½¿ç”¨åƒç´ æ¥æè¿°xè½´æ–¹å‘ç„¦è·çš„é•¿åº¦</p></li><li><p>f/dyï¼šä½¿ç”¨åƒç´ æ¥æè¿°yè½´æ–¹å‘ç„¦è·çš„é•¿åº¦</p></li><li><p>u0,v0,ä¸»ç‚¹çš„å®é™…ä½ç½®ï¼Œå•ä½ä¹Ÿæ˜¯åƒç´ </p></li></ul><blockquote><p>ç›¸æœºä¸­å¿ƒå°„å‡ºçš„ä¸€æ¡å…‰çº¿åœ¨æˆåƒå¹³é¢ä¸Šçš„æŠ•å½±ç‚¹ã€‚å®ƒä¹Ÿè¢«ç§°ä¸ºâ€œä¸»å…‰è½´äº¤ç‚¹â€æˆ–â€œå…‰å¿ƒâ€ã€‚</p></blockquote></li></ol><h3 id="å‚è€ƒ">å‚è€ƒ</h3><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><ahref="https://www.cnblogs.com/wangguchangqing/p/8126333.html#autoid-0-5-0">SLAMå…¥é—¨ä¹‹è§†è§‰é‡Œç¨‹è®¡(2)ï¼šç›¸æœºæ¨¡å‹(å†…å‚æ•°ï¼Œå¤–å‚æ•°)</a><a href="#fnref:1" rev="footnote" class="footnote-backref">â†©ï¸</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>è®¡ç®—æœºå›¾å½¢å­¦</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å›¾å½¢å­¦</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>è§†å›¾å˜æ¢ Viewing transformation</title>
    <link href="/posts/64372/"/>
    <url>/posts/64372/</url>
    
    <content type="html"><![CDATA[<h3 id="è§†å›¾å˜æ¢-viewing-transformation">1.è§†å›¾å˜æ¢ ViewingTransformation</h3><p>è§†å›¾å˜æ¢çš„ç›®çš„æ˜¯å°†ä¸‰ç»´ç©ºé—´ä¸­çš„ç‚¹<span class="math inline">\((x, y,z)\)</span>(åœ¨ä¸–ç•Œåæ ‡ç³»ä¸­)æ˜ å°„åˆ°å¹³é¢å›¾åƒä¸­(äºŒç»´åæ ‡ç³»)ï¼Œä»¥åƒç´ ä¸ºåŸºæœ¬è¡¨ç¤ºå•ä½ã€‚ç±»ä¼¼é€šè¿‡ç›¸æœºæ‹ç…§å¾—åˆ°ä¸€å¼ ç›¸ç‰‡ã€‚è§†å›¾å˜æ¢ä¸»è¦åŒ…æ‹¬ä¸‰ä¸ªæ­¥éª¤ï¼š</p><blockquote><ul><li>ç›¸æœºå˜æ¢(camera/view transformation)</li><li>æŠ•å½±å˜æ¢(projection transformation)</li><li>è§†å£å˜æ¢(viewport transformation)</li></ul></blockquote><figure><img src="6.png" alt="åæ ‡ç³»å®šä¹‰" /><figcaption aria-hidden="true">åæ ‡ç³»å®šä¹‰</figcaption></figure><h3 id="ç›¸æœºå˜æ¢-camera-transformation">2.ç›¸æœºå˜æ¢ CameraTransformation</h3><figure><img src="1.jpg?100Ã—100" alt="ç›¸æœºåæ ‡ç³»ç§»åŠ¨" /><figcaption aria-hidden="true">ç›¸æœºåæ ‡ç³»ç§»åŠ¨</figcaption></figure><p>ç›¸æœºå˜æ¢çš„ç›®çš„æ˜¯å¾—åˆ°æ‰€æœ‰å¯æ˜¯ç‰©ä½“ä¸ç›¸æœºçš„ç›¸å¯¹ä½ç½®ï¼Œé€šå¸¸åŒ…æ‹¬å¹³ç§»ã€æ—‹è½¬ã€ç¼©æ”¾ã€‚</p><p>è§„å®šç›¸æœºæ‹æ‘„æ–¹å‘æœå‘-Zï¼Œç›¸æœºçš„ä½ç½®ä½äºeï¼Œç›¸æœºçš„æ­£ä¸Šæ–¹ç”¨å‘é‡tæ¥è¡¨ç¤ºï¼Œç›¸æœºçš„æœå‘ç”¨gè¡¨ç¤ºï¼Œ<spanclass="math inline">\(\overrightarrow{e}=(x_e, y_e,z_e)\)</span>ã€‚é¦–å…ˆå°†ç›¸æœºç‚¹å¹³ç§»è‡³ä¸–ç•Œåæ ‡åŸç‚¹ï¼Œå¹³ç§»çŸ©é˜µä¸ºï¼š <spanclass="math display">\[T_{\text {view }}=\left[\begin{array}{cccc}1 &amp; 0 &amp; 0 &amp; -x_{e} \\0 &amp; 1 &amp; 0 &amp; -y_{e} \\0 &amp; 0 &amp; 1 &amp; -z_{e} \\0 &amp; 0 &amp; 0 &amp; 1\end{array}\right]\]</span>ç„¶åï¼Œå¯¹ç›¸æœºåæ ‡è¿›è¡Œæ—‹è½¬å˜æ¢ï¼Œä½¿å…¶ä¸ä¸–ç•Œåæ ‡ç³»é‡åˆã€‚éœ€è¦å°†ç›¸æœºæœå‘gæ—‹è½¬åˆ°-Zè½´ä¸Šï¼Œtæ—‹è½¬åˆ°Yè½´ä¸Šï¼Œå†é€šè¿‡gå‰ä¹˜tçš„æ–¹å‘æ—‹è½¬åˆ°Xã€‚ç„¶è€Œï¼Œè¿™ä¸ªæ—‹è½¬å¯¹åº”çš„æ—‹è½¬çŸ©é˜µå¹¶ä¸å®¹æ˜“å†™å‡ºï¼Œä½†æ˜¯å¦‚æœå°†Zæ—‹è½¬åˆ°-gï¼Œå°†Yæ—‹è½¬åˆ°tï¼Œå°†Xæ—‹è½¬åˆ°gå‰ç§¯tçš„æ–¹å‘ï¼Œç›´æ¥å–æ—‹è½¬çŸ©é˜µçš„é€†çŸ©é˜µ<spanclass="math inline">\(R^{-1}=(u,v,w)\)</span>å³å¯<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><spanclass="hint--top hint--rounded"aria-label="[æ—‹è½¬çŸ©é˜µ(Rotate Matrix)çš„æ€§è´¨åˆ†æ](https://www.cnblogs.com/caster99/p/4703033.html)">[1]</span></a></sup>ï¼Œå…¶ä¸­<spanclass="math inline">\(u=\hat{g} \times \hat{t},v=\hat{t},w =-\hat{g}\)</span>ï¼Œå› æ­¤æ—‹è½¬çŸ©é˜µçš„é€†çŸ©é˜µå’Œæ—‹è½¬çŸ©é˜µå¯ä»¥å†™æˆï¼š <spanclass="math display">\[R_{\text {view }}^{-1}=\left[\begin{array}{cccc}x_{\hat{g} \times \hat{t}} &amp; x_{t} &amp; x_{-g} &amp; 0 \\y_{\hat{g} \times \hat{t}} &amp; y_{t} &amp; y_{-g} &amp; 0 \\z_{\hat{g} \times \hat{t}} &amp; z_{t} &amp; z_{-g} &amp; 0 \\0 &amp; 0 &amp; 0 &amp; 1\end{array}\right]\quad \Rightarrow  \quadR_{\text {view }}=\left[\begin{array}{cccc}x_{\hat{g} \times \hat{t}} &amp; y_{\hat{g} \times \hat{t}}  &amp;z_{\hat{g} \times \hat{t}}  &amp; 0 \\x_{t} &amp; y_{t} &amp; z_{t} &amp; 0 \\x_{-g} &amp;  y_{-g} &amp; z_{-g} &amp; 0 \\0 &amp; 0 &amp; 0 &amp; 1\end{array}\right]\]</span> æ‰€ä»¥æœ€ç»ˆçš„ç›¸æœºå˜æ¢çŸ©é˜µä¸ºï¼š<span class="math inline">\(M_{\text{view }}=R_{\text {view }}T_{\text {view }}\)</span>ã€‚</p><blockquote><p>PS:ä»ä¸–ç•Œåæ ‡ç³»å˜æ¢åˆ°ç›¸æœºåæ ‡ç³»å±äºåˆšä½“å˜æ¢ï¼šå³ç‰©ä½“ä¸ä¼šå‘ç”Ÿå½¢å˜ï¼Œåªéœ€è¦è¿›è¡Œæ—‹è½¬å’Œå¹³ç§»ã€‚</p></blockquote><h3 id="æŠ•å½±å˜æ¢-projection-transformation">3.æŠ•å½±å˜æ¢ ProjectionTransformation</h3><figure><img src="3.jpg?100Ã—100" alt="æŠ•å½±å˜æ¢" /><figcaption aria-hidden="true">æŠ•å½±å˜æ¢</figcaption></figure><p>æŠ•å½±å˜æ¢çš„ç›®çš„æ˜¯å°†ç›¸æœºç©ºé—´ä¸­çš„ç‚¹æ˜ å°„åˆ°<spanclass="math inline">\([-1, 1]^3\)</span>çš„ç«‹æ–¹ä½“ä¸Šï¼Œå¹¶ä¸”ç›¸æœº<spanclass="math inline">\(e=0\)</span>çš„å°„çº¿ç©¿è¿‡é‡Œç«‹æ–¹ä½“ä¸­å¿ƒã€‚è¿™æ ·çš„ç«‹æ–¹ä½“å«åšè§„èŒƒè§†å›¾ä½“(CanonicalView Volume)æˆ–è€…æ ‡å‡†åŒ–è®¾å¤‡åæ ‡ç³»(normalized devicecoordinates)ã€‚æŠ•å½±å˜æ¢å¯ä»¥åˆ†ä¸ºä¸¤ä¸ªæ­¥éª¤è¿›è¡Œï¼š</p><blockquote><ul><li>æ­£äº¤æŠ•å½±(orthographic projection)</li><li>é€è§†æŠ•å½±(perspection projection)</li></ul></blockquote><ol type="1"><li><p>é€è§†æŠ•å½±</p><p>é€è§†æŠ•å½±å°±æ˜¯æœ€ç±»ä¼¼äººçœ¼æ‰€çœ‹ä¸œè¥¿çš„æ–¹å¼ï¼Œéµå¾ªè¿‘å¤§è¿œå°ï¼Œé€šè¿‡æŠ•å½±åˆ°å¹³é¢æ¥è¿›è¡Œè§£é‡Šã€‚</p><figure><img src="4.png?100Ã—100" alt="é€è§†æŠ•å½±" /><figcaption aria-hidden="true">é€è§†æŠ•å½±</figcaption></figure><p>å›¾ä¸­çš„åŸç‚¹ä»£è¡¨è§†ç‚¹ï¼Œ<code>Z=-n</code>è¡¨ç¤ºè¿‘å¹³é¢(æŠ•å½±å¹³é¢)ï¼Œ<code>Z=-z</code>è¡¨ç¤ºè¿œå¹³é¢ï¼Œéœ€è¦è¿›è¡Œå‹ç¼©ã€‚åˆ©ç”¨ç›¸ä¼¼ä¸‰è§’å½¢å¯ä»¥è®¡ç®—å‡º<spanclass="math inline">\(y^{&#39;}=\frac{n}{z}y,x^{&#39;}=\frac{n}{z}x\)</span>ï¼Œå‡å®šé€è§†çŸ©é˜µä¸ºPï¼Œæˆ‘ä»¬è®¡ç®—é€è§†æŠ•å½±åçš„é½æ¬¡åæ ‡ã€‚<span class="math display">\[P\left[\begin{array}{c}x  \\y  \\z  \\1\end{array}\right]=\left[\begin{array}{c}nx  \\ny  \\?  \\z\end{array}\right]\quad \Rightarrow  \quadP=\left[\begin{array}{cccc}n &amp; 0 &amp; 0 &amp; 0 \\0 &amp; n &amp; 0 &amp; 0 \\? &amp; ? &amp; ? &amp; ? \\0 &amp; 0 &amp; 0 &amp; 1\end{array}\right]\]</span>ä¸­é—´çš„<code>?</code>å¯ä»¥é€šè¿‡è¿œå¹³é¢<code>Z=-f</code>å’Œè¿‘å¹³é¢<code>Z=-n</code>çš„å€¼æ¥è®¡ç®—ï¼Œå½“<code>Z=-f</code>æ—¶ï¼Œå‰é¢çš„å•ç‹¬<code>?</code>ä¸º<spanclass="math inline">\(f^2\)</span>ï¼Œå½“<code>Z=-n</code>æ—¶ï¼Œå‰é¢çš„å•ç‹¬<code>?</code>ä¸º<spanclass="math inline">\(n^2\)</span>ã€‚å‡è®¾ç¬¬ä¸‰è¡Œä¸º<spanclass="math inline">\((0,0,A,B)\)</span>ï¼Œåˆ†åˆ«å¸¦å…¥<code>n</code>å’Œ<code>f</code>å¯ä»¥åˆ—å‡ºä¸¤ä¸ªç­‰å¼ï¼š<span class="math display">\[\begin{array}{l}A_{n}+B=n^{2} \\A_{f}+B=f^{2} \\\end{array}\quad \Rightarrow \quad\begin{array}{l}A=n+f \\B=-nf \\\end{array}\]</span></p><p>æœ€åçš„é€è§†æŠ•å½±çš„å˜æ¢çŸ©é˜µä¸ºï¼š <span class="math display">\[M_{persp \to -ortho} = P=\left[\begin{array}{cccc}n &amp; 0 &amp; 0&amp; 0 \\0 &amp; n &amp; 0 &amp; 0 \\0 &amp; 0 &amp; n+f &amp; -nf \\0&amp; 0 &amp; 0 &amp; 1\end{array}\right]\]</span>é€šè¿‡è®¡ç®—å¯çŸ¥ï¼Œè¿œå¹³é¢é€šè¿‡é€è§†æŠ•å½±çŸ©é˜µçš„å˜æ¢åï¼Œè¯¥å¹³é¢ä¼šæ²¿ç€Zè½´çš„åå‘ç§»åŠ¨ï¼Œå³è¿œç¦»è¿‘å¹³é¢ã€‚</p></li><li><p>æ­£äº¤æŠ•å½±</p><figure><img src="2.jpg?100Ã—100" alt="æ­£äº¤æŠ•å½±" /><figcaption aria-hidden="true">æ­£äº¤æŠ•å½±</figcaption></figure><p>æ­£äº¤æŠ•å½±å˜æ¢åæ ‡çš„ç›¸å¯¹ä½ç½®éƒ½ä¸ä¼šæ”¹å˜ï¼Œæ‰€æœ‰å…‰çº¿éƒ½æ˜¯å¹³è¡Œä¼ æ’­ï¼Œåªéœ€å°†ç‰©ä½“å…¨éƒ¨è½¬æ¢åˆ°<spanclass="math inline">\([-1,1]^3\)</span>çš„ç«‹æ–¹ä½“ä¸­ï¼Œä¸»è¦çš„æ“ä½œæœ‰å¹³ç§»å’Œæ—‹è½¬ã€‚</p><p>é€šè¿‡è®¡ç®—å¯ä»¥æ±‚å¾—ç«‹æ–¹ä½“çš„ä¸­å¿ƒç‚¹ä¸º<span class="math inline">\((x_0,y_0, z_0)\)</span>ï¼Œå…¶ä¸­<span class="math inline">\(x_0=-\frac{r+l}{2},y_0=-\frac{t+b}{2},z_0=-\frac{n+f}{2}\)</span>ã€‚å› æ­¤å¹³ç§»çŸ©é˜µå¯ä»¥è¡¨ç¤ºä¸º:<span class="math display">\[T=\left[\begin{array}{cccc}1 &amp; 0 &amp; 0 &amp; -\frac{r+l}{2} \\0 &amp; 1 &amp; 0 &amp; -\frac{t+b}{2} \\0 &amp; 0 &amp; 1 &amp; -\frac{n+f}{2} \\0 &amp; 0 &amp; 0 &amp; 1\end{array}\right]\]</span>æ¥ä¸‹æ¥å°±éœ€è¦æ±‚ç¼©æ”¾çŸ©é˜µï¼Œ-1åˆ°1çš„é—´è·ä¸º2ï¼Œè€Œç‰©ä½“åœ¨å„ä¸ªè½´ä¸Šçš„é—´è·åˆ†åˆ«ä¸º<spanclass="math inline">\(\:l-r,b-t,n-f\)</span>ï¼Œå› æ­¤ï¼Œåœ¨å„ä¸ªè½´æ–¹å‘çš„ç¼©æ”¾å› å­å¯ä»¥è¡¨ç¤ºä¸º<spanclass="math inline">\(S_x=\frac{2}{l-r},S_y=\frac{2}{b-t},S_z=\frac{2}{n-f}\)</span>ã€‚æ‰€ä»¥ç¼©æ”¾çŸ©é˜µå¯ä»¥è¡¨ç¤ºä¸ºï¼š<span class="math display">\[S=\left[\begin{array}{cccc}\frac{2}{l-r} &amp; 0 &amp; 0 &amp; 0 \\0 &amp; \frac{2}{b-t}&amp; 0 &amp; 0 \\0 &amp; 0 &amp; \frac{2}{n-f} &amp; 0 \\0 &amp; 0 &amp; 0 &amp; 1\end{array}\right]\]</span>è®¡ç®—å®Œä¸¤ä¸ªçŸ©é˜µä¹‹åï¼Œå¯ä»¥çŸ¥é“æœ€ç»ˆçš„æ­£äº¤æŠ•å½±çŸ©é˜µä¸ºä¸¤ä¸ªçŸ©é˜µçš„ä¹˜ç§¯<spanclass="math inline">\(M_{orth}=S \times T\)</span>: <spanclass="math display">\[M_{orth}=\left[\begin{array}{cccc}\frac{2}{l-r} &amp; 0 &amp; 0 &amp; 0 \\0 &amp; \frac{2}{b-t}&amp; 0 &amp; 0 \\0 &amp; 0 &amp; \frac{2}{n-f} &amp; 0 \\0 &amp; 0 &amp; 0 &amp; 1\end{array}\right]\left[\begin{array}{cccc}1 &amp; 0 &amp; 0 &amp; -\frac{r+l}{2} \\0 &amp; 1 &amp; 0 &amp; -\frac{t+b}{2} \\0 &amp; 0 &amp; 1 &amp; -\frac{n+f}{2} \\0 &amp; 0 &amp; 0 &amp; 1\end{array}\right]=\left[\begin{array}{cccc}\frac{2}{l-r} &amp; 0 &amp; 0 &amp; -\frac{r+l}{2} \\0 &amp; \frac{2}{b-t}&amp; 0 &amp; -\frac{t+b}{2} \\0 &amp; 0 &amp; \frac{2}{n-f} &amp; -\frac{n+f}{2} \\0 &amp; 0 &amp; 0 &amp; 1\end{array}\right]\]</span> 3.æŠ•å½±å˜æ¢çŸ©é˜µ</p><p>é€šè¿‡ä¸Šè¿°çš„ä¸¤ä¸ªçŸ©é˜µçš„ä¹˜ç§¯å¯ä»¥å¾—å‡ºæœ€ç»ˆçš„å˜æ¢çŸ©é˜µ<spanclass="math inline">\(M_{per} = M_{orhto}M_{persp \to -ortho}\)</span><span class="math display">\[M_{per} =\left[\begin{array}{cccc}\frac{2n}{l-r} &amp; 0 &amp; -\frac{l+r}{l-r} &amp; 0 \\0 &amp; \frac{2n}{b-t}&amp; -\frac{b+t}{b-t} &amp; 0 \\0 &amp; 0 &amp; \frac{n+f}{n-f} &amp; -\frac{2nf}{n-f} \\0 &amp; 0 &amp; 1 &amp; 0\end{array}\right]\]</span></p><h3 id="è§†å£å˜æ¢-viewport-transformation">4.è§†å£å˜æ¢ viewporttransformation</h3><p>ç»è¿‡ä¸Šè¿°å˜æ¢ï¼Œå¯ä»¥å°†ä»»æ„ä¸‰ç»´ç©ºé—´ä¸­çš„ç‰©ä½“æŠ•å½±åˆ°æ ‡å‡†ç«‹æ–¹ä½“ä¸Šï¼Œä½†æ˜¯ä¹‹åè¿˜éœ€è¦æŠ•å½±åˆ°<spanclass="math inline">\(2\times2\)</span>çš„äºŒç»´å¹³é¢(æ …æ ¼å›¾åƒ)ä¸Šè¿›è¡Œæ˜¾ç¤ºï¼Œé«˜åº¦ä¸ºHï¼Œå®½åº¦ä¸ºWï¼Œå•ä½ä¸ºåƒç´ ã€‚æ‰€ä»¥ï¼Œéœ€è¦å°†æ ‡å‡†ç«‹æ–¹ä½“ä¸­çš„ä¸­çš„ç‚¹ï¼Œè½¬æ¢åˆ°å±å¹•ä¸Šï¼Œæ‰€ä»¥è¿˜æ˜¯éœ€è¦å…ˆå¹³ç§»ï¼Œå†ç¼©æ”¾ï¼Œå½¢å¼åŒæ­£äº¤çŸ©é˜µï¼š<span class="math display">\[M_{viewport}=\left[\begin{array}{cccc}\frac{W}{2} &amp; 0 &amp; 0 &amp; \frac{W}{2} \\0 &amp; \frac{H}{2}&amp; 0 &amp; \frac{H}{2} \\0 &amp; 0 &amp; 1 &amp; 0 \\0 &amp; 0 &amp; 0 &amp; 1\end{array}\right]\]</span></p><blockquote><p>æ …æ ¼å›¾åƒ(RasterImage)ï¼Œä¹Ÿç§°ä¸ºä½å›¾(Bitmap)ï¼Œæ˜¯ç”±åƒç´ é˜µåˆ—ç»„æˆçš„æ•°å­—å›¾åƒã€‚åœ¨æ …æ ¼å›¾åƒä¸­ï¼Œæ¯ä¸ªåƒç´ éƒ½åŒ…å«ä¸€ä¸ªç‰¹å®šçš„é¢œè‰²å€¼æˆ–ç°åº¦å€¼ï¼Œä»¥æè¿°å›¾åƒä¸­ç›¸åº”ä½ç½®çš„é¢œè‰²å’Œäº®åº¦ã€‚ä¸çŸ¢é‡å›¾å½¢ä¸åŒï¼Œæ …æ ¼å›¾åƒæ˜¯åƒç´ åŒ–å›¾åƒï¼Œå®ƒé€šå¸¸ä½¿ç”¨åƒç´ é˜µåˆ—æ¥è¡¨ç¤ºå›¾åƒã€‚æ¯ä¸ªåƒç´ éƒ½å…·æœ‰ä¸€ä¸ªXå’ŒYåæ ‡ï¼Œå¹¶åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªæ•°å­—å€¼æ¥è¡¨ç¤ºå…¶é¢œè‰²ä¿¡æ¯ã€‚è¿™äº›æ•°å­—å€¼é€šå¸¸ä½¿ç”¨8ä½æˆ–æ›´é«˜ä½æ·±åº¦æ¥è¡¨ç¤ºï¼Œä»¥æä¾›è¶³å¤Ÿçš„ç²¾åº¦æ¥æè¿°å›¾åƒç»†èŠ‚ã€‚</p></blockquote></li></ol><blockquote><p>PS:NeRFä¸­åªéœ€è¦è¿›è¡ŒæŠ•å½±å˜æ¢ã€‚å› ä¸ºNeRFå°†ç›¸å¯¹äºä¸–ç•Œåæ ‡çš„ç›¸æœºåæ ‡ç‚¹ä½œä¸ºMLPçš„è¾“å…¥ï¼Œå®ƒä¹Ÿæ²¡æœ‰ä½¿ç”¨è§†å£å˜æ¢ï¼Œå› ä¸ºä¿¡æ¯æ˜¯ä»å¤šå±‚æ„ŸçŸ¥å™¨(MLP)ä¸­éšå¼æŸ¥è¯¢è€Œä¸æ˜¯ä»æµ‹é‡å¯¹è±¡æ„å»ºçš„ã€‚</p></blockquote><h3 id="å‚è€ƒ">å‚è€ƒ</h3><section class="footnotes"><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><ahref="https://www.cnblogs.com/caster99/p/4703033.html">æ—‹è½¬çŸ©é˜µ(RotateMatrix)çš„æ€§è´¨åˆ†æ</a><a href="#fnref:1" rev="footnote" class="footnote-backref">â†©ï¸</a></span></span></li><li><span id="fn:2" class="footnote-text"><span><ahref="https://zhuanlan.zhihu.com/p/144323332">è®¡ç®—æœºå›¾å½¢å­¦åŸºç¡€å˜æ¢çŸ©é˜µæ€»ç»“(ç¼©æ”¾ï¼Œæ—‹è½¬ï¼Œä½ç§»)</a><a href="#fnref:2" rev="footnote" class="footnote-backref">â†©ï¸</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>è®¡ç®—æœºå›¾å½¢å­¦</category>
      
    </categories>
    
    
    <tags>
      
      <tag>å›¾å½¢å­¦</tag>
      
      <tag>NeRF</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hello-blog</title>
    <link href="/posts/39849/"/>
    <url>/posts/39849/</url>
    
    <content type="html"><![CDATA[<h4 id="å¼€å¯åšå®¢ä¹‹æ—…">å¼€å¯åšå®¢ä¹‹æ—…~</h4><p>ç»ˆäºæŠŠæˆ‘çš„åšå®¢æ­å¥½äº†ï¼Œäº”ä¸€å‡æœŸä¹Ÿç»“æŸäº†ï¼Œé‚£å°±å¼€å¯æ–°çš„å­¦ä¹ ä¹‹æ—…å§ã€‚äº«å—æœ€åçš„ä¸¤å¹´æ ¡å›­æ—¶å…‰ï¼Œåšæƒ³åšçš„ï¼Œå­¦æƒ³å­¦çš„ï¼Œæ„¿æ¯•ä¸šæ—¶è‡ªä¿¡åˆé˜³å…‰ï¼ï¼ï¼</p>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
